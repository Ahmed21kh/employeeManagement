(self.webpackChunkemployeesdb=self.webpackChunkemployeesdb||[]).push([[179],{2011:(Ue,he,k)=>{"use strict";k.d(he,{Dh:()=>j,GT:()=>U,cc:()=>Ee,hO:()=>ge,on:()=>V,pX:()=>ne,xv:()=>Y});var D=k(4650),l=k(127),F=k(6351);Ue=k.hmd(Ue);const Q=["ngOnDestroy"],ne=(ke,ht,wt,jt={})=>new Proxy(ke,{get:(fn,Ut)=>wt.runOutsideAngular(()=>{var Xn;if(ke[Ut])return!(null===(Xn=jt?.spy)||void 0===Xn)&&Xn.get&&jt.spy.get(Ut,ke[Ut]),ke[Ut];if(Q.indexOf(Ut)>-1)return()=>{};const Vt=ht.toPromise().then(Ye=>{const $e=Ye&&Ye[Ut];return"function"==typeof $e?$e.bind(Ye):$e&&$e.then?$e.then(rt=>wt.run(()=>rt)):wt.run(()=>$e)});return new Proxy(()=>{},{get:(Ye,$e)=>Vt[$e],apply:(Ye,$e,rt)=>Vt.then(Ot=>{var bt;const kt=Ot&&Ot(...rt);return!(null===(bt=jt?.spy)||void 0===bt)&&bt.apply&&jt.spy.apply(Ut,rt,kt),kt})})})}),U=(ke,ht)=>{ht.forEach(wt=>{Object.getOwnPropertyNames(wt.prototype||wt).forEach(jt=>{Object.defineProperty(ke.prototype,jt,Object.getOwnPropertyDescriptor(wt.prototype||wt,jt))})})};class G{constructor(ht){return ht}}const j=new D.InjectionToken("angularfire2.app.options"),Y=new D.InjectionToken("angularfire2.app.name");function V(ke,ht,wt){const fn="object"==typeof wt&&wt||{};fn.name=fn.name||"string"==typeof wt&&wt||"[DEFAULT]";const Xn=l.Z.apps.filter(Vt=>Vt&&Vt.name===fn.name)[0]||ht.runOutsideAngular(()=>l.Z.initializeApp(ke,fn));try{JSON.stringify(ke)!==JSON.stringify(Xn.options)&&K("error",`${Xn.name} Firebase App already initialized with different options${Ue.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new G(Xn)}const K=(ke,...ht)=>{(0,D.isDevMode)()&&typeof console<"u"&&console[ke](...ht)},J={provide:G,useFactory:V,deps:[j,D.NgZone,[new D.Optional,Y]]};let ge=(()=>{class ke{constructor(wt){l.Z.registerVersion("angularfire",F.q4.full,"core"),l.Z.registerVersion("angularfire",F.q4.full,"app-compat"),l.Z.registerVersion("angular",D.VERSION.full,wt.toString())}static initializeApp(wt,jt){return{ngModule:ke,providers:[{provide:j,useValue:wt},{provide:Y,useValue:jt}]}}}return ke.\u0275fac=function(wt){return new(wt||ke)(D.\u0275\u0275inject(D.PLATFORM_ID))},ke.\u0275mod=D.\u0275\u0275defineNgModule({type:ke}),ke.\u0275inj=D.\u0275\u0275defineInjector({providers:[J]}),ke})();function Ee(ke,ht,wt,jt,fn){const[,Ut,Xn]=globalThis.\u0275AngularfireInstanceCache.find(Vt=>Vt[0]===ke)||[];if(Ut)return function Se(ke,ht){try{return ke.toString()===ht.toString()}catch{return ke===ht}}(fn,Xn)||(xe("error",`${ht} was already initialized on the ${wt} Firebase App with different settings.${Ae?" You may need to reload as Firebase is not HMR aware.":""}`),xe("warn",{is:fn,was:Xn})),Ut;{const Vt=jt();return globalThis.\u0275AngularfireInstanceCache.push([ke,Vt,fn]),Vt}}const Ae=!!Ue.hot,xe=(ke,...ht)=>{(0,D.isDevMode)()&&typeof console<"u"&&console[ke](...ht)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(Ue,he,k)=>{"use strict";k.d(he,{q4:()=>Om,iC:()=>Wa,fc:()=>Sf,HU:()=>Df,vb:()=>If,JM:()=>zd,u3:()=>Go});var D=k(4650),l=k(5867),F=k(5861),Q=k(9681),ne=k(2090),U=k(4859),G=k(1877),j=k(8766);const Y="@firebase/installations",V="0.5.12",J=`w:${V}`,ge="FIS_v2",ht=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function wt(T){return T instanceof ne.ZR&&T.code.includes("request-failed")}function jt({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function fn(T){return{token:T.token,requestStatus:2,expiresIn:Ot(T.expiresIn),creationTime:Date.now()}}function Ut(T,P){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,F.Z)(function*(T,P){const se=(yield P.json()).error;return ht.create("request-failed",{requestName:T,serverCode:se.code,serverMessage:se.message,serverStatus:se.status})})).apply(this,arguments)}function Vt({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function Ye(T,{refreshToken:P}){const W=Vt(T);return W.append("Authorization",function bt(T){return`${ge} ${T}`}(P)),W}function $e(T){return rt.apply(this,arguments)}function rt(){return(rt=(0,F.Z)(function*(T){const P=yield T();return P.status>=500&&P.status<600?T():P})).apply(this,arguments)}function Ot(T){return Number(T.replace("s","000"))}function kt(T,P){return tt.apply(this,arguments)}function tt(){return(tt=(0,F.Z)(function*({appConfig:T,heartbeatServiceProvider:P},{fid:W}){const se=jt(T),ve=Vt(T),Ce=P.getImmediate({optional:!0});if(Ce){const Lt=yield Ce.getHeartbeatsHeader();Lt&&ve.append("x-firebase-client",Lt)}const lt={method:"POST",headers:ve,body:JSON.stringify({fid:W,authVersion:ge,appId:T.appId,sdkVersion:J})},Pt=yield $e(()=>fetch(se,lt));if(Pt.ok){const Lt=yield Pt.json();return{fid:Lt.fid||W,registrationStatus:2,refreshToken:Lt.refreshToken,authToken:fn(Lt.authToken)}}throw yield Ut("Create Installation",Pt)})).apply(this,arguments)}function ln(T){return new Promise(P=>{setTimeout(P,T)})}const Tr=/^[cdef][\w-]{21}$/;function Kt(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const W=function lr(T){return function _i(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return Tr.test(W)?W:""}catch{return""}}function Bi(T){return`${T.appName}!${T.appId}`}const cr=new Map;function Ln(T,P){const W=Bi(T);Yn(W,P),function Qi(T,P){const W=function Vn(){return!Sn&&"BroadcastChannel"in self&&(Sn=new BroadcastChannel("[Firebase] FID Change"),Sn.onmessage=T=>{Yn(T.data.key,T.data.fid)}),Sn}();W&&W.postMessage({key:T,fid:P}),function vs(){0===cr.size&&Sn&&(Sn.close(),Sn=null)}()}(W,P)}function Yn(T,P){const W=cr.get(T);if(W)for(const se of W)se(P)}let Sn=null;const We="firebase-installations-store";let fi=null;function gt(){return fi||(fi=(0,j.X3)("firebase-installations-database",1,{upgrade:(T,P)=>{0===P&&T.createObjectStore(We)}})),fi}function Mi(T,P){return yn.apply(this,arguments)}function yn(){return(yn=(0,F.Z)(function*(T,P){const W=Bi(T),ve=(yield gt()).transaction(We,"readwrite"),Ce=ve.objectStore(We),ze=yield Ce.get(W);return yield Ce.put(P,W),yield ve.done,(!ze||ze.fid!==P.fid)&&Ln(T,P.fid),P})).apply(this,arguments)}function cn(T){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,F.Z)(function*(T){const P=Bi(T),se=(yield gt()).transaction(We,"readwrite");yield se.objectStore(We).delete(P),yield se.done})).apply(this,arguments)}function Xi(T,P){return ai.apply(this,arguments)}function ai(){return(ai=(0,F.Z)(function*(T,P){const W=Bi(T),ve=(yield gt()).transaction(We,"readwrite"),Ce=ve.objectStore(We),ze=yield Ce.get(W),lt=P(ze);return void 0===lt?yield Ce.delete(W):yield Ce.put(lt,W),yield ve.done,lt&&(!ze||ze.fid!==lt.fid)&&Ln(T,lt.fid),lt})).apply(this,arguments)}function Gn(T){return vn.apply(this,arguments)}function vn(){return(vn=(0,F.Z)(function*(T){let P;const W=yield Xi(T.appConfig,se=>{const ve=es(se),Ce=Xt(T,ve);return P=Ce.registrationPromise,Ce.installationEntry});return""===W.fid?{installationEntry:yield P}:{installationEntry:W,registrationPromise:P}})).apply(this,arguments)}function es(T){return bn(T||{fid:Kt(),registrationStatus:0})}function Xt(T,P){if(0===P.registrationStatus){if(!navigator.onLine)return{installationEntry:P,registrationPromise:Promise.reject(ht.create("app-offline"))};const W={fid:P.fid,registrationStatus:1,registrationTime:Date.now()},se=function nt(T,P){return St.apply(this,arguments)}(T,W);return{installationEntry:W,registrationPromise:se}}return 1===P.registrationStatus?{installationEntry:P,registrationPromise:yr(T)}:{installationEntry:P}}function St(){return(St=(0,F.Z)(function*(T,P){try{const W=yield kt(T,P);return Mi(T.appConfig,W)}catch(W){throw wt(W)&&409===W.customData.serverCode?yield cn(T.appConfig):yield Mi(T.appConfig,{fid:P.fid,registrationStatus:0}),W}})).apply(this,arguments)}function yr(T){return vi.apply(this,arguments)}function vi(){return(vi=(0,F.Z)(function*(T){let P=yield ct(T.appConfig);for(;1===P.registrationStatus;)yield ln(100),P=yield ct(T.appConfig);if(0===P.registrationStatus){const{installationEntry:W,registrationPromise:se}=yield Gn(T);return se||W}return P})).apply(this,arguments)}function ct(T){return Xi(T,P=>{if(!P)throw ht.create("installation-not-found");return bn(P)})}function bn(T){return function li(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function Kn(T,P){return un.apply(this,arguments)}function un(){return(un=(0,F.Z)(function*({appConfig:T,heartbeatServiceProvider:P},W){const se=Jn(T,W),ve=Ye(T,W),Ce=P.getImmediate({optional:!0});if(Ce){const Lt=yield Ce.getHeartbeatsHeader();Lt&&ve.append("x-firebase-client",Lt)}const lt={method:"POST",headers:ve,body:JSON.stringify({installation:{sdkVersion:J,appId:T.appId}})},Pt=yield $e(()=>fetch(se,lt));if(Pt.ok)return fn(yield Pt.json());throw yield Ut("Generate Auth Token",Pt)})).apply(this,arguments)}function Jn(T,{fid:P}){return`${jt(T)}/${P}/authTokens:generate`}function ce(T){return ue.apply(this,arguments)}function ue(){return(ue=(0,F.Z)(function*(T,P=!1){let W;const se=yield Xi(T.appConfig,Ce=>{if(!xt(Ce))throw ht.create("not-registered");const ze=Ce.authToken;if(!P&&Tn(ze))return Ce;if(1===ze.requestStatus)return W=oe(T,P),Ce;{if(!navigator.onLine)throw ht.create("app-offline");const lt=ki(Ce);return W=He(T,lt),lt}});return W?yield W:se.authToken})).apply(this,arguments)}function oe(T,P){return pe.apply(this,arguments)}function pe(){return(pe=(0,F.Z)(function*(T,P){let W=yield me(T.appConfig);for(;1===W.authToken.requestStatus;)yield ln(100),W=yield me(T.appConfig);const se=W.authToken;return 0===se.requestStatus?ce(T,P):se})).apply(this,arguments)}function me(T){return Xi(T,P=>{if(!xt(P))throw ht.create("not-registered");return function we(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(P.authToken)?Object.assign(Object.assign({},P),{authToken:{requestStatus:0}}):P})}function He(T,P){return ot.apply(this,arguments)}function ot(){return(ot=(0,F.Z)(function*(T,P){try{const W=yield Kn(T,P),se=Object.assign(Object.assign({},P),{authToken:W});return yield Mi(T.appConfig,se),W}catch(W){if(!wt(W)||401!==W.customData.serverCode&&404!==W.customData.serverCode){const se=Object.assign(Object.assign({},P),{authToken:{requestStatus:0}});yield Mi(T.appConfig,se)}else yield cn(T.appConfig);throw W}})).apply(this,arguments)}function xt(T){return void 0!==T&&2===T.registrationStatus}function Tn(T){return 2===T.requestStatus&&!function xn(T){const P=Date.now();return P<T.creationTime||T.creationTime+T.expiresIn<P+36e5}(T)}function ki(T){const P={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:P})}function le(){return(le=(0,F.Z)(function*(T){const P=T,{installationEntry:W,registrationPromise:se}=yield Gn(P);return se?se.catch(console.error):ce(P).catch(console.error),W.fid})).apply(this,arguments)}function Qe(){return(Qe=(0,F.Z)(function*(T,P=!1){const W=T;return yield At(W),(yield ce(W,P)).token})).apply(this,arguments)}function At(T){return Re.apply(this,arguments)}function Re(){return(Re=(0,F.Z)(function*(T){const{registrationPromise:P}=yield Gn(T);P&&(yield P)})).apply(this,arguments)}function Wi(T){return ht.create("missing-app-config-values",{valueName:T})}const Ht="installations",Ji=T=>{const P=T.getProvider("app").getImmediate(),W=function ts(T){if(!T||!T.options)throw Wi("App Configuration");if(!T.name)throw Wi("App Name");const P=["projectId","apiKey","appId"];for(const W of P)if(!T.options[W])throw Wi(W);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(P);return{app:P,appConfig:W,heartbeatServiceProvider:(0,Q._getProvider)(P,"heartbeat"),_delete:()=>Promise.resolve()}},Lr=T=>{const P=T.getProvider("app").getImmediate(),W=(0,Q._getProvider)(P,Ht).getImmediate();return{getId:()=>function ae(T){return le.apply(this,arguments)}(W),getToken:ve=>function Fe(T){return Qe.apply(this,arguments)}(W,ve)}};(function Ft(){(0,Q._registerComponent)(new U.wA(Ht,Ji,"PUBLIC")),(0,Q._registerComponent)(new U.wA("installations-internal",Lr,"PRIVATE"))})(),(0,Q.registerVersion)(Y,V),(0,Q.registerVersion)(Y,V,"esm2017");const Ze="@firebase/remote-config",Cn=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class sa{constructor(P,W,se,ve){this.client=P,this.storage=W,this.storageCache=se,this.logger=ve}isCachedDataFresh(P,W){if(!W)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const se=Date.now()-W,ve=se<=P;return this.logger.debug(`Config fetch cache check. Cache age millis: ${se}. Cache max age millis (minimumFetchIntervalMillis setting): ${P}. Is cache hit: ${ve}.`),ve}fetch(P){var W=this;return(0,F.Z)(function*(){const[se,ve]=yield Promise.all([W.storage.getLastSuccessfulFetchTimestampMillis(),W.storage.getLastSuccessfulFetchResponse()]);if(ve&&W.isCachedDataFresh(P.cacheMaxAgeMillis,se))return ve;P.eTag=ve&&ve.eTag;const Ce=yield W.client.fetch(P),ze=[W.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ce.status&&ze.push(W.storage.setLastSuccessfulFetchResponse(Ce)),yield Promise.all(ze),Ce})()}}function al(T=navigator){return T.languages&&T.languages[0]||T.language}class Ra{constructor(P,W,se,ve,Ce,ze){this.firebaseInstallations=P,this.sdkVersion=W,this.namespace=se,this.projectId=ve,this.apiKey=Ce,this.appId=ze}fetch(P){var W=this;return(0,F.Z)(function*(){var se,ve,Ce;const[ze,lt]=yield Promise.all([W.firebaseInstallations.getId(),W.firebaseInstallations.getToken()]),Lt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${W.projectId}/namespaces/${W.namespace}:fetch?key=${W.apiKey}`,Zt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":P.eTag||"*"},Nt={sdk_version:W.sdkVersion,app_instance_id:ze,app_instance_id_token:lt,app_id:W.appId,language_code:al()},Ci={method:"POST",headers:Zt,body:JSON.stringify(Nt)},Kr=fetch(Lt,Ci),wa=new Promise((Oi,qs)=>{P.signal.addEventListener(()=>{const xl=new Error("The operation was aborted.");xl.name="AbortError",qs(xl)})});let yo;try{yield Promise.race([Kr,wa]),yo=yield Kr}catch(Oi){let qs="fetch-client-network";throw"AbortError"===(null===(se=Oi)||void 0===se?void 0:se.name)&&(qs="fetch-timeout"),Cn.create(qs,{originalErrorMessage:null===(ve=Oi)||void 0===ve?void 0:ve.message})}let Ea=yo.status;const Ga=yo.headers.get("ETag")||void 0;let Xc,Tl;if(200===yo.status){let Oi;try{Oi=yield yo.json()}catch(qs){throw Cn.create("fetch-client-parse",{originalErrorMessage:null===(Ce=qs)||void 0===Ce?void 0:Ce.message})}Xc=Oi.entries,Tl=Oi.state}if("INSTANCE_STATE_UNSPECIFIED"===Tl?Ea=500:"NO_CHANGE"===Tl?Ea=304:("NO_TEMPLATE"===Tl||"EMPTY_CONFIG"===Tl)&&(Xc={}),304!==Ea&&200!==Ea)throw Cn.create("fetch-status",{httpStatus:Ea});return{status:Ea,eTag:Ga,config:Xc}})()}}class ns{constructor(P,W){this.client=P,this.storage=W}fetch(P){var W=this;return(0,F.Z)(function*(){const se=(yield W.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return W.attemptFetch(P,se)})()}attemptFetch(P,{throttleEndTimeMillis:W,backoffCount:se}){var ve=this;return(0,F.Z)(function*(){yield function Pd(T,P){return new Promise((W,se)=>{const ve=Math.max(P-Date.now(),0),Ce=setTimeout(W,ve);T.addEventListener(()=>{clearTimeout(Ce),se(Cn.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(P.signal,W);try{const Ce=yield ve.client.fetch(P);return yield ve.storage.deleteThrottleMetadata(),Ce}catch(Ce){if(!function In(T){if(!(T instanceof ne.ZR&&T.customData))return!1;const P=Number(T.customData.httpStatus);return 429===P||500===P||503===P||504===P}(Ce))throw Ce;const ze={throttleEndTimeMillis:Date.now()+(0,ne.$s)(se),backoffCount:se+1};return yield ve.storage.setThrottleMetadata(ze),ve.attemptFetch(P,ze)}})()}}class ll{constructor(P,W,se,ve,Ce){this.app=P,this._client=W,this._storageCache=se,this._storage=ve,this._logger=Ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ko(T,P){var W;const se=T.target.error||void 0;return Cn.create(P,{originalErrorMessage:se&&(null===(W=se)||void 0===W?void 0:W.message)})}const Br="app_namespace_store";class ca{constructor(P,W,se,ve=function la(){return new Promise((T,P)=>{var W;try{const se=indexedDB.open("firebase_remote_config",1);se.onerror=ve=>{P(ko(ve,"storage-open"))},se.onsuccess=ve=>{T(ve.target.result)},se.onupgradeneeded=ve=>{0===ve.oldVersion&&ve.target.result.createObjectStore(Br,{keyPath:"compositeKey"})}}catch(se){P(Cn.create("storage-open",{originalErrorMessage:null===(W=se)||void 0===W?void 0:W.message}))}})}()){this.appId=P,this.appName=W,this.namespace=se,this.openDbPromise=ve}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(P){return this.set("last_fetch_status",P)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(P){return this.set("last_successful_fetch_timestamp_millis",P)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(P){return this.set("last_successful_fetch_response",P)}getActiveConfig(){return this.get("active_config")}setActiveConfig(P){return this.set("active_config",P)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(P){return this.set("active_config_etag",P)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(P){return this.set("throttle_metadata",P)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(P){var W=this;return(0,F.Z)(function*(){const se=yield W.openDbPromise;return new Promise((ve,Ce)=>{var ze;const Pt=se.transaction([Br],"readonly").objectStore(Br),Lt=W.createCompositeKey(P);try{const Zt=Pt.get(Lt);Zt.onerror=Nt=>{Ce(ko(Nt,"storage-get"))},Zt.onsuccess=Nt=>{const Ci=Nt.target.result;ve(Ci?Ci.value:void 0)}}catch(Zt){Ce(Cn.create("storage-get",{originalErrorMessage:null===(ze=Zt)||void 0===ze?void 0:ze.message}))}})})()}set(P,W){var se=this;return(0,F.Z)(function*(){const ve=yield se.openDbPromise;return new Promise((Ce,ze)=>{var lt;const Lt=ve.transaction([Br],"readwrite").objectStore(Br),Zt=se.createCompositeKey(P);try{const Nt=Lt.put({compositeKey:Zt,value:W});Nt.onerror=Ci=>{ze(ko(Ci,"storage-set"))},Nt.onsuccess=()=>{Ce()}}catch(Nt){ze(Cn.create("storage-set",{originalErrorMessage:null===(lt=Nt)||void 0===lt?void 0:lt.message}))}})})()}delete(P){var W=this;return(0,F.Z)(function*(){const se=yield W.openDbPromise;return new Promise((ve,Ce)=>{var ze;const Pt=se.transaction([Br],"readwrite").objectStore(Br),Lt=W.createCompositeKey(P);try{const Zt=Pt.delete(Lt);Zt.onerror=Nt=>{Ce(ko(Nt,"storage-delete"))},Zt.onsuccess=()=>{ve()}}catch(Zt){Ce(Cn.create("storage-delete",{originalErrorMessage:null===(ze=Zt)||void 0===ze?void 0:ze.message}))}})})()}createCompositeKey(P){return[this.appId,this.appName,this.namespace,P].join()}}class Ro{constructor(P){this.storage=P}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var P=this;return(0,F.Z)(function*(){const W=P.storage.getLastFetchStatus(),se=P.storage.getLastSuccessfulFetchTimestampMillis(),ve=P.storage.getActiveConfig(),Ce=yield W;Ce&&(P.lastFetchStatus=Ce);const ze=yield se;ze&&(P.lastSuccessfulFetchTimestampMillis=ze);const lt=yield ve;lt&&(P.activeConfig=lt)})()}setLastFetchStatus(P){return this.lastFetchStatus=P,this.storage.setLastFetchStatus(P)}setLastSuccessfulFetchTimestampMillis(P){return this.lastSuccessfulFetchTimestampMillis=P,this.storage.setLastSuccessfulFetchTimestampMillis(P)}setActiveConfig(P){return this.activeConfig=P,this.storage.setActiveConfig(P)}}function Oo(){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,F.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}!function ws(){(0,Q._registerComponent)(new U.wA("remote-config",function T(P,{instanceIdentifier:W}){const se=P.getProvider("app").getImmediate(),ve=P.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Cn.create("registration-window");if(!(0,ne.hl)())throw Cn.create("indexed-db-unavailable");const{projectId:Ce,apiKey:ze,appId:lt}=se.options;if(!Ce)throw Cn.create("registration-project-id");if(!ze)throw Cn.create("registration-api-key");if(!lt)throw Cn.create("registration-app-id");const Pt=new ca(lt,se.name,W=W||"firebase"),Lt=new Ro(Pt),Zt=new G.Yd(Ze);Zt.logLevel=G.in.ERROR;const Nt=new Ra(ve,Q.SDK_VERSION,W,Ce,ze,lt),Ci=new ns(Nt,Pt),Kr=new sa(Ci,Pt,Lt,Zt),wa=new ll(se,Kr,Lt,Pt,Zt);return function Gl(T){const P=(0,ne.m9)(T);P._initializePromise||(P._initializePromise=P._storageCache.loadFromStorage().then(()=>{P._isInitializationComplete=!0}))}(wa),wa},"PUBLIC").setMultipleInstances(!0)),(0,Q.registerVersion)(Ze,"0.3.11"),(0,Q.registerVersion)(Ze,"0.3.11","esm2017")}();const is="/firebase-messaging-sw.js",oo="/firebase-cloud-messaging-push-scope",Po="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Oa="google.c.a.c_id",rs="google.c.a.c_l",wr="google.c.a.ts",Ar="google.c.a.e";var lo=(()=>{return(T=lo||(lo={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",lo;var T})();function wn(T){const P=new Uint8Array(T);return btoa(String.fromCharCode(...P)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function js(T){const W=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),se=atob(W),ve=new Uint8Array(se.length);for(let Ce=0;Ce<se.length;++Ce)ve[Ce]=se.charCodeAt(Ce);return ve}const Us="fcm_token_details_db",ua="fcm_token_object_Store";function Bc(T){return ni.apply(this,arguments)}function ni(){return ni=(0,F.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ce=>Ce.name).includes(Us))return null;let P=null;return(yield(0,j.X3)(Us,5,{upgrade:(se=(0,F.Z)(function*(ve,Ce,ze,lt){var Pt;if(Ce<2||!ve.objectStoreNames.contains(ua))return;const Lt=lt.objectStore(ua),Zt=yield Lt.index("fcmSenderId").get(T);if(yield Lt.clear(),Zt)if(2===Ce){const Nt=Zt;if(!Nt.auth||!Nt.p256dh||!Nt.endpoint)return;P={token:Nt.fcmToken,createTime:null!==(Pt=Nt.createTime)&&void 0!==Pt?Pt:Date.now(),subscriptionOptions:{auth:Nt.auth,p256dh:Nt.p256dh,endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:"string"==typeof Nt.vapidKey?Nt.vapidKey:wn(Nt.vapidKey)}}}else if(3===Ce){const Nt=Zt;P={token:Nt.fcmToken,createTime:Nt.createTime,subscriptionOptions:{auth:wn(Nt.auth),p256dh:wn(Nt.p256dh),endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:wn(Nt.vapidKey)}}}else if(4===Ce){const Nt=Zt;P={token:Nt.fcmToken,createTime:Nt.createTime,subscriptionOptions:{auth:wn(Nt.auth),p256dh:wn(Nt.p256dh),endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:wn(Nt.vapidKey)}}}}),function(Ce,ze,lt,Pt){return se.apply(this,arguments)})})).close(),yield(0,j.Lj)(Us),yield(0,j.Lj)("fcm_vapid_details_db"),yield(0,j.Lj)("undefined"),da(P)?P:null;var se}),ni.apply(this,arguments)}function da(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:P}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof P.auth&&P.auth.length>0&&"string"==typeof P.p256dh&&P.p256dh.length>0&&"string"==typeof P.endpoint&&P.endpoint.length>0&&"string"==typeof P.swScope&&P.swScope.length>0&&"string"==typeof P.vapidKey&&P.vapidKey.length>0}const ii="firebase-messaging-store";let ha=null;function Lo(){return ha||(ha=(0,j.X3)("firebase-messaging-database",1,{upgrade:(T,P)=>{0===P&&T.createObjectStore(ii)}})),ha}function hr(T){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,F.Z)(function*(T){const P=_e(T),se=yield(yield Lo()).transaction(ii).objectStore(ii).get(P);if(se)return se;{const ve=yield Bc(T.appConfig.senderId);if(ve)return yield R(T,ve),ve}})).apply(this,arguments)}function R(T,P){return z.apply(this,arguments)}function z(){return(z=(0,F.Z)(function*(T,P){const W=_e(T),ve=(yield Lo()).transaction(ii,"readwrite");return yield ve.objectStore(ii).put(P,W),yield ve.done,P})).apply(this,arguments)}function O(T){return q.apply(this,arguments)}function q(){return(q=(0,F.Z)(function*(T){const P=_e(T),se=(yield Lo()).transaction(ii,"readwrite");yield se.objectStore(ii).delete(P),yield se.done})).apply(this,arguments)}function _e({appConfig:T}){return T.appId}const Ie=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vt(T,P){return dn.apply(this,arguments)}function dn(){return(dn=(0,F.Z)(function*(T,P){var W;const se=yield On(T),ve=Yt(P),Ce={method:"POST",headers:se,body:JSON.stringify(ve)};let ze;try{ze=yield(yield fetch(gn(T.appConfig),Ce)).json()}catch(lt){throw Ie.create("token-subscribe-failed",{errorInfo:null===(W=lt)||void 0===W?void 0:W.toString()})}if(ze.error)throw Ie.create("token-subscribe-failed",{errorInfo:ze.error.message});if(!ze.token)throw Ie.create("token-subscribe-no-token");return ze.token})).apply(this,arguments)}function Rn(T,P){return An.apply(this,arguments)}function An(){return(An=(0,F.Z)(function*(T,P){var W;const se=yield On(T),ve=Yt(P.subscriptionOptions),Ce={method:"PATCH",headers:se,body:JSON.stringify(ve)};let ze;try{ze=yield(yield fetch(`${gn(T.appConfig)}/${P.token}`,Ce)).json()}catch(lt){throw Ie.create("token-update-failed",{errorInfo:null===(W=lt)||void 0===W?void 0:W.toString()})}if(ze.error)throw Ie.create("token-update-failed",{errorInfo:ze.error.message});if(!ze.token)throw Ie.create("token-update-no-token");return ze.token})).apply(this,arguments)}function mn(T,P){return mi.apply(this,arguments)}function mi(){return(mi=(0,F.Z)(function*(T,P){var W;const ve={method:"DELETE",headers:yield On(T)};try{const ze=yield(yield fetch(`${gn(T.appConfig)}/${P}`,ve)).json();if(ze.error)throw Ie.create("token-unsubscribe-failed",{errorInfo:ze.error.message})}catch(Ce){throw Ie.create("token-unsubscribe-failed",{errorInfo:null===(W=Ce)||void 0===W?void 0:W.toString()})}})).apply(this,arguments)}function gn({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function On(T){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,F.Z)(function*({appConfig:T,installations:P}){const W=yield P.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${W}`})})).apply(this,arguments)}function Yt({p256dh:T,auth:P,endpoint:W,vapidKey:se}){const ve={web:{endpoint:W,auth:P,p256dh:T}};return se!==Po&&(ve.web.applicationPubKey=se),ve}const Hs=6048e5;function Er(T){return zn.apply(this,arguments)}function zn(){return(zn=(0,F.Z)(function*(T){const P=yield cl(T.swRegistration,T.vapidKey),W={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:P.endpoint,auth:wn(P.getKey("auth")),p256dh:wn(P.getKey("p256dh"))},se=yield hr(T.firebaseDependencies);if(se){if(zs(se.subscriptionOptions,W))return Date.now()>=se.createTime+Hs?Ur(T,{token:se.token,createTime:Date.now(),subscriptionOptions:W}):se.token;try{yield mn(T.firebaseDependencies,se.token)}catch(ve){console.warn(ve)}return Vo(T.firebaseDependencies,W)}return Vo(T.firebaseDependencies,W)})).apply(this,arguments)}function uo(T){return jr.apply(this,arguments)}function jr(){return(jr=(0,F.Z)(function*(T){const P=yield hr(T.firebaseDependencies);P&&(yield mn(T.firebaseDependencies,P.token),yield O(T.firebaseDependencies));const W=yield T.swRegistration.pushManager.getSubscription();return!W||W.unsubscribe()})).apply(this,arguments)}function Ur(T,P){return ho.apply(this,arguments)}function ho(){return(ho=(0,F.Z)(function*(T,P){try{const W=yield Rn(T.firebaseDependencies,P),se=Object.assign(Object.assign({},P),{token:W,createTime:Date.now()});return yield R(T.firebaseDependencies,se),W}catch(W){throw yield uo(T),W}})).apply(this,arguments)}function Vo(T,P){return kr.apply(this,arguments)}function kr(){return(kr=(0,F.Z)(function*(T,P){const se={token:yield vt(T,P),createTime:Date.now(),subscriptionOptions:P};return yield R(T,se),se.token})).apply(this,arguments)}function cl(T,P){return $s.apply(this,arguments)}function $s(){return($s=(0,F.Z)(function*(T,P){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:js(P)})})).apply(this,arguments)}function zs(T,P){return P.vapidKey===T.vapidKey&&P.endpoint===T.endpoint&&P.auth===T.auth&&P.p256dh===T.p256dh}function Li(T){const P={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function ss(T,P){if(!P.notification)return;T.notification={};const W=P.notification.title;W&&(T.notification.title=W);const se=P.notification.body;se&&(T.notification.body=se);const ve=P.notification.image;ve&&(T.notification.image=ve)}(P,T),function Bo(T,P){!P.data||(T.data=P.data)}(P,T),function fo(T,P){var W,se,ve,Ce,ze;if(!(P.fcmOptions||null!==(W=P.notification)&&void 0!==W&&W.click_action))return;T.fcmOptions={};const lt=null!==(ve=null===(se=P.fcmOptions)||void 0===se?void 0:se.link)&&void 0!==ve?ve:null===(Ce=P.notification)||void 0===Ce?void 0:Ce.click_action;lt&&(T.fcmOptions.link=lt);const Pt=null===(ze=P.fcmOptions)||void 0===ze?void 0:ze.analytics_label;Pt&&(T.fcmOptions.analyticsLabel=Pt)}(P,T),P}function Es(T){return"object"==typeof T&&!!T&&Oa in T}function ul(T,P){const W=[];for(let se=0;se<T.length;se++)W.push(T.charAt(se)),se<P.length&&W.push(P.charAt(se));return W.join("")}function Pa(T){return Ie.create("missing-app-config-values",{valueName:T})}ul("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ul("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Nu{constructor(P,W,se){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ve=function ql(T){if(!T||!T.options)throw Pa("App Configuration Object");if(!T.name)throw Pa("App Name");const P=["projectId","apiKey","appId","messagingSenderId"],{options:W}=T;for(const se of P)if(!W[se])throw Pa(se);return{appName:T.name,projectId:W.projectId,apiKey:W.apiKey,appId:W.appId,senderId:W.messagingSenderId}}(P);this.firebaseDependencies={app:P,appConfig:ve,installations:W,analyticsProvider:se}}_delete(){return Promise.resolve()}}function fa(T){return Na.apply(this,arguments)}function Na(){return(Na=(0,F.Z)(function*(T){var P;try{T.swRegistration=yield navigator.serviceWorker.register(is,{scope:oo}),T.swRegistration.update().catch(()=>{})}catch(W){throw Ie.create("failed-service-worker-registration",{browserErrorMessage:null===(P=W)||void 0===P?void 0:P.message})}})).apply(this,arguments)}function dl(T,P){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,F.Z)(function*(T,P){if(!P&&!T.swRegistration&&(yield fa(T)),P||!T.swRegistration){if(!(P instanceof ServiceWorkerRegistration))throw Ie.create("invalid-sw-registration");T.swRegistration=P}})).apply(this,arguments)}function Yl(T,P){return po.apply(this,arguments)}function po(){return(po=(0,F.Z)(function*(T,P){P?T.vapidKey=P:T.vapidKey||(T.vapidKey=Po)})).apply(this,arguments)}function mo(){return(mo=(0,F.Z)(function*(T,P){if(!navigator)throw Ie.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ie.create("permission-blocked");return yield Yl(T,P?.vapidKey),yield dl(T,P?.serviceWorkerRegistration),Er(T)})).apply(this,arguments)}function Cs(T,P,W){return os.apply(this,arguments)}function os(){return(os=(0,F.Z)(function*(T,P,W){const se=Zl(P);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(se,{message_id:W[Oa],message_name:W[rs],message_time:W[wr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Zl(T){switch(T){case lo.NOTIFICATION_CLICKED:return"notification_open";case lo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function hl(){return(hl=(0,F.Z)(function*(T,P){const W=P.data;if(!W.isFirebaseMessaging)return;T.onMessageHandler&&W.messageType===lo.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(Li(W)):T.onMessageHandler.next(Li(W)));const se=W.data;Es(se)&&"1"===se[Ar]&&(yield Cs(T,W.messageType,se))})).apply(this,arguments)}const Hr="@firebase/messaging",Is=T=>{const P=new Nu(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",W=>function pa(T,P){return hl.apply(this,arguments)}(P,W)),P},ci=T=>{const P=T.getProvider("messaging").getImmediate();return{getToken:se=>function jo(T,P){return mo.apply(this,arguments)}(P,se)}};function La(){return Va.apply(this,arguments)}function Va(){return(Va=(0,F.Z)(function*(){try{yield(0,ne.eu)()}catch{return!1}return typeof window<"u"&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Fa(){(0,Q._registerComponent)(new U.wA("messaging",Is,"PUBLIC")),(0,Q._registerComponent)(new U.wA("messaging-internal",ci,"PRIVATE")),(0,Q.registerVersion)(Hr,"0.9.16"),(0,Q.registerVersion)(Hr,"0.9.16","esm2017")}();const Ua="analytics",as="firebase_id",w="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",x="https://www.googletagmanager.com/gtag/js",Z=new G.Yd("@firebase/analytics");function be(T){return Promise.all(T.map(P=>P.catch(W=>W)))}function je(T,P){const W=document.createElement("script");W.src=`${x}?l=${T}&id=${P}`,W.async=!0,document.head.appendChild(W)}function hn(T,P,W,se,ve,Ce){return ri.apply(this,arguments)}function ri(){return(ri=(0,F.Z)(function*(T,P,W,se,ve,Ce){const ze=se[ve];try{if(ze)yield P[ze];else{const Pt=(yield be(W)).find(Lt=>Lt.measurementId===ve);Pt&&(yield P[Pt.appId])}}catch(lt){Z.error(lt)}T("config",ve,Ce)})).apply(this,arguments)}function Ql(T,P,W,se,ve){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,F.Z)(function*(T,P,W,se,ve){try{let Ce=[];if(ve&&ve.send_to){let ze=ve.send_to;Array.isArray(ze)||(ze=[ze]);const lt=yield be(W);for(const Pt of ze){const Lt=lt.find(Nt=>Nt.measurementId===Pt),Zt=Lt&&P[Lt.appId];if(!Zt){Ce=[];break}Ce.push(Zt)}}0===Ce.length&&(Ce=Object.values(P)),yield Promise.all(Ce),T("event",se,ve||{})}catch(Ce){Z.error(Ce)}})).apply(this,arguments)}function Nd(){const T=window.document.getElementsByTagName("script");for(const P of Object.values(T))if(P.src&&P.src.includes(x))return P;return null}const ls=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),bf=new class Xl{constructor(P={},W=1e3){this.throttleMetadata=P,this.intervalMillis=W}getThrottleMetadata(P){return this.throttleMetadata[P]}setThrottleMetadata(P,W){this.throttleMetadata[P]=W}deleteThrottleMetadata(P){delete this.throttleMetadata[P]}};function Fd(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function wf(T){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,F.Z)(function*(T){var P;const{appId:W,apiKey:se}=T,ve={method:"GET",headers:Fd(se)},Ce=w.replace("{app-id}",W),ze=yield fetch(Ce,ve);if(200!==ze.status&&304!==ze.status){let lt="";try{const Pt=yield ze.json();null!==(P=Pt.error)&&void 0!==P&&P.message&&(lt=Pt.error.message)}catch{}throw ls.create("config-fetch-failed",{httpStatus:ze.status,responseMessage:lt})}return ze.json()})).apply(this,arguments)}function Ss(T){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,F.Z)(function*(T,P=bf,W){const{appId:se,apiKey:ve,measurementId:Ce}=T.options;if(!se)throw ls.create("no-app-id");if(!ve){if(Ce)return{measurementId:Ce,appId:se};throw ls.create("no-api-key")}const ze=P.getThrottleMetadata(se)||{backoffCount:0,throttleEndTimeMillis:Date.now()},lt=new $c;return setTimeout((0,F.Z)(function*(){lt.abort()}),void 0!==W?W:6e4),ya({appId:se,apiKey:ve,measurementId:Ce},ze,lt,P)})).apply(this,arguments)}function ya(T,P,W){return $r.apply(this,arguments)}function $r(){return($r=(0,F.Z)(function*(T,{throttleEndTimeMillis:P,backoffCount:W},se,ve=bf){var Ce,ze;const{appId:lt,measurementId:Pt}=T;try{yield Uo(se,P)}catch(Lt){if(Pt)return Z.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pt} provided in the "measurementId" field in the local Firebase config. [${null===(Ce=Lt)||void 0===Ce?void 0:Ce.message}]`),{appId:lt,measurementId:Pt};throw Lt}try{const Lt=yield wf(T);return ve.deleteThrottleMetadata(lt),Lt}catch(Lt){const Zt=Lt;if(!Hc(Zt)){if(ve.deleteThrottleMetadata(lt),Pt)return Z.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pt} provided in the "measurementId" field in the local Firebase config. [${Zt?.message}]`),{appId:lt,measurementId:Pt};throw Lt}const Nt=503===Number(null===(ze=Zt?.customData)||void 0===ze?void 0:ze.httpStatus)?(0,ne.$s)(W,ve.intervalMillis,30):(0,ne.$s)(W,ve.intervalMillis),Ci={throttleEndTimeMillis:Date.now()+Nt,backoffCount:W+1};return ve.setThrottleMetadata(lt,Ci),Z.debug(`Calling attemptFetch again in ${Nt} millis`),ya(T,Ci,se,ve)}})).apply(this,arguments)}function Uo(T,P){return new Promise((W,se)=>{const ve=Math.max(P-Date.now(),0),Ce=setTimeout(W,ve);T.addEventListener(()=>{clearTimeout(Ce),se(ls.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}function Hc(T){if(!(T instanceof ne.ZR&&T.customData))return!1;const P=Number(T.customData.httpStatus);return 429===P||500===P||503===P||504===P}class $c{constructor(){this.listeners=[]}addEventListener(P){this.listeners.push(P)}abort(){this.listeners.forEach(P=>P())}}let Ha,zr;function vl(){return(vl=(0,F.Z)(function*(T,P,W,se,ve){if(ve&&ve.global)T("event",W,se);else{const Ce=yield P;T("event",W,Object.assign(Object.assign({},se),{send_to:Ce}))}})).apply(this,arguments)}function Ef(T){zr=T}function ec(T){Ha=T}function Lu(){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,F.Z)(function*(){var T;if(!(0,ne.hl)())return Z.warn(ls.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(P){return Z.warn(ls.create("indexeddb-unavailable",{errorInfo:null===(T=P)||void 0===T?void 0:T.toString()}).message),!1}return!0})).apply(this,arguments)}function tc(){return(tc=(0,F.Z)(function*(T,P,W,se,ve,Ce,ze){var lt;const Pt=Ss(T);Pt.then(Kr=>{W[Kr.measurementId]=Kr.appId,T.options.measurementId&&Kr.measurementId!==T.options.measurementId&&Z.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Kr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Kr=>Z.error(Kr)),P.push(Pt);const Lt=Lu().then(Kr=>{if(Kr)return se.getId()}),[Zt,Nt]=yield Promise.all([Pt,Lt]);Nd()||je(Ce,Zt.measurementId),zr&&(ve("consent","default",zr),Ef(void 0)),ve("js",new Date);const Ci=null!==(lt=ze?.config)&&void 0!==lt?lt:{};return Ci.origin="firebase",Ci.update=!0,null!=Nt&&(Ci[as]=Nt),ve("config",Zt.measurementId,Ci),Ha&&(ve("set",Ha),ec(void 0)),Zt.measurementId})).apply(this,arguments)}class Ei{constructor(P){this.app=P}_delete(){return delete Wr[this.app.options.appId],Promise.resolve()}}let Wr={},Ho=[];const va={};let _o,us,ba="dataLayer",Un=!1;function zo(T,P,W){!function ju(){const T=[];if((0,ne.ru)()&&T.push("This is a browser extension environment."),(0,ne.zI)()||T.push("Cookies are not available."),T.length>0){const P=T.map((se,ve)=>`(${ve+1}) ${se}`).join(" "),W=ls.create("invalid-analytics-context",{errorInfo:P});Z.warn(W.message)}}();const se=T.options.appId;if(!se)throw ls.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw ls.create("no-api-key");Z.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Wr[se])throw ls.create("already-exists",{id:se});if(!Un){!function Ct(T){let P=[];Array.isArray(window[T])?P=window[T]:window[T]=P}(ba);const{wrappedGtag:Ce,gtagCore:ze}=function Uc(T,P,W,se,ve){let Ce=function(...ze){window[se].push(arguments)};return window[ve]&&"function"==typeof window[ve]&&(Ce=window[ve]),window[ve]=function ga(T,P,W,se){function Ce(){return(Ce=(0,F.Z)(function*(ze,lt,Pt){try{"event"===ze?yield Ql(T,P,W,lt,Pt):"config"===ze?yield hn(T,P,W,se,lt,Pt):"consent"===ze?T("consent","update",Pt):T("set",lt)}catch(Lt){Z.error(Lt)}})).apply(this,arguments)}return function ve(ze,lt,Pt){return Ce.apply(this,arguments)}}(Ce,T,P,W),{gtagCore:Ce,wrappedGtag:window[ve]}}(Wr,Ho,va,ba,"gtag");us=Ce,_o=ze,Un=!0}return Wr[se]=function wl(T,P,W,se,ve,Ce,ze){return tc.apply(this,arguments)}(T,Ho,va,P,_o,ba,W),new Ei(T)}function qc(){return nc.apply(this,arguments)}function nc(){return(nc=(0,F.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}const Hu="@firebase/analytics";!function Wo(){(0,Q._registerComponent)(new U.wA(Ua,(P,{options:W})=>zo(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),W),"PUBLIC")),(0,Q._registerComponent)(new U.wA("analytics-internal",function T(P){try{const W=P.getProvider(Ua).getImmediate();return{logEvent:(se,ve,Ce)=>function ic(T,P,W,se){T=(0,ne.m9)(T),function yl(T,P,W,se,ve){return vl.apply(this,arguments)}(us,Wr[T.app.options.appId],P,W,se).catch(ve=>Z.error(ve))}(W,se,ve,Ce)}}catch(W){throw ls.create("interop-component-reg-failed",{reason:W})}},"PRIVATE")),(0,Q.registerVersion)(Hu,"0.8.0"),(0,Q.registerVersion)(Hu,"0.8.0","esm2017")}();var rc=k(341),El=k(353),Cl=k(6498),$u=k(2868),Zc=k(7770),Hd=k(3334);const Om=new D.Version("7.4.1"),sc="__angularfire_symbol__analyticsIsSupportedValue",oc="__angularfire_symbol__analyticsIsSupported",Rr="__angularfire_symbol__remoteConfigIsSupportedValue",Il="__angularfire_symbol__remoteConfigIsSupported",Ks="__angularfire_symbol__messagingIsSupportedValue",zu="__angularfire_symbol__messagingIsSupported";function zd(T,P,W){if(P){if(1===P.length)return P[0];const Ce=P.filter(ze=>ze.app===W);if(1===Ce.length)return Ce[0]}return W.container.getProvider(T).getImmediate({optional:!0})}globalThis[oc]||(globalThis[oc]=qc().then(T=>globalThis[sc]=T).catch(()=>globalThis[sc]=!1)),globalThis[zu]||(globalThis[zu]=La().then(T=>globalThis[Ks]=T).catch(()=>globalThis[Ks]=!1)),globalThis[Il]||(globalThis[Il]=Oo().then(T=>globalThis[Rr]=T).catch(()=>globalThis[Rr]=!1));const If=(T,P)=>{const W=P?[P]:(0,l.C6)(),se=[];return W.forEach(ve=>{ve.container.getProvider(T).instances.forEach(ze=>{se.includes(ze)||se.push(ze)})}),se};function za(){}class Qc{constructor(P,W=rc.N){this.zone=P,this.delegate=W}now(){return this.delegate.now()}schedule(P,W,se){const ve=this.zone;return this.delegate.schedule(function(ze){ve.runGuarded(()=>{P.apply(this,[ze])})},W,se)}}class Dl{constructor(P){this.zone=P,this.task=null}call(P,W){const se=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",za,{},za,za)),W.pipe((0,$u.b)({next:se,complete:se,error:se})).subscribe(P).add(se)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Df=(()=>{class T{constructor(W){this.ngZone=W,this.outsideAngular=W.runOutsideAngular(()=>new Qc(Zone.current)),this.insideAngular=W.run(()=>new Qc(Zone.current,El.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(W){return new(W||T)(D.\u0275\u0275inject(D.NgZone))},T.\u0275prov=D.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function tr(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function Wu(T){return tr().ngZone.runOutsideAngular(()=>T())}function Ts(T){return tr().ngZone.run(()=>T())}function Sf(T){return T.pipe((0,Zc.QV)(tr().outsideAngular))}function Wa(T){return tr(),function Sl(T){return function(W){return(W=W.lift(new Dl(T.ngZone))).pipe((0,Hd.R)(T.outsideAngular),(0,Zc.QV)(T.insideAngular))}}(tr())(T)}const lc=(T,P)=>function(){const se=arguments;return P&&setTimeout(()=>{"scheduled"===P.state&&P.invoke()},10),Ts(()=>T.apply(void 0,se))},Go=(T,P)=>function(){let W;const se=arguments;for(let Ce=0;Ce<arguments.length;Ce++)"function"==typeof se[Ce]&&(P&&(W||(W=Ts(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",za,{},za,za)))),se[Ce]=lc(se[Ce],W));const ve=Wu(()=>T.apply(this,se));if(!P){if(ve instanceof Cl.y){const Ce=tr();return ve.pipe((0,Hd.R)(Ce.outsideAngular),(0,Zc.QV)(Ce.insideAngular))}return Ts(()=>ve)}return ve instanceof Cl.y?ve.pipe(Wa):ve instanceof Promise?Ts(()=>new Promise((Ce,ze)=>ve.then(lt=>Ts(()=>Ce(lt)),lt=>Ts(()=>ze(lt))))):"function"==typeof ve&&W?function(){return setTimeout(()=>{W&&"scheduled"===W.state&&W.invoke()},10),ve.apply(this,arguments)}:Ts(()=>ve)}},6803:(Ue,he,k)=>{"use strict";k.d(he,{$:()=>Na,A:()=>Kt,B:()=>cr,G:()=>br,H:()=>In,J:()=>wn,L:()=>ei,M:()=>R,N:()=>_e,P:()=>T,Q:()=>Pe,R:()=>za,T:()=>Ie,U:()=>q,V:()=>An,W:()=>mn,X:()=>Yt,Y:()=>Bo,Z:()=>Es,_:()=>ql,a:()=>ec,a0:()=>jo,a1:()=>Cs,a2:()=>Zl,a3:()=>hl,a4:()=>Ki,a5:()=>ci,a6:()=>La,a7:()=>Va,a8:()=>ja,a9:()=>fl,aA:()=>Fm,aB:()=>kf,aC:()=>Wd,aD:()=>ly,aE:()=>pi,aI:()=>wl,aL:()=>dn,aa:()=>ml,ab:()=>Ua,ac:()=>ma,af:()=>Z,ag:()=>je,ah:()=>Ct,ak:()=>jr,al:()=>_a,an:()=>Hc,ao:()=>Wc,ap:()=>wi,aq:()=>gt,ar:()=>dr,as:()=>vr,at:()=>Sn,au:()=>qi,av:()=>Zd,aw:()=>Vn,ax:()=>We,ay:()=>yn,az:()=>Mn,b:()=>zr,c:()=>Lt,d:()=>Kr,e:()=>Nt,f:()=>xf,g:()=>Af,h:()=>Gd,i:()=>Hu,j:()=>dy,k:()=>my,l:()=>Wu,m:()=>Xd,n:()=>Jd,o:()=>_i,q:()=>Xl,r:()=>Sf,s:()=>Df,u:()=>lc,v:()=>Fd});var D=k(5861),l=k(2090),F=k(9681);function G(b,m){var _={};for(var E in b)Object.prototype.hasOwnProperty.call(b,E)&&m.indexOf(E)<0&&(_[E]=b[E]);if(null!=b&&"function"==typeof Object.getOwnPropertySymbols){var L=0;for(E=Object.getOwnPropertySymbols(b);L<E.length;L++)m.indexOf(E[L])<0&&Object.prototype.propertyIsEnumerable.call(b,E[L])&&(_[E[L]]=b[E[L]])}return _}var kt=k(1877),tt=k(4859);const _i={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Kt={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const cr=function lr(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ln=function Bi(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},yi=new l.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Yn=new kt.Yd("@firebase/auth");function Qi(b,...m){Yn.logLevel<=kt.in.ERROR&&Yn.error(`Auth (${F.SDK_VERSION}): ${b}`,...m)}function Sn(b,...m){throw zi(b,...m)}function Vn(b,...m){return zi(b,...m)}function vs(b,m,_){const E=Object.assign(Object.assign({},Ln()),{[m]:_});return new l.LL("auth","Firebase",E).create(m,{appName:b.name})}function Di(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&Sn(b,"argument-error"),vs(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zi(b,...m){if("string"!=typeof b){const _=m[0],E=[...m.slice(1)];return E[0]&&(E[0].appName=b.name),b._errorFactory.create(_,...E)}return yi.create(b,...m)}function We(b,m,..._){if(!b)throw zi(m,..._)}function fi(b){const m="INTERNAL ASSERTION FAILED: "+b;throw Qi(m),new Error(m)}function gt(b,m){b||fi(m)}const Mi=new Map;function yn(b){gt(b instanceof Function,"Expected a class definition");let m=Mi.get(b);return m?(gt(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,Mi.set(b,m),m)}function Xi(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function ai(){return"http:"===Gn()||"https:"===Gn()}function Gn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Xt{constructor(m,_){this.shortDelay=m,this.longDelay=_,gt(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,l.uI)()||(0,l.b$)()}get(){return function vn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ai()||(0,l.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function nt(b,m){gt(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class St{static initialize(m,_,E){this.fetchImpl=m,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},vi=new Xt(3e4,6e4);function ct(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function bn(b,m,_,E){return li.apply(this,arguments)}function li(){return(li=(0,D.Z)(function*(b,m,_,E,L={}){return Kn(b,L,(0,D.Z)(function*(){let $={},fe={};E&&("GET"===m?fe=E:$={body:JSON.stringify(E)});const Oe=(0,l.xO)(Object.assign({key:b.config.apiKey},fe)).slice(1),st=yield b._getAdditionalHeaders();return st["Content-Type"]="application/json",b.languageCode&&(st["X-Firebase-Locale"]=b.languageCode),St.fetch()(ue(b,b.config.apiHost,_,Oe),Object.assign({method:m,headers:st,referrerPolicy:"no-referrer"},$))}))})).apply(this,arguments)}function Kn(b,m,_){return un.apply(this,arguments)}function un(){return(un=(0,D.Z)(function*(b,m,_){b._canInitEmulator=!1;const E=Object.assign(Object.assign({},yr),m);try{const L=new oe(b),$=yield Promise.race([_(),L.promise]);L.clearNetworkTimeout();const fe=yield $.json();if("needConfirmation"in fe)throw pe(b,"account-exists-with-different-credential",fe);if($.ok&&!("errorMessage"in fe))return fe;{const Oe=$.ok?fe.errorMessage:fe.error.message,[st,Je]=Oe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===st)throw pe(b,"credential-already-in-use",fe);if("EMAIL_EXISTS"===st)throw pe(b,"email-already-in-use",fe);if("USER_DISABLED"===st)throw pe(b,"user-disabled",fe);const Mt=E[st]||st.toLowerCase().replace(/[_\s]+/g,"-");if(Je)throw vs(b,Mt,Je);Sn(b,Mt)}}catch(L){if(L instanceof l.ZR)throw L;Sn(b,"network-request-failed")}})).apply(this,arguments)}function Jn(b,m,_,E){return ce.apply(this,arguments)}function ce(){return(ce=(0,D.Z)(function*(b,m,_,E,L={}){const $=yield bn(b,m,_,E,L);return"mfaPendingCredential"in $&&Sn(b,"multi-factor-auth-required",{_serverResponse:$}),$})).apply(this,arguments)}function ue(b,m,_,E){const L=`${m}${_}?${E}`;return b.config.emulator?nt(b.config,L):`${b.config.apiScheme}://${L}`}class oe{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E(Vn(this.auth,"network-request-failed")),vi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pe(b,m,_){const E={appName:b.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const L=Vn(b,m,E);return L.customData._tokenResponse=_,L}function He(){return(He=(0,D.Z)(function*(b,m){return bn(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function ot(b,m){return xt.apply(this,arguments)}function xt(){return(xt=(0,D.Z)(function*(b,m){return bn(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Tn(b,m){return xn.apply(this,arguments)}function xn(){return(xn=(0,D.Z)(function*(b,m){return bn(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function ki(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function le(){return(le=(0,D.Z)(function*(b,m=!1){const _=(0,l.m9)(b),E=yield _.getIdToken(m),L=Qe(E);We(L&&L.exp&&L.auth_time&&L.iat,_.auth,"internal-error");const $="object"==typeof L.firebase?L.firebase:void 0,fe=$?.sign_in_provider;return{claims:L,token:E,authTime:ki(Fe(L.auth_time)),issuedAtTime:ki(Fe(L.iat)),expirationTime:ki(Fe(L.exp)),signInProvider:fe||null,signInSecondFactor:$?.sign_in_second_factor||null}})).apply(this,arguments)}function Fe(b){return 1e3*Number(b)}function Qe(b){var m;const[_,E,L]=b.split(".");if(void 0===_||void 0===E||void 0===L)return Qi("JWT malformed, contained fewer than 3 sections"),null;try{const $=(0,l.tV)(E);return $?JSON.parse($):(Qi("Failed to decode base64 JWT payload"),null)}catch($){return Qi("Caught error parsing JWT payload as JSON",null===(m=$)||void 0===m?void 0:m.toString()),null}}function Re(b,m){return ut.apply(this,arguments)}function ut(){return(ut=(0,D.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(E){throw E instanceof l.ZR&&at(E)&&b.auth.currentUser===b&&(yield b.auth.signOut()),E}})).apply(this,arguments)}function at({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Ke{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const L=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(m);this.timerId=setTimeout((0,D.Z)(function*(){yield _.iteration()}),E)}iteration(){var m=this;return(0,D.Z)(function*(){var _;try{yield m.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(_=E)||void 0===_?void 0:_.code)&&m.schedule(!0))}m.schedule()})()}}class kn{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ki(this.lastLoginAt),this.creationTime=ki(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function It(b){return bi.apply(this,arguments)}function bi(){return(bi=(0,D.Z)(function*(b){var m;const _=b.auth,E=yield b.getIdToken(),L=yield Re(b,Tn(_,{idToken:E}));We(L?.users.length,_,"internal-error");const $=L.users[0];b._notifyReloadListener($);const fe=null!==(m=$.providerUserInfo)&&void 0!==m&&m.length?Ht($.providerUserInfo):[],Oe=Wi(b.providerData,fe),Mt=!!b.isAnonymous&&!(b.email&&$.passwordHash||Oe?.length),Wn={uid:$.localId,displayName:$.displayName||null,photoURL:$.photoUrl||null,email:$.email||null,emailVerified:$.emailVerified||!1,phoneNumber:$.phoneNumber||null,tenantId:$.tenantId||null,providerData:Oe,metadata:new kn($.createdAt,$.lastLoginAt),isAnonymous:Mt};Object.assign(b,Wn)})).apply(this,arguments)}function ts(){return(ts=(0,D.Z)(function*(b){const m=(0,l.m9)(b);yield It(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Wi(b,m){return[...b.filter(E=>!m.some(L=>L.providerId===E.providerId)),...m]}function Ht(b){return b.map(m=>{var{providerId:_}=m,E=G(m,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Ji(){return(Ji=(0,D.Z)(function*(b,m){const _=yield Kn(b,{},(0,D.Z)(function*(){const E=(0,l.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:L,apiKey:$}=b.config,fe=ue(b,L,"/v1/token",`key=${$}`),Oe=yield b._getAdditionalHeaders();return Oe["Content-Type"]="application/x-www-form-urlencoded",St.fetch()(fe,{method:"POST",headers:Oe,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Lr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){We(m.idToken,"internal-error"),We(typeof m.idToken<"u","internal-error"),We(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function At(b){const m=Qe(b);return We(m,"internal-error"),We(typeof m.exp<"u","internal-error"),We(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var E=this;return(0,D.Z)(function*(){return We(!E.accessToken||E.refreshToken,m,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(m,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var E=this;return(0,D.Z)(function*(){const{accessToken:L,refreshToken:$,expiresIn:fe}=yield function Ni(b,m){return Ji.apply(this,arguments)}(m,_);E.updateTokensAndExpiration(L,$,Number(fe))})()}updateTokensAndExpiration(m,_,E){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(m,_){const{refreshToken:E,accessToken:L,expirationTime:$}=_,fe=new Lr;return E&&(We("string"==typeof E,"internal-error",{appName:m}),fe.refreshToken=E),L&&(We("string"==typeof L,"internal-error",{appName:m}),fe.accessToken=L),$&&(We("number"==typeof $,"internal-error",{appName:m}),fe.expirationTime=$),fe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Lr,this.toJSON())}_performRefresh(){return fi("not implemented")}}function Ft(b,m){We("string"==typeof b||typeof b>"u","internal-error",{appName:m})}class Ze{constructor(m){var{uid:_,auth:E,stsTokenManager:L}=m,$=G(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ke(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=$.displayName||null,this.email=$.email||null,this.emailVerified=$.emailVerified||!1,this.phoneNumber=$.phoneNumber||null,this.photoURL=$.photoURL||null,this.isAnonymous=$.isAnonymous||!1,this.tenantId=$.tenantId||null,this.providerData=$.providerData?[...$.providerData]:[],this.metadata=new kn($.createdAt||void 0,$.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,D.Z)(function*(){const E=yield Re(_,_.stsTokenManager.getToken(_.auth,m));return We(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(m){return function ae(b){return le.apply(this,arguments)}(this,m)}reload(){return function Bn(b){return ts.apply(this,arguments)}(this)}_assign(m){this!==m&&(We(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Ze(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var E=this;return(0,D.Z)(function*(){let L=!1;m.idToken&&m.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(m),L=!0),_&&(yield It(E)),yield E.auth._persistUserIfCurrent(E),L&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var m=this;return(0,D.Z)(function*(){const _=yield m.getIdToken();return yield Re(m,function me(b,m){return He.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var E,L,$,fe,Oe,st,Je,Mt;const Wn=null!==(E=_.displayName)&&void 0!==E?E:void 0,Zn=null!==(L=_.email)&&void 0!==L?L:void 0,Or=null!==($=_.phoneNumber)&&void 0!==$?$:void 0,Al=null!==(fe=_.photoURL)&&void 0!==fe?fe:void 0,Qu=null!==(Oe=_.tenantId)&&void 0!==Oe?Oe:void 0,Gm=null!==(st=_._redirectEventId)&&void 0!==st?st:void 0,vy=null!==(Je=_.createdAt)&&void 0!==Je?Je:void 0,dc=null!==(Mt=_.lastLoginAt)&&void 0!==Mt?Mt:void 0,{uid:hc,emailVerified:Xu,isAnonymous:Ju,providerData:ed,stsTokenManager:fc}=_;We(hc&&fc,m,"internal-error");const Km=Lr.fromJSON(this.name,fc);We("string"==typeof hc,m,"internal-error"),Ft(Wn,m.name),Ft(Zn,m.name),We("boolean"==typeof Xu,m,"internal-error"),We("boolean"==typeof Ju,m,"internal-error"),Ft(Or,m.name),Ft(Al,m.name),Ft(Qu,m.name),Ft(Gm,m.name),Ft(vy,m.name),Ft(dc,m.name);const nu=new Ze({uid:hc,auth:m,email:Zn,emailVerified:Xu,displayName:Wn,isAnonymous:Ju,photoURL:Al,phoneNumber:Or,tenantId:Qu,stsTokenManager:Km,createdAt:vy,lastLoginAt:dc});return ed&&Array.isArray(ed)&&(nu.providerData=ed.map(eh=>Object.assign({},eh))),Gm&&(nu._redirectEventId=Gm),nu}static _fromIdTokenResponse(m,_,E=!1){return(0,D.Z)(function*(){const L=new Lr;L.updateFromServerResponse(_);const $=new Ze({uid:_.localId,auth:m,stsTokenManager:L,isAnonymous:E});return yield It($),$})()}}const ei=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,D.Z)(function*(){return!0})()}_set(_,E){var L=this;return(0,D.Z)(function*(){L.storage[_]=E})()}_get(_){var E=this;return(0,D.Z)(function*(){const L=E.storage[_];return void 0===L?null:L})()}_remove(_){var E=this;return(0,D.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return b.type="NONE",b})();function Mn(b,m,_){return`firebase:${b}:${m}:${_}`}class pn{constructor(m,_,E){this.persistence=m,this.auth=_,this.userKey=E;const{config:L,name:$}=this.auth;this.fullUserKey=Mn(this.userKey,L.apiKey,$),this.fullPersistenceKey=Mn("persistence",L.apiKey,$),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,D.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?Ze._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,D.Z)(function*(){if(_.persistence===m)return;const E=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,E?_.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,E="authUser"){return(0,D.Z)(function*(){if(!_.length)return new pn(yn(ei),m,E);const L=(yield Promise.all(_.map(function(){var Je=(0,D.Z)(function*(Mt){if(yield Mt._isAvailable())return Mt});return function(Mt){return Je.apply(this,arguments)}}()))).filter(Je=>Je);let $=L[0]||yn(ei);const fe=Mn(E,m.config.apiKey,m.name);let Oe=null;for(const Je of _)try{const Mt=yield Je._get(fe);if(Mt){const Wn=Ze._fromJSON(m,Mt);Je!==$&&(Oe=Wn),$=Je;break}}catch{}const st=L.filter(Je=>Je._shouldAllowMigration);return $._shouldAllowMigration&&st.length?($=st[0],Oe&&(yield $._set(fe,Oe.toJSON())),yield Promise.all(_.map(function(){var Je=(0,D.Z)(function*(Mt){if(Mt!==$)try{yield Mt._remove(fe)}catch{}});return function(Mt){return Je.apply(this,arguments)}}())),new pn($,m,E)):new pn($,m,E)})()}}function Cn(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(er(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(an(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Vr(m))return"Blackberry";if(bs(m))return"Webos";if(ur(m))return"Safari";if((m.includes("chrome/")||ti(m))&&!m.includes("edge/"))return"Chrome";if(vr(m))return"Android";{const E=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function an(b=(0,l.z$)()){return/firefox\//i.test(b)}function ur(b=(0,l.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function ti(b=(0,l.z$)()){return/crios\//i.test(b)}function er(b=(0,l.z$)()){return/iemobile/i.test(b)}function vr(b=(0,l.z$)()){return/android/i.test(b)}function Vr(b=(0,l.z$)()){return/blackberry/i.test(b)}function bs(b=(0,l.z$)()){return/webos/i.test(b)}function dr(b=(0,l.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function wi(b=(0,l.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function ji(b=(0,l.z$)()){return dr(b)||vr(b)||bs(b)||Vr(b)||/windows phone/i.test(b)||er(b)}function $t(b,m=[]){let _;switch(b){case"Browser":_=Cn((0,l.z$)());break;case"Worker":_=`${Cn((0,l.z$)())}-${b}`;break;default:_=b}const E=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${F.SDK_VERSION}/${E}`}class ro{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const E=$=>new Promise((fe,Oe)=>{try{fe(m($))}catch(st){Oe(st)}});E.onAbort=_,this.queue.push(E);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,D.Z)(function*(){var E;if(_.auth.currentUser===m)return;const L=[];try{for(const $ of _.queue)yield $(m),$.onAbort&&L.push($.onAbort)}catch($){L.reverse();for(const fe of L)try{fe()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=$)||void 0===E?void 0:E.message})}})()}}class Gi{constructor(m,_,E){this.app=m,this.heartbeatServiceProvider=_,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pu(this),this.idTokenSubscription=new Pu(this),this.beforeStateQueue=new ro(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yi,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(m,_){var E=this;return _&&(this._popupRedirectResolver=yn(_)),this._initializationPromise=this.queue((0,D.Z)(function*(){var L,$;if(!E._deleted&&(E.persistenceManager=yield pn.create(E,m),!E._deleted)){if(null!==(L=E._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(_),E.lastNotifiedUid=(null===($=E.currentUser)||void 0===$?void 0:$.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,D.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,D.Z)(function*(){var E;const L=yield _.assertedPersistence.getCurrentUser();let $=L,fe=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Oe=null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId,st=$?._redirectEventId,Je=yield _.tryRedirectSignIn(m);(!Oe||Oe===st)&&Je?.user&&($=Je.user,fe=!0)}if(!$)return _.directlySetCurrentUser(null);if(!$._redirectEventId){if(fe)try{yield _.beforeStateQueue.runMiddleware($)}catch(Oe){$=L,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Oe))}return $?_.reloadAndSetCurrentUserOrClear($):_.directlySetCurrentUser(null)}return We(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===$._redirectEventId?_.directlySetCurrentUser($):_.reloadAndSetCurrentUserOrClear($)})()}tryRedirectSignIn(m){var _=this;return(0,D.Z)(function*(){let E=null;try{E=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,D.Z)(function*(){var E;try{yield It(m)}catch(L){if("auth/network-request-failed"!==(null===(E=L)||void 0===E?void 0:E.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function es(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,D.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,D.Z)(function*(){const E=m?(0,l.m9)(m):null;return E&&We(E.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(E&&E._clone(_))})()}_updateCurrentUser(m,_=!1){var E=this;return(0,D.Z)(function*(){if(!E._deleted)return m&&We(E.tenantId===m.tenantId,E,"tenant-id-mismatch"),_||(yield E.beforeStateQueue.runMiddleware(m)),E.queue((0,D.Z)(function*(){yield E.directlySetCurrentUser(m),E.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,D.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,D.Z)(function*(){yield _.assertedPersistence.setPersistence(yn(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new l.LL("auth","Firebase",m())}onAuthStateChanged(m,_,E){return this.registerStateListener(this.authStateSubscription,m,_,E)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,E){return this.registerStateListener(this.idTokenSubscription,m,_,E)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var E=this;return(0,D.Z)(function*(){const L=yield E.getOrInitRedirectPersistenceManager(_);return null===m?L.removeCurrentUser():L.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,D.Z)(function*(){if(!_.redirectPersistenceManager){const E=m&&yn(m)||_._popupRedirectResolver;We(E,_,"argument-error"),_.redirectPersistenceManager=yield pn.create(_,[yn(E._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,D.Z)(function*(){var E,L;return _._isInitialized&&(yield _.queue((0,D.Z)(function*(){}))),(null===(E=_._currentUser)||void 0===E?void 0:E._redirectEventId)===m?_._currentUser:(null===(L=_.redirectUser)||void 0===L?void 0:L._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,D.Z)(function*(){if(m===_.currentUser)return _.queue((0,D.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,E,L){if(this._deleted)return()=>{};const $="function"==typeof _?_:_.next.bind(_),fe=this._isInitialized?Promise.resolve():this._initializationPromise;return We(fe,this,"internal-error"),fe.then(()=>$(this.currentUser)),"function"==typeof _?m.addObserver(_,E,L):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,D.Z)(function*(){_.currentUser&&_.currentUser!==m&&(_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh()),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=$t(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,D.Z)(function*(){var _;const E={"X-Client-Version":m.clientVersion};m.app.options.appId&&(E["X-Firebase-gmpid"]=m.app.options.appId);const L=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return L&&(E["X-Firebase-Client"]=L),E})()}}function pi(b){return(0,l.m9)(b)}class Pu{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,l.ne)(_=>this.observer=_)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function br(b,m,_){const E=pi(b);We(E._canInitEmulator,E,"emulator-config-failed"),We(/^https?:\/\//.test(m),E,"invalid-emulator-scheme");const L=!!_?.disableWarnings,$=sa(m),{host:fe,port:Oe}=function al(b){const m=sa(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(E);if(L){const $=L[1];return{host:$,port:Ra(E.substr($.length+1))}}{const[$,fe]=E.split(":");return{host:$,port:Ra(fe)}}}(m);E.config.emulator={url:`${$}//${fe}${null===Oe?"":`:${Oe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:fe,port:Oe,protocol:$.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function Pd(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function sa(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function Ra(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class In{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return fi("not implemented")}_getIdTokenResponse(m){return fi("not implemented")}_linkToIdToken(m,_){return fi("not implemented")}_getReauthenticationResolver(m){return fi("not implemented")}}function ns(b,m){return oa.apply(this,arguments)}function oa(){return(oa=(0,D.Z)(function*(b,m){return bn(b,"POST","/v1/accounts:resetPassword",ct(b,m))})).apply(this,arguments)}function Kl(b,m){return ll.apply(this,arguments)}function ll(){return(ll=(0,D.Z)(function*(b,m){return bn(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ko(b,m){return Br.apply(this,arguments)}function Br(){return(Br=(0,D.Z)(function*(b,m){return bn(b,"POST","/v1/accounts:update",ct(b,m))})).apply(this,arguments)}function aa(){return(aa=(0,D.Z)(function*(b,m){return Jn(b,"POST","/v1/accounts:signInWithPassword",ct(b,m))})).apply(this,arguments)}function la(b,m){return ca.apply(this,arguments)}function ca(){return(ca=(0,D.Z)(function*(b,m){return bn(b,"POST","/v1/accounts:sendOobCode",ct(b,m))})).apply(this,arguments)}function Ro(b,m){return ws.apply(this,arguments)}function ws(){return(ws=(0,D.Z)(function*(b,m){return la(b,m)})).apply(this,arguments)}function so(b,m){return qt.apply(this,arguments)}function qt(){return(qt=(0,D.Z)(function*(b,m){return la(b,m)})).apply(this,arguments)}function Oo(b,m){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,D.Z)(function*(b,m){return la(b,m)})).apply(this,arguments)}function is(b,m){return oo.apply(this,arguments)}function oo(){return(oo=(0,D.Z)(function*(b,m){return la(b,m)})).apply(this,arguments)}function No(){return(No=(0,D.Z)(function*(b,m){return Jn(b,"POST","/v1/accounts:signInWithEmailLink",ct(b,m))})).apply(this,arguments)}function rs(){return(rs=(0,D.Z)(function*(b,m){return Jn(b,"POST","/v1/accounts:signInWithEmailLink",ct(b,m))})).apply(this,arguments)}class wr extends In{constructor(m,_,E,L=null){super("password",E),this._email=m,this._password=_,this._tenantId=L}static _fromEmailAndPassword(m,_){return new wr(m,_,"password")}static _fromEmailAndCode(m,_,E=null){return new wr(m,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,D.Z)(function*(){switch(_.signInMethod){case"password":return function Vc(b,m){return aa.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Po(b,m){return No.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Sn(m,"internal-error")}})()}_linkToIdToken(m,_){var E=this;return(0,D.Z)(function*(){switch(E.signInMethod){case"password":return Kl(m,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Oa(b,m){return rs.apply(this,arguments)}(m,{idToken:_,email:E._email,oobCode:E._password});default:Sn(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Ar(b,m){return ao.apply(this,arguments)}function ao(){return(ao=(0,D.Z)(function*(b,m){return Jn(b,"POST","/v1/accounts:signInWithIdp",ct(b,m))})).apply(this,arguments)}class wn extends In{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new wn(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Sn("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:L}=_,$=G(_,["providerId","signInMethod"]);if(!E||!L)return null;const fe=new wn(E,L);return fe.idToken=$.idToken||void 0,fe.accessToken=$.accessToken||void 0,fe.secret=$.secret,fe.nonce=$.nonce,fe.pendingToken=$.pendingToken||null,fe}_getIdTokenResponse(m){return Ar(m,this.buildRequest())}_linkToIdToken(m,_){const E=this.buildRequest();return E.idToken=_,Ar(m,E)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Ar(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,l.xO)(_)}return m}}function js(b,m){return Us.apply(this,arguments)}function Us(){return(Us=(0,D.Z)(function*(b,m){return bn(b,"POST","/v1/accounts:sendVerificationCode",ct(b,m))})).apply(this,arguments)}function ua(){return(ua=(0,D.Z)(function*(b,m){return Jn(b,"POST","/v1/accounts:signInWithPhoneNumber",ct(b,m))})).apply(this,arguments)}function ni(){return(ni=(0,D.Z)(function*(b,m){const _=yield Jn(b,"POST","/v1/accounts:signInWithPhoneNumber",ct(b,m));if(_.temporaryProof)throw pe(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const da={USER_NOT_FOUND:"user-not-found"};function co(){return(co=(0,D.Z)(function*(b,m){return Jn(b,"POST","/v1/accounts:signInWithPhoneNumber",ct(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),da)})).apply(this,arguments)}class ii extends In{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new ii({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new ii({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function Fo(b,m){return ua.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function Bc(b,m){return ni.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function jc(b,m){return co.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:E,verificationCode:L}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:E,code:L}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:E,phoneNumber:L,temporaryProof:$}=m;return E||_||L||$?new ii({verificationId:_,verificationCode:E,phoneNumber:L,temporaryProof:$}):null}}class hr{constructor(m){var _,E,L,$,fe,Oe;const st=(0,l.zd)((0,l.pd)(m)),Je=null!==(_=st.apiKey)&&void 0!==_?_:null,Mt=null!==(E=st.oobCode)&&void 0!==E?E:null,Wn=function ha(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=st.mode)&&void 0!==L?L:null);We(Je&&Mt&&Wn,"argument-error"),this.apiKey=Je,this.operation=Wn,this.code=Mt,this.continueUrl=null!==($=st.continueUrl)&&void 0!==$?$:null,this.languageCode=null!==(fe=st.languageCode)&&void 0!==fe?fe:null,this.tenantId=null!==(Oe=st.tenantId)&&void 0!==Oe?Oe:null}static parseLink(m){const _=function Lo(b){const m=(0,l.zd)((0,l.pd)(b)).link,_=m?(0,l.zd)((0,l.pd)(m)).deep_link_id:null,E=(0,l.zd)((0,l.pd)(b)).deep_link_id;return(E?(0,l.zd)((0,l.pd)(E)).link:null)||E||_||m||b}(m);try{return new hr(_)}catch{return null}}}let R=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,E){return wr._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const L=hr.parseLink(E);return We(L,"argument-error"),wr._fromEmailAndCode(_,L.code,L.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class z{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class O extends z{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class q extends O{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return We("providerId"in _&&"signInMethod"in _,"argument-error"),wn._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return We(m.idToken||m.accessToken,"argument-error"),wn._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return q.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return q.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:L,pendingToken:$,nonce:fe,providerId:Oe}=m;if(!E&&!L&&!_&&!$||!Oe)return null;try{return new q(Oe)._credential({idToken:_,accessToken:E,nonce:fe,pendingToken:$})}catch{return null}}}let _e=(()=>{class b extends O{constructor(){super("facebook.com")}static credential(_){return wn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Pe=(()=>{class b extends O{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return wn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:L}=_;if(!E&&!L)return null;try{return b.credential(E,L)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Ie=(()=>{class b extends O{constructor(){super("github.com")}static credential(_){return wn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class dn extends In{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return Ar(m,this.buildRequest())}_linkToIdToken(m,_){const E=this.buildRequest();return E.idToken=_,Ar(m,E)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Ar(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:L,pendingToken:$}=_;return E&&L&&$&&E===L?new dn(E,$):null}static _create(m,_){return new dn(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class An extends z{constructor(m){We(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return An.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return An.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=dn.fromJSON(m);return We(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:E}=m;if(!_||!E)return null;try{return dn._create(E,_)}catch{return null}}}let mn=(()=>{class b extends O{constructor(){super("twitter.com")}static credential(_,E){return wn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:L}=_;if(!E||!L)return null;try{return b.credential(E,L)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function mi(b,m){return gn.apply(this,arguments)}function gn(){return(gn=(0,D.Z)(function*(b,m){return Jn(b,"POST","/v1/accounts:signUp",ct(b,m))})).apply(this,arguments)}class On{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,E,L=!1){return(0,D.Z)(function*(){const $=yield Ze._fromIdTokenResponse(m,E,L),fe=Ve(E);return new On({user:$,providerId:fe,_tokenResponse:E,operationType:_})})()}static _forOperation(m,_,E){return(0,D.Z)(function*(){yield m._updateTokensIfNecessary(E,!0);const L=Ve(E);return new On({user:m,providerId:L,_tokenResponse:E,operationType:_})})()}}function Ve(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Yt(b){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,D.Z)(function*(b){var m;const _=pi(b);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new On({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield mi(_,{returnSecureToken:!0}),L=yield On._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(L.user),L})).apply(this,arguments)}class Er extends l.ZR{constructor(m,_,E,L){var $;super(_.code,_.message),this.operationType=E,this.user=L,Object.setPrototypeOf(this,Er.prototype),this.customData={appName:m.name,tenantId:null!==($=m.tenantId)&&void 0!==$?$:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(m,_,E,L){return new Er(m,_,E,L)}}function zn(b,m,_,E){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch($=>{throw"auth/multi-factor-auth-required"===$.code?Er._fromErrorAndOperation(b,$,m,E):$})}function uo(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function jr(b,m){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,D.Z)(function*(b,m){const _=(0,l.m9)(b);yield kr(!0,_,m);const{providerUserInfo:E}=yield ot(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),L=uo(E||[]);return _.providerData=_.providerData.filter($=>L.has($.providerId)),L.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function ho(b,m){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,D.Z)(function*(b,m,_=!1){const E=yield Re(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return On._forOperation(b,"link",E)})).apply(this,arguments)}function kr(b,m,_){return cl.apply(this,arguments)}function cl(){return(cl=(0,D.Z)(function*(b,m,_){yield It(m);const L=!1===b?"provider-already-linked":"no-such-provider";We(uo(m.providerData).has(_)===b,m.auth,L)})).apply(this,arguments)}function $s(b,m){return zs.apply(this,arguments)}function zs(){return(zs=(0,D.Z)(function*(b,m,_=!1){var E;const{auth:L}=b,$="reauthenticate";try{const fe=yield Re(b,zn(L,$,m,b),_);We(fe.idToken,L,"internal-error");const Oe=Qe(fe.idToken);We(Oe,L,"internal-error");const{sub:st}=Oe;return We(b.uid===st,L,"user-mismatch"),On._forOperation(b,$,fe)}catch(fe){throw"auth/user-not-found"===(null===(E=fe)||void 0===E?void 0:E.code)&&Sn(L,"user-mismatch"),fe}})).apply(this,arguments)}function Li(b,m){return ss.apply(this,arguments)}function ss(){return(ss=(0,D.Z)(function*(b,m,_=!1){const E="signIn",L=yield zn(b,E,m),$=yield On._fromIdTokenResponse(b,E,L);return _||(yield b._updateCurrentUser($.user)),$})).apply(this,arguments)}function Bo(b,m){return fo.apply(this,arguments)}function fo(){return(fo=(0,D.Z)(function*(b,m){return Li(pi(b),m)})).apply(this,arguments)}function Es(b,m){return ul.apply(this,arguments)}function ul(){return(ul=(0,D.Z)(function*(b,m){const _=(0,l.m9)(b);return yield kr(!1,_,m.providerId),ho(_,m)})).apply(this,arguments)}function ql(b,m){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,D.Z)(function*(b,m){return $s((0,l.m9)(b),m)})).apply(this,arguments)}function Nu(b,m){return fa.apply(this,arguments)}function fa(){return(fa=(0,D.Z)(function*(b,m){return Jn(b,"POST","/v1/accounts:signInWithCustomToken",ct(b,m))})).apply(this,arguments)}function Na(b,m){return dl.apply(this,arguments)}function dl(){return(dl=(0,D.Z)(function*(b,m){const _=pi(b),E=yield Nu(_,{token:m,returnSecureToken:!0}),L=yield On._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(L.user),L})).apply(this,arguments)}class Ws{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?Yl._fromServerResponse(m,_):Sn(m,"internal-error")}}class Yl extends Ws{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new Yl(_)}}function po(b,m,_){var E;We((null===(E=_.url)||void 0===E?void 0:E.length)>0,b,"invalid-continue-uri"),We(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(We(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(We(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function jo(b,m,_){return mo.apply(this,arguments)}function mo(){return(mo=(0,D.Z)(function*(b,m,_){const E=(0,l.m9)(b),L={requestType:"PASSWORD_RESET",email:m};_&&po(E,L,_),yield so(E,L)})).apply(this,arguments)}function Cs(b,m,_){return os.apply(this,arguments)}function os(){return(os=(0,D.Z)(function*(b,m,_){yield ns((0,l.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function Zl(b,m){return pa.apply(this,arguments)}function pa(){return(pa=(0,D.Z)(function*(b,m){yield ko((0,l.m9)(b),{oobCode:m})})).apply(this,arguments)}function hl(b,m){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,D.Z)(function*(b,m){const _=(0,l.m9)(b),E=yield ns(_,{oobCode:m}),L=E.requestType;switch(We(L,_,"internal-error"),L){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":We(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":We(E.mfaInfo,_,"internal-error");default:We(E.email,_,"internal-error")}let $=null;return E.mfaInfo&&($=Ws._fromServerResponse(pi(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:$},operation:L}})).apply(this,arguments)}function Ki(b,m){return Is.apply(this,arguments)}function Is(){return(Is=(0,D.Z)(function*(b,m){const{data:_}=yield hl((0,l.m9)(b),m);return _.email})).apply(this,arguments)}function ci(b,m,_){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,D.Z)(function*(b,m,_){const E=pi(b),L=yield mi(E,{returnSecureToken:!0,email:m,password:_}),$=yield On._fromIdTokenResponse(E,"signIn",L);return yield E._updateCurrentUser($.user),$})).apply(this,arguments)}function La(b,m,_){return Bo((0,l.m9)(b),R.credential(m,_))}function Va(b,m,_){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,D.Z)(function*(b,m,_){const E=(0,l.m9)(b),L={requestType:"EMAIL_SIGNIN",email:m};We(_.handleCodeInApp,E,"argument-error"),_&&po(E,L,_),yield Oo(E,L)})).apply(this,arguments)}function ja(b,m){return"EMAIL_SIGNIN"===hr.parseLink(m)?.operation}function fl(b,m,_){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,D.Z)(function*(b,m,_){const E=(0,l.m9)(b),L=R.credentialWithLink(m,_||Xi());return We(L._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Bo(E,L)})).apply(this,arguments)}function pl(b,m){return go.apply(this,arguments)}function go(){return(go=(0,D.Z)(function*(b,m){return bn(b,"POST","/v1/accounts:createAuthUri",ct(b,m))})).apply(this,arguments)}function ml(b,m){return gl.apply(this,arguments)}function gl(){return(gl=(0,D.Z)(function*(b,m){const E={identifier:m,continueUri:ai()?Xi():"http://localhost"},{signinMethods:L}=yield pl((0,l.m9)(b),E);return L||[]})).apply(this,arguments)}function Ua(b,m){return as.apply(this,arguments)}function as(){return(as=(0,D.Z)(function*(b,m){const _=(0,l.m9)(b),L={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&po(_.auth,L,m);const{email:$}=yield Ro(_.auth,L);$!==b.email&&(yield b.reload())})).apply(this,arguments)}function ma(b,m,_){return te.apply(this,arguments)}function te(){return(te=(0,D.Z)(function*(b,m,_){const E=(0,l.m9)(b),$={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&po(E.auth,$,_);const{email:fe}=yield is(E.auth,$);fe!==b.email&&(yield b.reload())})).apply(this,arguments)}function w(b,m){return x.apply(this,arguments)}function x(){return(x=(0,D.Z)(function*(b,m){return bn(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Z(b,m){return be.apply(this,arguments)}function be(){return(be=(0,D.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const E=(0,l.m9)(b),$={idToken:yield E.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},fe=yield Re(E,w(E.auth,$));E.displayName=fe.displayName||null,E.photoURL=fe.photoUrl||null;const Oe=E.providerData.find(({providerId:st})=>"password"===st);Oe&&(Oe.displayName=E.displayName,Oe.photoURL=E.photoURL),yield E._updateTokensIfNecessary(fe)})).apply(this,arguments)}function je(b,m){return hn((0,l.m9)(b),m,null)}function Ct(b,m){return hn((0,l.m9)(b),null,m)}function hn(b,m,_){return ri.apply(this,arguments)}function ri(){return(ri=(0,D.Z)(function*(b,m,_){const{auth:E}=b,$={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&($.email=m),_&&($.password=_);const fe=yield Re(b,Kl(E,$));yield b._updateTokensIfNecessary(fe,!0)})).apply(this,arguments)}class Ds{constructor(m,_,E={}){this.isNewUser=m,this.providerId=_,this.profile=E}}class ga extends Ds{constructor(m,_,E,L){super(m,_,E),this.username=L}}class Uc extends Ds{constructor(m,_){super(m,"facebook.com",_)}}class Nd extends ga{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class _l extends Ds{constructor(m,_){super(m,"google.com",_)}}class ls extends ga{constructor(m,_,E){super(m,"twitter.com",_,E)}}function _a(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ql(b){var m,_;if(!b)return null;const{providerId:E}=b,L=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},$=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!E&&b?.idToken){const fe=null===(_=null===(m=Qe(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(fe)return new Ds($,"anonymous"!==fe&&"custom"!==fe?fe:null)}if(!E)return null;switch(E){case"facebook.com":return new Uc($,L);case"github.com":return new Nd($,L);case"google.com":return new _l($,L);case"twitter.com":return new ls($,L,b.screenName||null);case"custom":case"anonymous":return new Ds($,null);default:return new Ds($,E,L)}}(_)}function Xl(b,m,_,E){return(0,l.m9)(b).onIdTokenChanged(m,_,E)}function Fd(b,m,_,E){return(0,l.m9)(b).onAuthStateChanged(m,_,E)}class $r{constructor(m,_){this.type=m,this.credential=_}static _fromIdtoken(m){return new $r("enroll",m)}static _fromMfaPendingCredential(m){return new $r("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,E;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return $r._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(E=m.multiFactorSession)&&void 0!==E&&E.idToken)return $r._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Uo{constructor(m,_,E){this.session=m,this.hints=_,this.signInResolver=E}static _fromError(m,_){const E=pi(m),L=_.customData._serverResponse,$=(L.mfaInfo||[]).map(Oe=>Ws._fromServerResponse(E,Oe));We(L.mfaPendingCredential,E,"internal-error");const fe=$r._fromMfaPendingCredential(L.mfaPendingCredential);return new Uo(fe,$,function(){var Oe=(0,D.Z)(function*(st){const Je=yield st._process(E,fe);delete L.mfaInfo,delete L.mfaPendingCredential;const Mt=Object.assign(Object.assign({},L),{idToken:Je.idToken,refreshToken:Je.refreshToken});switch(_.operationType){case"signIn":const Wn=yield On._fromIdTokenResponse(E,_.operationType,Mt);return yield E._updateCurrentUser(Wn.user),Wn;case"reauthenticate":return We(_.user,E,"internal-error"),On._forOperation(_.user,_.operationType,Mt);default:Sn(E,"internal-error")}});return function(st){return Oe.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,D.Z)(function*(){return _.signInResolver(m)})()}}function Hc(b,m){var _;const E=(0,l.m9)(b),L=m;return We(m.customData.operationType,E,"argument-error"),We(null===(_=L.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),Uo._fromError(E,L)}function $c(b,m){return bn(b,"POST","/v2/accounts/mfaEnrollment:start",ct(b,m))}class vl{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>Ws._fromServerResponse(m.auth,E)))})}static _fromUser(m){return new vl(m)}getSession(){var m=this;return(0,D.Z)(function*(){return $r._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,_){var E=this;return(0,D.Z)(function*(){const L=m,$=yield E.getSession(),fe=yield Re(E.user,L._process(E.user.auth,$,_));return yield E.user._updateTokensIfNecessary(fe),E.user.reload()})()}unenroll(m){var _=this;return(0,D.Z)(function*(){var E;const L="string"==typeof m?m:m.uid,$=yield _.user.getIdToken(),fe=yield Re(_.user,function yl(b,m){return bn(b,"POST","/v2/accounts/mfaEnrollment:withdraw",ct(b,m))}(_.user.auth,{idToken:$,mfaEnrollmentId:L}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Oe})=>Oe!==L),yield _.user._updateTokensIfNecessary(fe);try{yield _.user.reload()}catch(Oe){if("auth/user-token-expired"!==(null===(E=Oe)||void 0===E?void 0:E.code))throw Oe}})()}}const zc=new WeakMap;function Wc(b){const m=(0,l.m9)(b);return zc.has(m)||zc.set(m,vl._fromUser(m)),zc.get(m)}const Gc="__sak";class $a{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Gc,"1"),this.storage.removeItem(Gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const zr=(()=>{class b extends $a{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Jl(){const b=(0,l.z$)();return ur(b)||dr(b)}()&&function xr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ji(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const L=this.storage.getItem(E),$=this.localCache[E];L!==$&&_(E,$,L)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((Oe,st,Je)=>{this.notifyListeners(Oe,Je)});const L=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Oe=this.storage.getItem(L);if(_.newValue!==Oe)null!==_.newValue?this.storage.setItem(L,_.newValue):this.storage.removeItem(L);else if(this.localCache[L]===_.newValue&&!E)return}const $=()=>{const Oe=this.storage.getItem(L);!E&&this.localCache[L]===Oe||this.notifyListeners(L,Oe)},fe=this.storage.getItem(L);!function Ri(){return(0,l.w1)()&&10===document.documentMode}()||fe===_.newValue||_.newValue===_.oldValue?$():setTimeout($,10)}notifyListeners(_,E){this.localCache[_]=E;const L=this.listeners[_];if(L)for(const $ of Array.from(L))$(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var L=()=>super._set,$=this;return(0,D.Z)(function*(){yield L().call($,_,E),$.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,L=this;return(0,D.Z)(function*(){const $=yield E().call(L,_);return L.localCache[_]=JSON.stringify($),$})()}_remove(_){var E=()=>super._remove,L=this;return(0,D.Z)(function*(){yield E().call(L,_),delete L.localCache[_]})()}}return b.type="LOCAL",b})(),ec=(()=>{class b extends $a{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return b.type="SESSION",b})();let Vu=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find($=>$.isListeningto(_));if(E)return E;const L=new b(_);return this.receivers.push(L),L}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,D.Z)(function*(){const L=_,{eventId:$,eventType:fe,data:Oe}=L.data,st=E.handlersMap[fe];if(!st?.size)return;L.ports[0].postMessage({status:"ack",eventId:$,eventType:fe});const Je=Array.from(st).map(function(){var Wn=(0,D.Z)(function*(Zn){return Zn(L.origin,Oe)});return function(Zn){return Wn.apply(this,arguments)}}()),Mt=yield function Lu(b){return Promise.all(b.map(function(){var m=(0,D.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return m.apply(this,arguments)}}()))}(Je);L.ports[0].postMessage({status:"done",eventId:$,eventType:fe,response:Mt})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function wl(b="",m=10){let _="";for(let E=0;E<m;E++)_+=Math.floor(10*Math.random());return b+_}class tc{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,E=50){var L=this;return(0,D.Z)(function*(){const $=typeof MessageChannel<"u"?new MessageChannel:null;if(!$)throw new Error("connection_unavailable");let fe,Oe;return new Promise((st,Je)=>{const Mt=wl("",20);$.port1.start();const Wn=setTimeout(()=>{Je(new Error("unsupported_event"))},E);Oe={messageChannel:$,onMessage(Zn){const Or=Zn;if(Or.data.eventId===Mt)switch(Or.data.status){case"ack":clearTimeout(Wn),fe=setTimeout(()=>{Je(new Error("timeout"))},3e3);break;case"done":clearTimeout(fe),st(Or.data.response);break;default:clearTimeout(Wn),clearTimeout(fe),Je(new Error("invalid_response"))}}},L.handlers.add(Oe),$.port1.addEventListener("message",Oe.onMessage),L.target.postMessage({eventType:m,eventId:Mt,data:_},[$.port2])}).finally(()=>{Oe&&L.removeMessageHandler(Oe)})})()}}function Ei(){return window}function Ho(){return typeof Ei().WorkerGlobalScope<"u"&&"function"==typeof Ei().importScripts}function ba(){return(ba=(0,D.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const us="firebaseLocalStorageDb",Bu="firebaseLocalStorage",ju="fbase_key";class zo{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Uu(b,m){return b.transaction([Bu],m?"readwrite":"readonly").objectStore(Bu)}function qc(){const b=indexedDB.open(us,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const E=b.result;try{E.createObjectStore(Bu,{keyPath:ju})}catch(L){_(L)}}),b.addEventListener("success",(0,D.Z)(function*(){const E=b.result;E.objectStoreNames.contains(Bu)?m(E):(E.close(),yield function Kc(){const b=indexedDB.deleteDatabase(us);return new zo(b).toPromise()}(),m(yield qc()))}))})}function nc(b,m,_){return Si.apply(this,arguments)}function Si(){return(Si=(0,D.Z)(function*(b,m,_){const E=Uu(b,!0).put({[ju]:m,value:_});return new zo(E).toPromise()})).apply(this,arguments)}function Ud(){return(Ud=(0,D.Z)(function*(b,m){const _=Uu(b,!1).get(m),E=yield new zo(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Ti(b,m){const _=Uu(b,!0).delete(m);return new zo(_).toPromise()}const Hu=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,D.Z)(function*(){return _.db||(_.db=yield qc()),_.db})()}_withRetries(_){var E=this;return(0,D.Z)(function*(){let L=0;for(;;)try{const $=yield E._openDb();return yield _($)}catch($){if(L++>3)throw $;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,D.Z)(function*(){return Ho()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,D.Z)(function*(){_.receiver=Vu._getInstance(function _o(){return Ho()?self:null}()),_.receiver._subscribe("keyChanged",function(){var E=(0,D.Z)(function*(L,$){return{keyProcessed:(yield _._poll()).includes($.key)}});return function(L,$){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,D.Z)(function*(L,$){return["keyChanged"]});return function(L,$){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,D.Z)(function*(){var E,L;if(_.activeServiceWorker=yield function va(){return ba.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new tc(_.activeServiceWorker);const $=yield _.sender._send("ping",{},800);!$||(null===(E=$[0])||void 0===E?void 0:E.fulfilled)&&(null===(L=$[0])||void 0===L?void 0:L.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,D.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function $o(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,D.Z)(function*(){try{if(!indexedDB)return!1;const _=yield qc();return yield nc(_,Gc,"1"),yield Ti(_,Gc),!0}catch{}return!1})()}_withPendingWrite(_){var E=this;return(0,D.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var L=this;return(0,D.Z)(function*(){return L._withPendingWrite((0,D.Z)(function*(){return yield L._withRetries($=>nc($,_,E)),L.localCache[_]=E,L.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,D.Z)(function*(){const L=yield E._withRetries($=>function jd(b,m){return Ud.apply(this,arguments)}($,_));return E.localCache[_]=L,L})()}_remove(_){var E=this;return(0,D.Z)(function*(){return E._withPendingWrite((0,D.Z)(function*(){return yield E._withRetries(L=>Ti(L,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,D.Z)(function*(){const E=yield _._withRetries(fe=>{const Oe=Uu(fe,!1).getAll();return new zo(Oe).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const L=[],$=new Set;for(const{fbase_key:fe,value:Oe}of E)$.add(fe),JSON.stringify(_.localCache[fe])!==JSON.stringify(Oe)&&(_.notifyListeners(fe,Oe),L.push(fe));for(const fe of Object.keys(_.localCache))_.localCache[fe]&&!$.has(fe)&&(_.notifyListeners(fe,null),L.push(fe));return L})()}notifyListeners(_,E){this.localCache[_]=E;const L=this.listeners[_];if(L)for(const $ of Array.from(L))$(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,D.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Gr(b,m){return bn(b,"POST","/v2/accounts/mfaSignIn:start",ct(b,m))}function El(){return(El=(0,D.Z)(function*(b){return(yield bn(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $u(b){return new Promise((m,_)=>{const E=document.createElement("script");E.setAttribute("src",b),E.onload=m,E.onerror=L=>{const $=Vn("internal-error");$.customData=L,_($)},E.type="text/javascript",E.charset="UTF-8",function Cl(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(E)})}function Zc(b){return`__${b}${Math.floor(1e6*Math.random())}`}const sc=1e12;class oc{constructor(m){this.auth=m,this.counter=sc,this._widgets=new Map}render(m,_){const E=this.counter;return this._widgets.set(E,new Rr(m,this.auth.name,_||{})),this.counter++,E}reset(m){var _;const E=m||sc;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(m){var _;return(null===(_=this._widgets.get(m||sc))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,D.Z)(function*(){var E;return null===(E=_._widgets.get(m||sc))||void 0===E||E.execute(),""})()}}class Rr{constructor(m,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const L="string"==typeof m?document.getElementById(m):m;We(L,"argument-error",{appName:_}),this.container=L,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Il(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<b;E++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ks=Zc("rcb"),zu=new Xt(3e4,6e4);class Cf{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Ei().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return We(function Pm(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Ei().grecaptcha):new Promise((E,L)=>{const $=Ei().setTimeout(()=>{L(Vn(m,"network-request-failed"))},zu.get());Ei()[Ks]=()=>{Ei().clearTimeout($),delete Ei()[Ks];const Oe=Ei().grecaptcha;if(!Oe)return void L(Vn(m,"internal-error"));const st=Oe.render;Oe.render=(Je,Mt)=>{const Wn=st(Je,Mt);return this.counter++,Wn},this.hostLanguage=_,E(Oe)},$u(`https://www.google.com/recaptcha/api.js??${(0,l.xO)({onload:Ks,render:"explicit",hl:_})}`).catch(()=>{clearTimeout($),L(Vn(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=Ei().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class $d{load(m){return(0,D.Z)(function*(){return new oc(m)})()}clearedOneInstance(){}}const zd="recaptcha",If={theme:"light",type:"image"};class za{constructor(m,_=Object.assign({},If),E){this.parameters=_,this.type=zd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pi(E),this.isInvisible="invisible"===this.parameters.size,We(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const L="string"==typeof m?document.getElementById(m):m;We(L,this.auth,"argument-error"),this.container=L,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $d:new Cf,this.validateStartingState()}verify(){var m=this;return(0,D.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),E=m.getAssertedRecaptcha();return E.getResponse(_)||new Promise($=>{const fe=Oe=>{!Oe||(m.tokenChangeListeners.delete(fe),$(Oe))};m.tokenChangeListeners.add(fe),m.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){We(!this.parameters.sitekey,this.auth,"argument-error"),We(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),We(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof m)m(_);else if("string"==typeof m){const E=Ei()[m];"function"==typeof E&&E(_)}}}assertNotDestroyed(){We(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,D.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,D.Z)(function*(){We(ai()&&!Ho(),m.auth,"internal-error"),yield function Qc(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function rc(b){return El.apply(this,arguments)}(m.auth);We(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return We(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Dl{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=ii._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function Df(b,m,_){return tr.apply(this,arguments)}function tr(){return(tr=(0,D.Z)(function*(b,m,_){const E=pi(b),L=yield Wa(E,m,(0,l.m9)(_));return new Dl(L,$=>Bo(E,$))})).apply(this,arguments)}function Wu(b,m,_){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,D.Z)(function*(b,m,_){const E=(0,l.m9)(b);yield kr(!1,E,"phone");const L=yield Wa(E.auth,m,(0,l.m9)(_));return new Dl(L,$=>Es(E,$))})).apply(this,arguments)}function Sf(b,m,_){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,D.Z)(function*(b,m,_){const E=(0,l.m9)(b),L=yield Wa(E.auth,m,(0,l.m9)(_));return new Dl(L,$=>ql(E,$))})).apply(this,arguments)}function Wa(b,m,_){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,D.Z)(function*(b,m,_){var E;const L=yield _.verify();try{let $;if(We("string"==typeof L,b,"argument-error"),We(_.type===zd,b,"argument-error"),$="string"==typeof m?{phoneNumber:m}:m,"session"in $){const fe=$.session;if("phoneNumber"in $)return We("enroll"===fe.type,b,"internal-error"),(yield $c(b,{idToken:fe.credential,phoneEnrollmentInfo:{phoneNumber:$.phoneNumber,recaptchaToken:L}})).phoneSessionInfo.sessionInfo;{We("signin"===fe.type,b,"internal-error");const Oe=(null===(E=$.multiFactorHint)||void 0===E?void 0:E.uid)||$.multiFactorUid;return We(Oe,b,"missing-multi-factor-info"),(yield Gr(b,{mfaPendingCredential:fe.credential,mfaEnrollmentId:Oe,phoneSignInInfo:{recaptchaToken:L}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:fe}=yield js(b,{phoneNumber:$.phoneNumber,recaptchaToken:L});return fe}}finally{_._reset()}})).apply(this,arguments)}function lc(b,m){return Go.apply(this,arguments)}function Go(){return(Go=(0,D.Z)(function*(b,m){yield ho((0,l.m9)(b),m)})).apply(this,arguments)}let T=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=pi(_)}verifyPhoneNumber(_,E){return Wa(this.auth,_,(0,l.m9)(E))}static credential(_,E){return ii._fromVerification(_,E)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:L}=_;return E&&L?ii._fromTokenResponse(E,L):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function P(b,m){return m?yn(m):(We(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class W extends In{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Ar(m,this._buildIdpRequest())}_linkToIdToken(m,_){return Ar(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return Ar(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function se(b){return Li(b.auth,new W(b),b.bypassAuthState)}function ve(b){const{auth:m,user:_}=b;return We(_,m,"internal-error"),$s(_,new W(b),b.bypassAuthState)}function Ce(b){return ze.apply(this,arguments)}function ze(){return(ze=(0,D.Z)(function*(b){const{auth:m,user:_}=b;return We(_,m,"internal-error"),ho(_,new W(b),b.bypassAuthState)})).apply(this,arguments)}class lt{constructor(m,_,E,L,$=!1){this.auth=m,this.resolver=E,this.user=L,this.bypassAuthState=$,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,D.Z)(function*(E,L){m.pendingPromise={resolve:E,reject:L};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch($){m.reject($)}});return function(E,L){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,D.Z)(function*(){const{urlResponse:E,sessionId:L,postBody:$,tenantId:fe,error:Oe,type:st}=m;if(Oe)return void _.reject(Oe);const Je={auth:_.auth,requestUri:E,sessionId:L,tenantId:fe||void 0,postBody:$||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(st)(Je))}catch(Mt){_.reject(Mt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return se;case"linkViaPopup":case"linkViaRedirect":return Ce;case"reauthViaPopup":case"reauthViaRedirect":return ve;default:Sn(this.auth,"internal-error")}}resolve(m){gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pt=new Xt(2e3,1e4);function Lt(b,m,_){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,D.Z)(function*(b,m,_){const E=pi(b);Di(b,m,z);const L=P(E,_);return new yo(E,"signInViaPopup",m,L).executeNotNull()})).apply(this,arguments)}function Nt(b,m,_){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,D.Z)(function*(b,m,_){const E=(0,l.m9)(b);Di(E.auth,m,z);const L=P(E.auth,_);return new yo(E.auth,"reauthViaPopup",m,L,E).executeNotNull()})).apply(this,arguments)}function Kr(b,m,_){return wa.apply(this,arguments)}function wa(){return(wa=(0,D.Z)(function*(b,m,_){const E=(0,l.m9)(b);Di(E.auth,m,z);const L=P(E.auth,_);return new yo(E.auth,"linkViaPopup",m,L,E).executeNotNull()})).apply(this,arguments)}let yo=(()=>{class b extends lt{constructor(_,E,L,$,fe){super(_,E,$,fe),this.provider=L,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,D.Z)(function*(){const E=yield _.execute();return We(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,D.Z)(function*(){gt(1===_.filter.length,"Popup operations only handle one event");const E=wl();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(L=>{_.reject(L)}),_.resolver._isIframeWebStorageSupported(_.auth,L=>{L||_.reject(Vn(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,L;this.pollId=null!==(L=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==L&&L.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Vn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Pt.get())};_()}}return b.currentPopupAction=null,b})();const Ga=new Map;class Xc extends lt{constructor(m,_,E=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,D.Z)(function*(){let E=Ga.get(_.auth._key());if(!E){try{const $=(yield function Tl(b,m){return Oi.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;E=()=>Promise.resolve($)}catch(L){E=()=>Promise.reject(L)}Ga.set(_.auth._key(),E)}return _.bypassAuthState||Ga.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,E=this;return(0,D.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(E,m);if("unknown"!==m.type){if(m.eventId){const L=yield E.auth._redirectUserForId(m.eventId);if(L)return E.user=L,_().call(E,m);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,D.Z)(function*(){})()}cleanUp(){}}function Oi(){return(Oi=(0,D.Z)(function*(b,m){const _=cy(m),E=Tf(b);if(!(yield E._isAvailable()))return!1;const L="true"===(yield E._get(_));return yield E._remove(_),L})).apply(this,arguments)}function qs(b,m){return xl.apply(this,arguments)}function xl(){return(xl=(0,D.Z)(function*(b,m){return Tf(b)._set(cy(m),"true")})).apply(this,arguments)}function ly(){Ga.clear()}function Wd(b,m){Ga.set(b._key(),m)}function Tf(b){return yn(b._redirectPersistence)}function cy(b){return Mn("pendingRedirect",b.config.apiKey,b.name)}function xf(b,m,_){return function uy(b,m,_){return Mf.apply(this,arguments)}(b,m,_)}function Mf(){return(Mf=(0,D.Z)(function*(b,m,_){const E=pi(b);Di(b,m,z);const L=P(E,_);return yield qs(L,E),L._openRedirect(E,m,"signInViaRedirect")})).apply(this,arguments)}function Gd(b,m,_){return function Nm(b,m,_){return Kd.apply(this,arguments)}(b,m,_)}function Kd(){return(Kd=(0,D.Z)(function*(b,m,_){const E=(0,l.m9)(b);Di(E.auth,m,z);const L=P(E.auth,_);yield qs(L,E.auth);const $=yield eu(E);return L._openRedirect(E.auth,m,"reauthViaRedirect",$)})).apply(this,arguments)}function Af(b,m,_){return function bw(b,m,_){return qd.apply(this,arguments)}(b,m,_)}function qd(){return(qd=(0,D.Z)(function*(b,m,_){const E=(0,l.m9)(b);Di(E.auth,m,z);const L=P(E.auth,_);yield kr(!1,E,m.providerId),yield qs(L,E.auth);const $=yield eu(E);return L._openRedirect(E.auth,m,"linkViaRedirect",$)})).apply(this,arguments)}function dy(b,m){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,D.Z)(function*(b,m){return yield pi(b)._initializationPromise,kf(b,m,!1)})).apply(this,arguments)}function kf(b,m){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,D.Z)(function*(b,m,_=!1){const E=pi(b),L=P(E,m),fe=yield new Xc(E,L,_).execute();return fe&&!_&&(delete fe.user._redirectEventId,yield E._persistUserIfCurrent(fe.user),yield E._setRedirectUser(null,m)),fe})).apply(this,arguments)}function eu(b){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,D.Z)(function*(b){const m=wl(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class Fm{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(m,E)&&(_=!0,this.sendToConsumer(m,E),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Rf(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hy(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var E;if(m.error&&!hy(m)){const L=(null===(E=m.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError(Vn(this.auth,L))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const E=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&E}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lm(m))}saveEventToCache(m){this.cachedEventUids.add(Lm(m)),this.lastProcessedEventTime=Date.now()}}function Lm(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function hy({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===m?.code}function Zd(b){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,D.Z)(function*(b,m={}){return bn(b,"GET","/v1/projects",m)})).apply(this,arguments)}const cc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qt=/^https?/;function uc(){return(uc=(0,D.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield Zd(b);for(const _ of m)try{if(Vm(_))return}catch{}Sn(b,"unauthorized-domain")})).apply(this,arguments)}function Vm(b){const m=Xi(),{protocol:_,hostname:E}=new URL(m);if(b.startsWith("chrome-extension://")){const fe=new URL(b);return""===fe.hostname&&""===E?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&fe.hostname===E}if(!Qt.test(_))return!1;if(cc.test(b))return E===b;const L=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(E)}const ww=new Xt(3e4,6e4);function Bm(){const b=Ei().___jsl;if(b?.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let vo=null;function tu(b){return vo=vo||function Of(b){return new Promise((m,_)=>{var E,L,$;function fe(){Bm(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Bm(),_(Vn(b,"network-request-failed"))},timeout:ww.get()})}if(null!==(L=null===(E=Ei().gapi)||void 0===E?void 0:E.iframes)&&void 0!==L&&L.Iframe)m(gapi.iframes.getContext());else{if(null===($=Ei().gapi)||void 0===$||!$.load){const Oe=Zc("iframefcb");return Ei()[Oe]=()=>{gapi.load?fe():_(Vn(b,"network-request-failed"))},$u(`https://apis.google.com/js/api.js?onload=${Oe}`).catch(st=>_(st))}fe()}}).catch(m=>{throw vo=null,m})}(b),vo}const jm=new Xt(5e3,15e3),Ew={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Iw(b){const m=b.config;We(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?nt(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,E={apiKey:m.apiKey,appName:b.name,v:F.SDK_VERSION},L=Cw.get(b.config.apiHost);L&&(E.eid=L);const $=b._getFrameworks();return $.length&&(E.fw=$.join(",")),`${_}?${(0,l.xO)(E).slice(1)}`}function Hm(){return Hm=(0,D.Z)(function*(b){const m=yield tu(b),_=Ei().gapi;return We(_,b,"internal-error"),m.open({where:document.body,url:Iw(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ew,dontclear:!0},E=>new Promise(function(){var L=(0,D.Z)(function*($,fe){yield E.restyle({setHideOnLeave:!1});const Oe=Vn(b,"network-request-failed"),st=Ei().setTimeout(()=>{fe(Oe)},jm.get());function Je(){Ei().clearTimeout(st),$(E)}E.ping(Je).then(Je,()=>{fe(Oe)})});return function($,fe){return L.apply(this,arguments)}}()))}),Hm.apply(this,arguments)}const Dw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class X{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qi(b,m,_,E,L,$){We(b.config.authDomain,b,"auth-domain-config-required"),We(b.config.apiKey,b,"invalid-api-key");const fe={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:E,v:F.SDK_VERSION,eventId:L};if(m instanceof z){m.setDefaultLanguage(b.languageCode),fe.providerId=m.providerId||"",(0,l.xb)(m.getCustomParameters())||(fe.customParameters=JSON.stringify(m.getCustomParameters()));for(const[st,Je]of Object.entries($||{}))fe[st]=Je}if(m instanceof O){const st=m.getScopes().filter(Je=>""!==Je);st.length>0&&(fe.scopes=st.join(","))}b.tenantId&&(fe.tid=b.tenantId);const Oe=fe;for(const st of Object.keys(Oe))void 0===Oe[st]&&delete Oe[st];return`${function wo({config:b}){return b.emulator?nt(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,l.xO)(Oe).slice(1)}`}const Yu="webStorageSupport",my=class zm{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ec,this._completeRedirectFn=kf,this._overrideRedirectResult=Wd}_openPopup(m,_,E,L){var $=this;return(0,D.Z)(function*(){var fe;gt(null===(fe=$.eventManagers[m._key()])||void 0===fe?void 0:fe.manager,"_initialize() not called before _openPopup()");const Oe=qi(m,_,E,Xi(),L);return function bo(b,m,_,E=500,L=600){const $=Math.max((window.screen.availHeight-L)/2,0).toString(),fe=Math.max((window.screen.availWidth-E)/2,0).toString();let Oe="";const st=Object.assign(Object.assign({},Dw),{width:E.toString(),height:L.toString(),top:$,left:fe}),Je=(0,l.z$)().toLowerCase();_&&(Oe=ti(Je)?"_blank":_),an(Je)&&(m=m||"http://localhost",st.scrollbars="yes");const Mt=Object.entries(st).reduce((Zn,[Or,Al])=>`${Zn}${Or}=${Al},`,"");if(function Gl(b=(0,l.z$)()){var m;return dr(b)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Je)&&"_self"!==Oe)return function qo(b,m){const _=document.createElement("a");_.href=b,_.target=m;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(m||"",Oe),new X(null);const Wn=window.open(m||"",Oe,Mt);We(Wn,b,"popup-blocked");try{Wn.focus()}catch{}return new X(Wn)}(m,Oe,wl())})()}_openRedirect(m,_,E,L){var $=this;return(0,D.Z)(function*(){return yield $._originValidation(m),function Wr(b){Ei().location.href=b}(qi(m,_,E,Xi(),L)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:L,promise:$}=this.eventManagers[_];return L?Promise.resolve(L):(gt($,"If manager is not set, promise should be"),$)}const E=this.initAndGetManager(m);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(m){var _=this;return(0,D.Z)(function*(){const E=yield function Um(b){return Hm.apply(this,arguments)}(m),L=new Fm(m);return E.register("authEvent",$=>(We($?.authEvent,m,"invalid-auth-event"),{status:L.onEvent($.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:L},_.iframes[m._key()]=E,L})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Yu,{type:Yu},L=>{var $;const fe=null===($=L?.[0])||void 0===$?void 0:$[Yu];void 0!==fe&&_(!!fe),Sn(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ys(b){return uc.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return ji()||ur()||dr()}};class Zu extends class Pf{constructor(m){this.factorId=m}_process(m,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,E);case"signin":return this._finalizeSignIn(m,_.credential);default:return fi("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Zu(m)}_finalizeEnroll(m,_,E){return function Ha(b,m){return bn(b,"POST","/v2/accounts/mfaEnrollment:finalize",ct(b,m))}(m,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function Wo(b,m){return bn(b,"POST","/v2/accounts/mfaSignIn:finalize",ct(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Xd=(()=>{class b{constructor(){}static assertion(_){return Zu._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var gy="@firebase/auth";class Wm{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,D.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(E=>{var L;m((null===(L=E)||void 0===L?void 0:L.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Jd(b=(0,F.getApp)()){const m=(0,F._getProvider)(b,"auth");return m.isInitialized()?m.getImmediate():function cn(b,m){const _=(0,F._getProvider)(b,"auth");if(_.isInitialized()){const L=_.getImmediate(),$=_.getOptions();if((0,l.vZ)($,m??{}))return L;Sn(L,"already-initialized")}return _.initialize({options:m})}(b,{popupRedirectResolver:my,persistence:[Hu,zr,ec]})}!function ds(b){(0,F._registerComponent)(new tt.wA("auth",(m,{options:_})=>{const E=m.getProvider("app").getImmediate(),L=m.getProvider("heartbeat"),{apiKey:$,authDomain:fe}=E.options;return((Oe,st)=>{We($&&!$.includes(":"),"invalid-api-key",{appName:Oe.name}),We(!fe?.includes(":"),"argument-error",{appName:Oe.name});const Je={apiKey:$,authDomain:fe,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$t(b)},Mt=new Gi(Oe,st,Je);return function Ai(b,m){const _=m?.persistence||[],E=(Array.isArray(_)?_:[_]).map(yn);m?.errorMap&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(E,m?.popupRedirectResolver)}(Mt,_),Mt})(E,L)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,E)=>{m.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new tt.wA("auth-internal",m=>{const _=pi(m.getProvider("auth").getImmediate());return new Wm(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(gy,"0.20.5",function yy(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,F.registerVersion)(gy,"0.20.5","esm2017")}("Browser")},2090:(Ue,he,k)=>{"use strict";k.d(he,{$s:()=>li,BH:()=>ge,DV:()=>Zi,Dv:()=>Xi,G6:()=>Vt,GJ:()=>Ln,L:()=>j,LL:()=>tt,Mn:()=>Ut,Pz:()=>Fn,Sg:()=>Ee,UG:()=>xe,UI:()=>Qi,US:()=>U,Wj:()=>vn,Yr:()=>Xn,ZB:()=>K,ZR:()=>kt,b$:()=>wt,cI:()=>Tr,d:()=>jt,dS:()=>Xt,eu:()=>$e,g5:()=>F,gK:()=>ai,gQ:()=>fi,h$:()=>G,hl:()=>Ye,hu:()=>l,jU:()=>ke,lb:()=>es,m9:()=>Jn,ne:()=>gt,p$:()=>V,pd:()=>We,r3:()=>yi,ru:()=>ht,tV:()=>Y,uI:()=>Ae,ug:()=>nt,vZ:()=>Sn,w1:()=>fn,w9:()=>cr,xO:()=>Di,xb:()=>Yn,z$:()=>Se,zI:()=>rt,zd:()=>zi});const l=function(ce,ue){if(!ce)throw F(ue)},F=function(ce){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+ce)},Q=function(ce){const ue=[];let oe=0;for(let pe=0;pe<ce.length;pe++){let me=ce.charCodeAt(pe);me<128?ue[oe++]=me:me<2048?(ue[oe++]=me>>6|192,ue[oe++]=63&me|128):55296==(64512&me)&&pe+1<ce.length&&56320==(64512&ce.charCodeAt(pe+1))?(me=65536+((1023&me)<<10)+(1023&ce.charCodeAt(++pe)),ue[oe++]=me>>18|240,ue[oe++]=me>>12&63|128,ue[oe++]=me>>6&63|128,ue[oe++]=63&me|128):(ue[oe++]=me>>12|224,ue[oe++]=me>>6&63|128,ue[oe++]=63&me|128)}return ue},U={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ce,ue){if(!Array.isArray(ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();const oe=ue?this.byteToCharMapWebSafe_:this.byteToCharMap_,pe=[];for(let me=0;me<ce.length;me+=3){const He=ce[me],ot=me+1<ce.length,xt=ot?ce[me+1]:0,Tn=me+2<ce.length,xn=Tn?ce[me+2]:0;let ae=(15&xt)<<2|xn>>6,le=63&xn;Tn||(le=64,ot||(ae=64)),pe.push(oe[He>>2],oe[(3&He)<<4|xt>>4],oe[ae],oe[le])}return pe.join("")},encodeString(ce,ue){return this.HAS_NATIVE_SUPPORT&&!ue?btoa(ce):this.encodeByteArray(Q(ce),ue)},decodeString(ce,ue){return this.HAS_NATIVE_SUPPORT&&!ue?atob(ce):function(ce){const ue=[];let oe=0,pe=0;for(;oe<ce.length;){const me=ce[oe++];if(me<128)ue[pe++]=String.fromCharCode(me);else if(me>191&&me<224){const He=ce[oe++];ue[pe++]=String.fromCharCode((31&me)<<6|63&He)}else if(me>239&&me<365){const Tn=((7&me)<<18|(63&ce[oe++])<<12|(63&ce[oe++])<<6|63&ce[oe++])-65536;ue[pe++]=String.fromCharCode(55296+(Tn>>10)),ue[pe++]=String.fromCharCode(56320+(1023&Tn))}else{const He=ce[oe++],ot=ce[oe++];ue[pe++]=String.fromCharCode((15&me)<<12|(63&He)<<6|63&ot)}}return ue.join("")}(this.decodeStringToByteArray(ce,ue))},decodeStringToByteArray(ce,ue){this.init_();const oe=ue?this.charToByteMapWebSafe_:this.charToByteMap_,pe=[];for(let me=0;me<ce.length;){const He=oe[ce.charAt(me++)],xt=me<ce.length?oe[ce.charAt(me)]:0;++me;const xn=me<ce.length?oe[ce.charAt(me)]:64;++me;const we=me<ce.length?oe[ce.charAt(me)]:64;if(++me,null==He||null==xt||null==xn||null==we)throw Error();pe.push(He<<2|xt>>4),64!==xn&&(pe.push(xt<<4&240|xn>>2),64!==we&&pe.push(xn<<6&192|we))}return pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ce=0;ce<this.ENCODED_VALS.length;ce++)this.byteToCharMap_[ce]=this.ENCODED_VALS.charAt(ce),this.charToByteMap_[this.byteToCharMap_[ce]]=ce,this.byteToCharMapWebSafe_[ce]=this.ENCODED_VALS_WEBSAFE.charAt(ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ce]]=ce,ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ce)]=ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ce)]=ce)}}},G=function(ce){const ue=Q(ce);return U.encodeByteArray(ue,!0)},j=function(ce){return G(ce).replace(/\./g,"")},Y=function(ce){try{return U.decodeString(ce,!0)}catch(ue){console.error("base64Decode failed: ",ue)}return null};function V(ce){return K(void 0,ce)}function K(ce,ue){if(!(ue instanceof Object))return ue;switch(ue.constructor){case Date:return new Date(ue.getTime());case Object:void 0===ce&&(ce={});break;case Array:ce=[];break;default:return ue}for(const oe in ue)!ue.hasOwnProperty(oe)||!J(oe)||(ce[oe]=K(ce[oe],ue[oe]));return ce}function J(ce){return"__proto__"!==ce}class ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ue,oe)=>{this.resolve=ue,this.reject=oe})}wrapCallback(ue){return(oe,pe)=>{oe?this.reject(oe):this.resolve(pe),"function"==typeof ue&&(this.promise.catch(()=>{}),1===ue.length?ue(oe):ue(oe,pe))}}}function Ee(ce,ue){if(ce.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const pe=ue||"demo-project",me=ce.iat||0,He=ce.sub||ce.user_id;if(!He)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ot=Object.assign({iss:`https://securetoken.google.com/${pe}`,aud:pe,iat:me,exp:me+3600,auth_time:me,sub:He,user_id:He,firebase:{sign_in_provider:"custom",identities:{}}},ce);return[j(JSON.stringify({alg:"none",type:"JWT"})),j(JSON.stringify(ot)),""].join(".")}function Se(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())}function xe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ke(){return"object"==typeof self&&self.self===self}function ht(){const ce="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ce&&void 0!==ce.id}function wt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function jt(){return Se().indexOf("Electron/")>=0}function fn(){const ce=Se();return ce.indexOf("MSIE ")>=0||ce.indexOf("Trident/")>=0}function Ut(){return Se().indexOf("MSAppHost/")>=0}function Xn(){return!1}function Vt(){return!xe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ye(){return"object"==typeof indexedDB}function $e(){return new Promise((ce,ue)=>{try{let oe=!0;const pe="validate-browser-context-for-indexeddb-analytics-module",me=self.indexedDB.open(pe);me.onsuccess=()=>{me.result.close(),oe||self.indexedDB.deleteDatabase(pe),ce(!0)},me.onupgradeneeded=()=>{oe=!1},me.onerror=()=>{var He;ue((null===(He=me.error)||void 0===He?void 0:He.message)||"")}}catch(oe){ue(oe)}})}function rt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class kt extends Error{constructor(ue,oe,pe){super(oe),this.code=ue,this.customData=pe,this.name="FirebaseError",Object.setPrototypeOf(this,kt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tt.prototype.create)}}class tt{constructor(ue,oe,pe){this.service=ue,this.serviceName=oe,this.errors=pe}create(ue,...oe){const pe=oe[0]||{},me=`${this.service}/${ue}`,He=this.errors[ue],ot=He?function ln(ce,ue){return ce.replace(_i,(oe,pe)=>{const me=ue[pe];return null!=me?String(me):`<${pe}?>`})}(He,pe):"Error";return new kt(me,`${this.serviceName}: ${ot} (${me}).`,pe)}}const _i=/\{\$([^}]+)}/g;function Tr(ce){return JSON.parse(ce)}function Fn(ce){return JSON.stringify(ce)}const Kt=function(ce){let ue={},oe={},pe={},me="";try{const He=ce.split(".");ue=Tr(Y(He[0])||""),oe=Tr(Y(He[1])||""),me=He[2],pe=oe.d||{},delete oe.d}catch{}return{header:ue,claims:oe,data:pe,signature:me}},cr=function(ce){const oe=Kt(ce).claims;return!!oe&&"object"==typeof oe&&oe.hasOwnProperty("iat")},Ln=function(ce){const ue=Kt(ce).claims;return"object"==typeof ue&&!0===ue.admin};function yi(ce,ue){return Object.prototype.hasOwnProperty.call(ce,ue)}function Zi(ce,ue){if(Object.prototype.hasOwnProperty.call(ce,ue))return ce[ue]}function Yn(ce){for(const ue in ce)if(Object.prototype.hasOwnProperty.call(ce,ue))return!1;return!0}function Qi(ce,ue,oe){const pe={};for(const me in ce)Object.prototype.hasOwnProperty.call(ce,me)&&(pe[me]=ue.call(oe,ce[me],me,ce));return pe}function Sn(ce,ue){if(ce===ue)return!0;const oe=Object.keys(ce),pe=Object.keys(ue);for(const me of oe){if(!pe.includes(me))return!1;const He=ce[me],ot=ue[me];if(Vn(He)&&Vn(ot)){if(!Sn(He,ot))return!1}else if(He!==ot)return!1}for(const me of pe)if(!oe.includes(me))return!1;return!0}function Vn(ce){return null!==ce&&"object"==typeof ce}function Di(ce){const ue=[];for(const[oe,pe]of Object.entries(ce))Array.isArray(pe)?pe.forEach(me=>{ue.push(encodeURIComponent(oe)+"="+encodeURIComponent(me))}):ue.push(encodeURIComponent(oe)+"="+encodeURIComponent(pe));return ue.length?"&"+ue.join("&"):""}function zi(ce){const ue={};return ce.replace(/^\?/,"").split("&").forEach(pe=>{if(pe){const[me,He]=pe.split("=");ue[decodeURIComponent(me)]=decodeURIComponent(He)}}),ue}function We(ce){const ue=ce.indexOf("?");if(!ue)return"";const oe=ce.indexOf("#",ue);return ce.substring(ue,oe>0?oe:void 0)}class fi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ue=1;ue<this.blockSize;++ue)this.pad_[ue]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ue,oe){oe||(oe=0);const pe=this.W_;if("string"==typeof ue)for(let we=0;we<16;we++)pe[we]=ue.charCodeAt(oe)<<24|ue.charCodeAt(oe+1)<<16|ue.charCodeAt(oe+2)<<8|ue.charCodeAt(oe+3),oe+=4;else for(let we=0;we<16;we++)pe[we]=ue[oe]<<24|ue[oe+1]<<16|ue[oe+2]<<8|ue[oe+3],oe+=4;for(let we=16;we<80;we++){const ae=pe[we-3]^pe[we-8]^pe[we-14]^pe[we-16];pe[we]=4294967295&(ae<<1|ae>>>31)}let xn,ki,me=this.chain_[0],He=this.chain_[1],ot=this.chain_[2],xt=this.chain_[3],Tn=this.chain_[4];for(let we=0;we<80;we++){we<40?we<20?(xn=xt^He&(ot^xt),ki=1518500249):(xn=He^ot^xt,ki=1859775393):we<60?(xn=He&ot|xt&(He|ot),ki=2400959708):(xn=He^ot^xt,ki=3395469782);const ae=(me<<5|me>>>27)+xn+Tn+ki+pe[we]&4294967295;Tn=xt,xt=ot,ot=4294967295&(He<<30|He>>>2),He=me,me=ae}this.chain_[0]=this.chain_[0]+me&4294967295,this.chain_[1]=this.chain_[1]+He&4294967295,this.chain_[2]=this.chain_[2]+ot&4294967295,this.chain_[3]=this.chain_[3]+xt&4294967295,this.chain_[4]=this.chain_[4]+Tn&4294967295}update(ue,oe){if(null==ue)return;void 0===oe&&(oe=ue.length);const pe=oe-this.blockSize;let me=0;const He=this.buf_;let ot=this.inbuf_;for(;me<oe;){if(0===ot)for(;me<=pe;)this.compress_(ue,me),me+=this.blockSize;if("string"==typeof ue){for(;me<oe;)if(He[ot]=ue.charCodeAt(me),++ot,++me,ot===this.blockSize){this.compress_(He),ot=0;break}}else for(;me<oe;)if(He[ot]=ue[me],++ot,++me,ot===this.blockSize){this.compress_(He),ot=0;break}}this.inbuf_=ot,this.total_+=oe}digest(){const ue=[];let oe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let me=this.blockSize-1;me>=56;me--)this.buf_[me]=255&oe,oe/=256;this.compress_(this.buf_);let pe=0;for(let me=0;me<5;me++)for(let He=24;He>=0;He-=8)ue[pe]=this.chain_[me]>>He&255,++pe;return ue}}function gt(ce,ue){const oe=new Mi(ce,ue);return oe.subscribe.bind(oe)}class Mi{constructor(ue,oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=oe,this.task.then(()=>{ue(this)}).catch(pe=>{this.error(pe)})}next(ue){this.forEachObserver(oe=>{oe.next(ue)})}error(ue){this.forEachObserver(oe=>{oe.error(ue)}),this.close(ue)}complete(){this.forEachObserver(ue=>{ue.complete()}),this.close()}subscribe(ue,oe,pe){let me;if(void 0===ue&&void 0===oe&&void 0===pe)throw new Error("Missing Observer.");me=function cn(ce,ue){if("object"!=typeof ce||null===ce)return!1;for(const oe of ue)if(oe in ce&&"function"==typeof ce[oe])return!0;return!1}(ue,["next","error","complete"])?ue:{next:ue,error:oe,complete:pe},void 0===me.next&&(me.next=Ai),void 0===me.error&&(me.error=Ai),void 0===me.complete&&(me.complete=Ai);const He=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?me.error(this.finalError):me.complete()}catch{}}),this.observers.push(me),He}unsubscribeOne(ue){void 0===this.observers||void 0===this.observers[ue]||(delete this.observers[ue],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ue){if(!this.finalized)for(let oe=0;oe<this.observers.length;oe++)this.sendOne(oe,ue)}sendOne(ue,oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ue])try{oe(this.observers[ue])}catch(pe){typeof console<"u"&&console.error&&console.error(pe)}})}close(ue){this.finalized||(this.finalized=!0,void 0!==ue&&(this.finalError=ue),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ai(){}const Xi=function(ce,ue,oe,pe){let me;if(pe<ue?me="at least "+ue:pe>oe&&(me=0===oe?"none":"no more than "+oe),me)throw new Error(ce+" failed: Was called with "+pe+(1===pe?" argument.":" arguments.")+" Expects "+me+".")};function ai(ce,ue){return`${ce} failed: ${ue} argument `}function vn(ce,ue,oe,pe){if((!pe||oe)&&"function"!=typeof oe)throw new Error(ai(ce,ue)+"must be a valid function.")}function es(ce,ue,oe,pe){if((!pe||oe)&&("object"!=typeof oe||null===oe))throw new Error(ai(ce,ue)+"must be a valid context object.")}const Xt=function(ce){const ue=[];let oe=0;for(let pe=0;pe<ce.length;pe++){let me=ce.charCodeAt(pe);if(me>=55296&&me<=56319){const He=me-55296;pe++,l(pe<ce.length,"Surrogate pair missing trail surrogate."),me=65536+(He<<10)+(ce.charCodeAt(pe)-56320)}me<128?ue[oe++]=me:me<2048?(ue[oe++]=me>>6|192,ue[oe++]=63&me|128):me<65536?(ue[oe++]=me>>12|224,ue[oe++]=me>>6&63|128,ue[oe++]=63&me|128):(ue[oe++]=me>>18|240,ue[oe++]=me>>12&63|128,ue[oe++]=me>>6&63|128,ue[oe++]=63&me|128)}return ue},nt=function(ce){let ue=0;for(let oe=0;oe<ce.length;oe++){const pe=ce.charCodeAt(oe);pe<128?ue++:pe<2048?ue+=2:pe>=55296&&pe<=56319?(ue+=4,oe++):ue+=3}return ue};function li(ce,ue=1e3,oe=2){const pe=ue*Math.pow(oe,ce),me=Math.round(.5*pe*(Math.random()-.5)*2);return Math.min(144e5,pe+me)}function Jn(ce){return ce&&ce._delegate?ce._delegate:ce}},3825:(Ue,he,k)=>{"use strict";var D=k(6895),l=k(4650);class F extends D.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Q extends F{static makeCurrent(){(0,D.\u0275setRootDomAdapter)(new Q)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function U(){return ne=ne||document.querySelector("base"),ne?ne.getAttribute("href"):null}();return null==t?null:function j(n){G=G||document.createElement("a"),G.setAttribute("href",n);const e=G.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ne=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,D.\u0275parseCookieValue)(document.cookie,e)}}let G,ne=null;const Y=new l.InjectionToken("TRANSITION_ID"),K=[{provide:l.APP_INITIALIZER,useFactory:function V(n,e,t){return()=>{t.get(l.ApplicationInitStatus).donePromise.then(()=>{const i=(0,D.\u0275getDOM)(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Y,D.DOCUMENT,l.Injector],multi:!0}];let ge=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const Ee=new l.InjectionToken("EventManagerPlugins");let Se=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const u=r[s];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(Ee),l.\u0275\u0275inject(l.NgZone))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class Ae{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=(0,D.\u0275getDOM)().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let xe=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),ke=(()=>{class n extends xe{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const u=this._doc.createElement("style");u.textContent=s,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(ht),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ht))}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(D.DOCUMENT))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function ht(n){(0,D.\u0275getDOM)().remove(n)}const wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jt=/%COMP%/g;function rt(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?rt(n,r,t):(r=r.replace(jt,n),t.push(r))}return t}function Ot(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let kt=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new tt(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ViewEncapsulation.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Fn(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case l.ViewEncapsulation.ShadowDom:return new Kt(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=rt(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(Se),l.\u0275\u0275inject(ke),l.\u0275\u0275inject(l.APP_ID))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class tt{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(wt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Tr(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Tr(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=wt[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=wt[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.RendererStyleFlags2.DashCase|l.RendererStyleFlags2.Important)?e.style.setProperty(t,i,r&l.RendererStyleFlags2.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ot(i)):this.eventManager.addEventListener(e,t,Ot(i))}}function Tr(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Fn extends tt{constructor(e,t,i,r){super(e),this.component=i;const s=rt(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function Ye(n){return"_ngcontent-%COMP%".replace(jt,n)}(r+"-"+i.id),this.hostAttr=function $e(n){return"_nghost-%COMP%".replace(jt,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Kt extends tt{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=rt(r.id,r.styles,[]);for(let u=0;u<s.length;u++){const h=document.createElement("style");h.textContent=s[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let lr=(()=>{class n extends Ae{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(D.DOCUMENT))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const Bi=["alt","control","meta","shift"],Ln={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Zi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Yn=(()=>{class n extends Ae{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),u=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,D.\u0275getDOM)().onAndCancel(t,s.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let u="";if(Bi.forEach(p=>{const y=i.indexOf(p);y>-1&&(i.splice(y,1),u+=p+".")}),u+=s,0!=i.length||0===s.length)return null;const h={};return h.domEventName=r,h.fullKey=u,h}static getEventFullKey(t){let i="",r=function Qi(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&yi.hasOwnProperty(e)&&(e=yi[e]))}return Ln[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Bi.forEach(s=>{s!=r&&(0,Zi[s])(t)&&(i+=s+".")}),i+=r,i}static eventCallback(t,i,r){return s=>{n.getEventFullKey(s)===t&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(D.DOCUMENT))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const gt=(0,l.createPlatformFactory)(l.platformCore,"browser",[{provide:l.PLATFORM_ID,useValue:D.\u0275PLATFORM_BROWSER_ID},{provide:l.PLATFORM_INITIALIZER,useValue:function Di(){Q.makeCurrent()},multi:!0},{provide:D.DOCUMENT,useFactory:function We(){return(0,l.\u0275setDocument)(document),document},deps:[]}]),Mi=new l.InjectionToken(""),yn=[{provide:l.\u0275TESTABILITY_GETTER,useClass:class J{addToWindow(e){l.\u0275global.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},l.\u0275global.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.\u0275global.getAllAngularRootElements=()=>e.getAllRootElements(),l.\u0275global.frameworkStabilizers||(l.\u0275global.frameworkStabilizers=[]),l.\u0275global.frameworkStabilizers.push(i=>{const r=l.\u0275global.getAllAngularTestabilities();let s=r.length,u=!1;const h=function(p){u=u||p,s--,0==s&&i(u)};r.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?(0,D.\u0275getDOM)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.\u0275TESTABILITY,useClass:l.Testability,deps:[l.NgZone,l.TestabilityRegistry,l.\u0275TESTABILITY_GETTER]},{provide:l.Testability,useClass:l.Testability,deps:[l.NgZone,l.TestabilityRegistry,l.\u0275TESTABILITY_GETTER]}],cn=[{provide:l.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:l.ErrorHandler,useFactory:function zi(){return new l.ErrorHandler},deps:[]},{provide:Ee,useClass:lr,multi:!0,deps:[D.DOCUMENT,l.NgZone,l.PLATFORM_ID]},{provide:Ee,useClass:Yn,multi:!0,deps:[D.DOCUMENT]},{provide:kt,useClass:kt,deps:[Se,ke,l.APP_ID]},{provide:l.RendererFactory2,useExisting:kt},{provide:xe,useExisting:ke},{provide:ke,useClass:ke,deps:[D.DOCUMENT]},{provide:Se,useClass:Se,deps:[Ee,l.NgZone]},{provide:D.XhrFactory,useClass:ge,deps:[]},[]];let Ai=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.APP_ID,useValue:t.appId},{provide:Y,useExisting:l.APP_ID},K]}}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(Mi,12))},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({providers:[...cn,...yn],imports:[D.CommonModule,l.ApplicationModule]}),n})(),es=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(D.DOCUMENT))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:function(t){let i=null;return i=t?new t:function vn(){return new es((0,l.\u0275\u0275inject)(D.DOCUMENT))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Qe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:function(t){let i=null;return i=t?new(t||n):l.\u0275\u0275inject(Re),i},providedIn:"root"}),n})(),Re=(()=>{class n extends Qe{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.SecurityContext.NONE:return i;case l.SecurityContext.HTML:return(0,l.\u0275allowSanitizationBypassAndThrow)(i,"HTML")?(0,l.\u0275unwrapSafeValue)(i):(0,l.\u0275_sanitizeHtml)(this._doc,String(i)).toString();case l.SecurityContext.STYLE:return(0,l.\u0275allowSanitizationBypassAndThrow)(i,"Style")?(0,l.\u0275unwrapSafeValue)(i):i;case l.SecurityContext.SCRIPT:if((0,l.\u0275allowSanitizationBypassAndThrow)(i,"Script"))return(0,l.\u0275unwrapSafeValue)(i);throw new Error("unsafe value used in a script context");case l.SecurityContext.URL:return(0,l.\u0275allowSanitizationBypassAndThrow)(i,"URL")?(0,l.\u0275unwrapSafeValue)(i):(0,l.\u0275_sanitizeUrl)(String(i));case l.SecurityContext.RESOURCE_URL:if((0,l.\u0275allowSanitizationBypassAndThrow)(i,"ResourceURL"))return(0,l.\u0275unwrapSafeValue)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.\u0275bypassSanitizationTrustHtml)(t)}bypassSecurityTrustStyle(t){return(0,l.\u0275bypassSanitizationTrustStyle)(t)}bypassSecurityTrustScript(t){return(0,l.\u0275bypassSanitizationTrustScript)(t)}bypassSecurityTrustUrl(t){return(0,l.\u0275bypassSanitizationTrustUrl)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.\u0275bypassSanitizationTrustResourceUrl)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(D.DOCUMENT))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:function(t){let i=null;return i=t?new t:function At(n){return new Re(n.get(D.DOCUMENT))}(l.\u0275\u0275inject(l.Injector)),i},providedIn:"root"}),n})();var at=k(5254),Ke=k(1086),kn=k(591),It=k(6053),bi=k(1961),Bn=k(8514),ts=k(4843),Wi=k(1737),Ht=k(4450),Ni=k(6498),Ji=k(8896),Lr=k(1762),Ft=k(8929),Ze=k(4850),jn=k(7545),ei=k(2986),Mn=k(1059),pn=k(2198),Cn=k(1709),an=k(7224),ur=k(1406),ti=k(2868),er=k(7221),vr=k(2014),Vr=k(8127),bs=k(4290),dr=k(7314),wi=k(2821),Gl=k(7604),Ri=k(537),ji=k(4327),xr=k(9146);const $t="primary";class ro{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Gi(n){return new ro(n)}function pi(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const u=i[s],h=n[s];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function br(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!sa(n[r],e[r]))return!1;return!0}function sa(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function al(n){return Array.prototype.concat.apply([],n)}function Ra(n){return n.length>0?n[n.length-1]:null}function In(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ns(n){return(0,l.\u0275isObservable)(n)?n:(0,l.\u0275isPromise)(n)?(0,at.D)(Promise.resolve(n)):(0,Ke.of)(n)}const ll={exact:function aa(n,e,t){if(!is(n.segments,e.segments)||!ws(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!aa(n.children[i],e.children[i],t))return!1;return!0},subset:ca},ko={exact:function Vc(n,e){return br(n,e)},subset:function la(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>sa(n[t],e[t]))},ignored:()=>!0};function Br(n,e,t){return ll[t.paths](n.root,e.root,t.matrixParams)&&ko[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ca(n,e,t){return Ro(n,e,e.segments,t)}function Ro(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!is(r,t)||e.hasChildren()||!ws(r,t,i))}if(n.segments.length===t.length){if(!is(n.segments,t)||!ws(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!ca(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(is(n.segments,r)&&ws(n.segments,r,i)&&n.children[$t])&&Ro(n.children[$t],e,s,i)}}function ws(n,e,t){return e.every((i,r)=>ko[t](n[r].parameters,i.parameters))}class so{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gi(this.queryParams)),this._queryParamMap}toString(){return Oa.serialize(this)}}class qt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,In(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rs(this)}}class Oo{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Gi(this.parameters)),this._parameterMap}toString(){return Fo(this)}}function is(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class Po{}class No{parse(e){const t=new Lo(e);return new so(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${wr(e.root,!0)}`,i=function Bc(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${ao(t)}=${ao(r)}`).join("&"):`${ao(t)}=${ao(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function lo(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Oa=new No;function rs(n){return n.segments.map(e=>Fo(e)).join("/")}function wr(n,e){if(!n.hasChildren())return rs(n);if(e){const t=n.children[$t]?wr(n.children[$t],!1):"",i=[];return In(n.children,(r,s)=>{s!==$t&&i.push(`${s}:${wr(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function oo(n,e){let t=[];return In(n.children,(i,r)=>{r===$t&&(t=t.concat(e(i,r)))}),In(n.children,(i,r)=>{r!==$t&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===$t?[wr(n.children[$t],!1)]:[`${r}:${wr(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$t]?`${rs(n)}/${t[0]}`:`${rs(n)}/(${t.join("//")})`}}function Ar(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ao(n){return Ar(n).replace(/%3B/gi,";")}function wn(n){return Ar(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function js(n){return decodeURIComponent(n)}function Us(n){return js(n.replace(/\+/g,"%20"))}function Fo(n){return`${wn(n.path)}${function ua(n){return Object.keys(n).map(e=>`;${wn(e)}=${wn(n[e])}`).join("")}(n.parameters)}`}const ni=/^[^\/()?;=#]+/;function da(n){const e=n.match(ni);return e?e[0]:""}const jc=/^[^=?&#]+/,ii=/^[^&#]+/;class Lo{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[$t]=new qt(e,t)),i}parseSegment(){const e=da(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.\u0275RuntimeError(4009,!1);return this.capture(e),new Oo(js(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=da(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=da(this.remaining);r&&(i=r,this.capture(i))}e[js(t)]=js(i)}parseQueryParam(e){const t=function co(n){const e=n.match(jc);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function ha(n){const e=n.match(ii);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Us(t),s=Us(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=da(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.\u0275RuntimeError(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=$t);const u=this.parseChildren();t[s]=1===Object.keys(u).length?u[$t]:new qt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.\u0275RuntimeError(4011,!1)}}function hr(n){return n.segments.length>0?new qt([],{[$t]:n}):n}function Fi(n){const e={};for(const i of Object.keys(n.children)){const s=Fi(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function R(n){if(1===n.numberOfChildren&&n.children[$t]){const e=n.children[$t];return new qt(n.segments.concat(e.segments),e.children)}return n}(new qt(n.segments,e))}function z(n){return n instanceof so}const O=!1;function Ie(n,e,t,i,r){if(0===t.length)return Rn(e.root,e.root,e.root,i,r);const s=function mi(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new mn(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return In(s.outlets,(p,y)=>{h[y]="string"==typeof p?p.split("/"):p}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===u?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new mn(t,e,i)}(t);return s.toRoot()?Rn(e.root,e.root,new qt([],{}),i,r):function u(p){const y=function Ve(n,e,t,i){if(n.isAbsolute)return new gn(e.root,!0,0);if(-1===i)return new gn(t,t===e.root,0);return function Yt(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new l.\u0275RuntimeError(4005,O);r=i.segments.length}return new gn(i,!1,r-s)}(t,i+(vt(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,p),C=y.processChildren?zn(y.segmentGroup,y.index,s.commands):Er(y.segmentGroup,y.index,s.commands);return Rn(e.root,y.segmentGroup,C,i,r)}(n.snapshot?._lastPathIndex)}function vt(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function dn(n){return"object"==typeof n&&null!=n&&n.outlets}function Rn(n,e,t,i,r){let u,s={};i&&In(i,(p,y)=>{s[y]=Array.isArray(p)?p.map(C=>`${C}`):`${p}`}),u=n===e?t:An(n,e,t);const h=hr(Fi(u));return new so(h,s,r)}function An(n,e,t){const i={};return In(n.children,(r,s)=>{i[s]=r===e?t:An(r,e,t)}),new qt(n.segments,i)}class mn{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&vt(i[0]))throw new l.\u0275RuntimeError(4003,O);const r=i.find(dn);if(r&&r!==Ra(i))throw new l.\u0275RuntimeError(4004,O)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gn{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Er(n,e,t){if(n||(n=new qt([],{})),0===n.segments.length&&n.hasChildren())return zn(n,e,t);const i=function uo(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const u=n.segments[r],h=t[i];if(dn(h))break;const p=`${h}`,y=i<t.length-1?t[i+1]:null;if(r>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!Vo(p,y,u))return s;i+=2}else{if(!Vo(p,{},u))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new qt(n.segments.slice(0,i.pathIndex),{});return s.children[$t]=new qt(n.segments.slice(i.pathIndex),n.children),zn(s,0,r)}return i.match&&0===r.length?new qt(n.segments,{}):i.match&&!n.hasChildren()?jr(n,e,t):i.match?zn(n,0,r):jr(n,e,t)}function zn(n,e,t){if(0===t.length)return new qt(n.segments,{});{const i=function Hs(n){return dn(n[0])?n[0].outlets:{[$t]:n}}(t),r={};return In(i,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[u]=Er(n.children[u],e,s))}),In(n.children,(s,u)=>{void 0===i[u]&&(r[u]=s)}),new qt(n.segments,r)}}function jr(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(dn(s)){const p=Ur(s.outlets);return new qt(i,p)}if(0===r&&vt(t[0])){i.push(new Oo(n.segments[e].path,ho(t[0]))),r++;continue}const u=dn(s)?s.outlets[$t]:`${s}`,h=r<t.length-1?t[r+1]:null;u&&h&&vt(h)?(i.push(new Oo(u,ho(h))),r+=2):(i.push(new Oo(u,{})),r++)}return new qt(i,{})}function Ur(n){const e={};return In(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=jr(new qt([],{}),0,t))}),e}function ho(n){const e={};return In(n,(t,i)=>e[i]=`${t}`),e}function Vo(n,e,t){return n==t.path&&br(e,t.parameters)}class kr{constructor(e,t){this.id=e,this.url=t}}class cl extends kr{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $s extends kr{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zs extends kr{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Li extends kr{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ss extends kr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bo extends kr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fo extends kr{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Es extends kr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ul extends kr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ql{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pa{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nu{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fa{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Na{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dl{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ws{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class po{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=jo(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=jo(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=mo(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return mo(e,this._root).map(t=>t.value)}}function jo(n,e){if(n===e.value)return e;for(const t of e.children){const i=jo(n,t);if(i)return i}return null}function mo(n,e){if(n===e.value)return[e];for(const t of e.children){const i=mo(n,t);if(i.length)return i.unshift(e),i}return[]}class Cs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function os(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Zl extends po{constructor(e,t){super(e),this.snapshot=t,La(this,e)}toString(){return this.snapshot.toString()}}function pa(n,e){const t=function hl(n,e){const u=new ci([],{},{},"",{},$t,e,null,n.root,-1,{});return new Fa("",new Cs(u,[]))}(n,e),i=new kn.X([new Oo("",{})]),r=new kn.X({}),s=new kn.X({}),u=new kn.X({}),h=new kn.X(""),p=new Hr(i,r,u,h,s,$t,e,t.root);return p.snapshot=t.root,new Zl(new Cs(p,[]),t)}class Hr{constructor(e,t,i,r,s,u,h,p){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ze.U)(e=>Gi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ze.U)(e=>Gi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ki(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Is(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class ci{constructor(e,t,i,r,s,u,h,p,y,C,M,B){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this.routeConfig=p,this._urlSegment=y,this._lastPathIndex=C,this._correctedLastPathIndex=B??C,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fa extends po{constructor(e,t){super(t),this.url=e,La(this,t)}toString(){return Va(this._root)}}function La(n,e){e.value._routerState=n,e.children.forEach(t=>La(n,t))}function Va(n){const e=n.children.length>0?` { ${n.children.map(Va).join(", ")} } `:"";return`${n.value}${e}`}function Ba(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,br(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),br(e.params,t.params)||n.params.next(t.params),function Pu(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!br(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),br(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ja(n,e){const t=br(n.params,e.params)&&function Mr(n,e){return is(n,e)&&n.every((t,i)=>br(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ja(n.parent,e.parent))}function Gs(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function pl(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Gs(n,i,r);return Gs(n,i)})}(n,e,t);return new Cs(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>Gs(n,h)),u}}const i=function go(n){return new Hr(new kn.X(n.url),new kn.X(n.params),new kn.X(n.queryParams),new kn.X(n.fragment),new kn.X(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>Gs(n,s));return new Cs(i,r)}}const ml="ngNavigationCancelingError";function gl(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=z(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Ua(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function Ua(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[ml]=!0,i.cancellationCode=e,t&&(i.url=t),i}function as(n){return ma(n)&&z(n.url)}function ma(n){return n&&n[ml]}class te{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new w,this.attachRef=null}}class w{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new te,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}const x=!1;let Z=(()=>{class n{constructor(t,i,r,s,u){this.parentContexts=t,this.location=i,this.changeDetector=s,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.EventEmitter,this.deactivateEvents=new l.EventEmitter,this.attachEvents=new l.EventEmitter,this.detachEvents=new l.EventEmitter,this.name=r||$t,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.\u0275RuntimeError(4012,x);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.\u0275RuntimeError(4012,x);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.\u0275RuntimeError(4012,x);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new l.\u0275RuntimeError(4013,x);this._activatedRoute=t;const r=this.location,u=t._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,p=new be(t,h,r.injector);if(i&&function je(n){return!!n.resolveComponentFactory}(i)){const y=i.resolveComponentFactory(u);this.activated=r.createComponent(y,r.length,p)}else this.activated=r.createComponent(u,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(w),l.\u0275\u0275directiveInject(l.ViewContainerRef),l.\u0275\u0275injectAttribute("name"),l.\u0275\u0275directiveInject(l.ChangeDetectorRef),l.\u0275\u0275directiveInject(l.EnvironmentInjector))},n.\u0275dir=l.\u0275\u0275defineDirective({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class be{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Hr?this.route:e===w?this.childContexts:this.parent.get(e,t)}}let Ct=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&l.\u0275\u0275element(0,"router-outlet")},dependencies:[Z],encapsulation:2}),n})();function hn(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.createEnvironmentInjector)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function _a(n){const e=n.children&&n.children.map(_a),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==$t&&(t.component=Ct),t}function cs(n){return n.outlet||$t}function Xl(n,e){const t=n.filter(i=>cs(i)===e);return t.push(...n.filter(i=>cs(i)!==e)),t}function bf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class wf{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Ba(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=os(t);e.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,r[u],i),delete r[u]}),In(r,(s,u)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=os(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=os(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=os(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new dl(s.value.snapshot))}),e.children.length&&this.forwardEvent(new fa(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(Ba(r),r===s)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Ba(h.route.value),this.activateChildRoutes(e,null,u.children)}else{const h=bf(r.snapshot),p=h?.get(l.ComponentFactoryResolver)??null;u.attachRef=null,u.route=r,u.resolver=p,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class Fu{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ss{constructor(e,t){this.component=e,this.route=t}}function Ld(n,e,t){const i=n._root;return Uo(i,e?e._root:null,t,[i.value])}function $r(n,e,t){return(bf(e)??t).get(n)}function Uo(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=os(e);return n.children.forEach(u=>{(function Hc(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const p=function $c(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!is(n.url,e.url);case"pathParamsOrQueryParamsChange":return!is(n.url,e.url)||!br(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ja(n,e)||!br(n.queryParams,e.queryParams);default:return!ja(n,e)}}(u,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new Fu(i)):(s.data=u.data,s._resolvedData=u._resolvedData),Uo(n,e,s.component?h?h.children:null:t,i,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Ss(h.outlet.component,u))}else u&&Ha(e,h,r),r.canActivateChecks.push(new Fu(i)),Uo(n,null,s.component?h?h.children:null:t,i,r)})(u,s[u.value.outlet],t,i.concat([u.value]),r),delete s[u.value.outlet]}),In(s,(u,h)=>Ha(u,t.getContext(h),r)),r}function Ha(n,e,t){const i=os(n),r=n.value;In(i,(s,u)=>{Ha(s,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Ss(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function yl(n){return"function"==typeof n}const bl=Symbol("INITIAL_VALUE");function zr(){return(0,jn.w)(n=>(0,It.aj)(n.map(e=>e.pipe((0,ei.q)(1),(0,Mn.O)(bl)))).pipe((0,Ze.U)(e=>{for(const t of e)if(!0!==t){if(t===bl)return bl;if(!1===t||t instanceof so)return t}return!0}),(0,pn.h)(e=>e!==bl),(0,ei.q)(1)))}function va(n){return(0,ts.z)((0,ti.b)(e=>{if(z(e))throw gl(0,e)}),(0,Ze.U)(e=>!0===e))}const $o={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _o(n,e,t,i,r){const s=us(n,e,t);return s.matched?function ba(n,e,t,i){const r=e.canMatch;if(!r||0===r.length)return(0,Ke.of)(!0);const s=r.map(u=>{const h=n.get(u),p=function Jl(n){return n&&yl(n.canMatch)}(h)?h.canMatch(e,t):h(e,t);return ns(p)});return(0,Ke.of)(s).pipe(zr(),va())}(i=hn(e,i),e,t).pipe((0,Ze.U)(u=>!0===u?s:{...$o})):(0,Ke.of)(s)}function us(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...$o}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||pi)(t,n,e);if(!r)return{...$o};const s={};In(r.posParams,(h,p)=>{s[p]=h.path});const u=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function Un(n,e,t,i,r="corrected"){if(t.length>0&&function zo(n,e,t){return t.some(i=>Kc(n,e,i)&&cs(i)!==$t)}(n,t,i)){const u=new qt(e,function ju(n,e,t,i){const r={};r[$t]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&cs(s)!==$t){const u=new qt([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[cs(s)]=u}return r}(n,e,i,new qt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function Uu(n,e,t){return t.some(i=>Kc(n,e,i))}(n,t,i)){const u=new qt(n.segments,function Bu(n,e,t,i,r,s){const u={};for(const h of i)if(Kc(n,t,h)&&!r[cs(h)]){const p=new qt([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:e.length,u[cs(h)]=p}return{...r,...u}}(n,e,t,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const s=new qt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Kc(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function qc(n,e,t,i){return!!(cs(n)===i||i!==$t&&Kc(e,t,n))&&("**"===n.path||us(e,n,t).matched)}function nc(n,e,t){return 0===e.length&&!n.children[t]}const Si=!1;class jd{constructor(e){this.segmentGroup=e||null}}class Ud{constructor(e){this.urlTree=e}}function Ti(n){return(0,Wi._)(new jd(n))}function Yc(n){return(0,Wi._)(new Ud(n))}class Gr{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=Un(this.urlTree.root,[],[],this.config).segmentGroup,t=new qt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,$t).pipe((0,Ze.U)(s=>this.createUrlTree(Fi(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,er.K)(s=>{if(s instanceof Ud)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof jd?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,$t).pipe((0,Ze.U)(r=>this.createUrlTree(Fi(r),e.queryParams,e.fragment))).pipe((0,er.K)(r=>{throw r instanceof jd?this.noMatchError(r):r}))}noMatchError(e){return new l.\u0275RuntimeError(4002,Si)}createUrlTree(e,t,i){const r=hr(e);return new so(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,Ze.U)(s=>new qt([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,at.D)(r).pipe((0,ur.b)(s=>{const u=i.children[s],h=Xl(t,s);return this.expandSegmentGroup(e,h,u,s).pipe((0,Ze.U)(p=>({segment:p,outlet:s})))}),(0,vr.R)((s,u)=>(s[u.outlet]=u.segment,s),{}),(0,Vr.Z)())}expandSegment(e,t,i,r,s,u){return(0,at.D)(i).pipe((0,ur.b)(h=>this.expandSegmentAgainstRoute(e,t,i,h,r,s,u).pipe((0,er.K)(y=>{if(y instanceof jd)return(0,Ke.of)(null);throw y}))),(0,an.P)(h=>!!h),(0,er.K)((h,p)=>{if(h instanceof Ht.K||"EmptyError"===h.name)return nc(t,r,s)?(0,Ke.of)(new qt([],{})):Ti(t);throw h}))}expandSegmentAgainstRoute(e,t,i,r,s,u,h){return qc(r,t,s,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u):Ti(t):Ti(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Yc(s):this.lineralizeSegments(i,s).pipe((0,Cn.zg)(u=>{const h=new qt(u,{});return this.expandSegment(e,h,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u){const{matched:h,consumedSegments:p,remainingSegments:y,positionalParamSegments:C}=us(t,r,s);if(!h)return Ti(t);const M=this.applyRedirectCommands(p,r.redirectTo,C);return r.redirectTo.startsWith("/")?Yc(M):this.lineralizeSegments(r,M).pipe((0,Cn.zg)(B=>this.expandSegment(e,t,i,B.concat(y),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=hn(i,e),i.loadChildren?(i._loadedRoutes?(0,Ke.of)({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,Ze.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new qt(r,{})))):(0,Ke.of)(new qt(r,{}))):_o(t,i,r,e).pipe((0,jn.w)(({matched:u,consumedSegments:h,remainingSegments:p})=>u?this.getChildConfig(e=i._injector??e,i,r).pipe((0,Cn.zg)(C=>{const M=C.injector??e,B=C.routes,{segmentGroup:ee,slicedSegments:re}=Un(t,h,p,B),ye=new qt(ee.segments,ee.children);if(0===re.length&&ye.hasChildren())return this.expandChildren(M,B,ye).pipe((0,Ze.U)(yt=>new qt(h,yt)));if(0===B.length&&0===re.length)return(0,Ke.of)(new qt(h,{}));const Te=cs(i)===s;return this.expandSegment(M,ye,B,re,Te?$t:s,!0).pipe((0,Ze.U)(pt=>new qt(h.concat(pt.segments),pt.children)))})):Ti(t)))}getChildConfig(e,t,i){return t.children?(0,Ke.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,Ke.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function Ho(n,e,t,i){const r=e.canLoad;if(void 0===r||0===r.length)return(0,Ke.of)(!0);const s=r.map(u=>{const h=n.get(u),p=function zc(n){return n&&yl(n.canLoad)}(h)?h.canLoad(e,t):h(e,t);return ns(p)});return(0,Ke.of)(s).pipe(zr(),va())}(e,t,i).pipe((0,Cn.zg)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,ti.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function vw(n){return(0,Wi._)(Ua(Si,3))}())):(0,Ke.of)({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,Ke.of)(i);if(r.numberOfChildren>1||!r.children[$t])return(0,Wi._)(new l.\u0275RuntimeError(4e3,Si));r=r.children[$t]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new so(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return In(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[s]=t[h]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let u={};return In(t.children,(h,p)=>{u[p]=this.createSegmentGroup(e,h,i,r)}),new qt(s,u)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new l.\u0275RuntimeError(4001,Si);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class El{}class Zc{constructor(e,t,i,r,s,u,h,p){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h,this.urlSerializer=p}recognize(){const e=Un(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,$t).pipe((0,Ze.U)(t=>{if(null===t)return null;const i=new ci([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$t,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Cs(i,t),s=new Fa(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=Ki(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,at.D)(Object.keys(i.children)).pipe((0,ur.b)(r=>{const s=i.children[r],u=Xl(t,r);return this.processSegmentGroup(e,u,s,r)}),(0,vr.R)((r,s)=>r&&s?(r.push(...s),r):null),(0,bs.o)(r=>null!==r),(0,dr.d)(null),(0,Vr.Z)(),(0,Ze.U)(r=>{if(null===r)return null;const s=oc(r);return function Hd(n){n.sort((e,t)=>e.value.outlet===$t?-1:t.value.outlet===$t?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return(0,at.D)(t).pipe((0,ur.b)(u=>this.processSegmentAgainstRoute(u._injector??e,u,i,r,s)),(0,an.P)(u=>!!u),(0,er.K)(u=>{if(u instanceof Ht.K)return nc(i,r,s)?(0,Ke.of)([]):(0,Ke.of)(null);throw u}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!qc(t,i,r,s))return(0,Ke.of)(null);let u;if("**"===t.path){const h=r.length>0?Ra(r).parameters:{},p=Ks(i)+r.length,y=new ci(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ac(t),cs(t),t.component??t._loadedComponent??null,t,Il(i),p,Cf(t),p);u=(0,Ke.of)({snapshot:y,consumedSegments:[],remainingSegments:[]})}else u=_o(i,t,r,e).pipe((0,Ze.U)(({matched:h,consumedSegments:p,remainingSegments:y,parameters:C})=>{if(!h)return null;const M=Ks(i)+p.length;return{snapshot:new ci(p,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ac(t),cs(t),t.component??t._loadedComponent??null,t,Il(i),M,Cf(t),M),consumedSegments:p,remainingSegments:y}}));return u.pipe((0,jn.w)(h=>{if(null===h)return(0,Ke.of)(null);const{snapshot:p,consumedSegments:y,remainingSegments:C}=h;e=t._injector??e;const M=t._loadedInjector??e,B=function Om(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:ee,slicedSegments:re}=Un(i,y,C,B.filter(Te=>void 0===Te.redirectTo),this.relativeLinkResolution);if(0===re.length&&ee.hasChildren())return this.processChildren(M,B,ee).pipe((0,Ze.U)(Te=>null===Te?null:[new Cs(p,Te)]));if(0===B.length&&0===re.length)return(0,Ke.of)([new Cs(p,[])]);const ye=cs(t)===s;return this.processSegment(M,B,ee,re,ye?$t:s).pipe((0,Ze.U)(Te=>null===Te?null:[new Cs(p,Te)]))}))}}function sc(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function oc(n){const e=[],t=new Set;for(const i of n){if(!sc(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=oc(i.children);e.push(new Cs(i.value,r))}return e.filter(i=>!t.has(i))}function Il(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ks(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function ac(n){return n.data||{}}function Cf(n){return n.resolve||{}}const $d=Symbol("RouteTitle");function Df(n){return"string"==typeof n.title||null===n.title}function tr(n){return(0,jn.w)(e=>{const t=n(e);return t?(0,at.D)(t).pipe((0,Ze.U)(()=>e)):(0,Ke.of)(e)})}class Sf extends class Ts{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Wa=new l.InjectionToken("ROUTES");let Sl=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,Ke.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=ns(t.loadComponent()).pipe((0,ti.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),(0,Ri.x)(()=>{this.componentLoaders.delete(t)})),r=new Lr.c(i,()=>new Ft.xQ).pipe((0,ji.x)());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,Ke.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Ze.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,y,C=!1;Array.isArray(h)?y=h:(p=h.create(t).injector,y=al(p.get(Wa,[],l.InjectFlags.Self|l.InjectFlags.Optional)));return{routes:y.map(_a),injector:p}}),(0,Ri.x)(()=>{this.childrenLoaders.delete(i)})),u=new Lr.c(s,()=>new Ft.xQ).pipe((0,ji.x)());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return ns(t()).pipe((0,Cn.zg)(i=>i instanceof l.NgModuleFactory||Array.isArray(i)?(0,Ke.of)(i):(0,at.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(l.Injector),l.\u0275\u0275inject(l.Compiler))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class Go{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function P(n){throw n}function W(n,e,t){return e.parse("/")}const se={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ve={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ce=(()=>{class n{constructor(t,i,r,s,u,h,p){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ft.xQ,this.errorHandler=P,this.malformedUriErrorHandler=W,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Ke.of)(void 0),this.urlHandlingStrategy=new Go,this.routeReuseStrategy=new Sf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(Sl),this.configLoader.onLoadEndListener=B=>this.triggerEvent(new Pa(B)),this.configLoader.onLoadStartListener=B=>this.triggerEvent(new ql(B)),this.ngModule=u.get(l.NgModuleRef),this.console=u.get(l.\u0275Console);const M=u.get(l.NgZone);this.isNgZoneEnabled=M instanceof l.NgZone&&l.NgZone.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function Kl(){return new so(new qt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=pa(this.currentUrlTree,this.rootComponentType),this.transitions=new kn.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe((0,pn.h)(r=>0!==r.id),(0,Ze.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),(0,jn.w)(r=>{let s=!1,u=!1;return(0,Ke.of)(r).pipe((0,ti.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,jn.w)(h=>{const p=this.browserUrlTree.toString(),y=!this.navigated||h.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return lt(h.source)&&(this.browserUrlTree=h.extractedUrl),(0,Ke.of)(h).pipe((0,jn.w)(M=>{const B=this.transitions.getValue();return i.next(new cl(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),B!==this.transitions.getValue()?Ji.E:Promise.resolve(M)}),function Wo(n,e,t,i){return(0,jn.w)(r=>function Hu(n,e,t,i,r){return new Gr(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,Ze.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ti.b)(M=>{this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects},r.urlAfterRedirects=M.urlAfterRedirects}),function Pm(n,e,t,i,r,s){return(0,Cn.zg)(u=>function $u(n,e,t,i,r,s,u="emptyOnly",h="legacy"){return new Zc(n,e,t,i,r,u,h,s).recognize().pipe((0,jn.w)(p=>null===p?function Cl(n){return new Ni.y(e=>e.error(n))}(new El):(0,Ke.of)(p)))}(n,e,t,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,s).pipe((0,Ze.U)(h=>({...u,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ti.b)(M=>{if(r.targetSnapshot=M.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const ee=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(ee,M)}this.browserUrlTree=M.urlAfterRedirects}const B=new ss(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);i.next(B)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:B,extractedUrl:ee,source:re,restoredState:ye,extras:Te}=h,it=new cl(B,this.serializeUrl(ee),re,ye);i.next(it);const pt=pa(ee,this.rootComponentType).snapshot;return r={...h,targetSnapshot:pt,urlAfterRedirects:ee,extras:{...Te,skipLocationChange:!1,replaceUrl:!1}},(0,Ke.of)(r)}return this.rawUrlTree=h.rawUrl,h.resolve(null),Ji.E}),(0,ti.b)(h=>{const p=new Bo(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),(0,Ze.U)(h=>r={...h,guards:Ld(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function Ef(n,e){return(0,Cn.zg)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:u}}=t;return 0===u.length&&0===s.length?(0,Ke.of)({...t,guardsResult:!0}):function ec(n,e,t,i){return(0,at.D)(n).pipe((0,Cn.zg)(r=>function Wr(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,Ke.of)(!0);const u=s.map(h=>{const p=$r(h,e,r);return ns(function $a(n){return n&&yl(n.canDeactivate)}(p)?p.canDeactivate(n,e,t,i):p(n,e,t,i)).pipe((0,an.P)())});return(0,Ke.of)(u).pipe(zr())}(r.component,r.route,t,e,i)),(0,an.P)(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Cn.zg)(h=>h&&function vl(n){return"boolean"==typeof n}(h)?function Lu(n,e,t,i){return(0,at.D)(e).pipe((0,ur.b)(r=>(0,bi.z)(function wl(n,e){return null!==n&&e&&e(new Nu(n)),(0,Ke.of)(!0)}(r.route.parent,i),function Vu(n,e){return null!==n&&e&&e(new Na(n)),(0,Ke.of)(!0)}(r.route,i),function Ei(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(u=>function ya(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>(0,Bn.P)(()=>{const h=u.guards.map(p=>{const y=$r(p,u.node,t);return ns(function Gc(n){return n&&yl(n.canActivateChild)}(y)?y.canActivateChild(i,n):y(i,n)).pipe((0,an.P)())});return(0,Ke.of)(h).pipe(zr())}));return(0,Ke.of)(s).pipe(zr())}(n,r.path,t),function tc(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,Ke.of)(!0);const r=i.map(s=>(0,Bn.P)(()=>{const u=$r(s,e,t);return ns(function Wc(n){return n&&yl(n.canActivate)}(u)?u.canActivate(e,n):u(e,n)).pipe((0,an.P)())}));return(0,Ke.of)(r).pipe(zr())}(n,r.route,t))),(0,an.P)(r=>!0!==r,!0))}(i,s,n,e):(0,Ke.of)(h)),(0,Ze.U)(h=>({...t,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,ti.b)(h=>{if(r.guardsResult=h.guardsResult,z(h.guardsResult))throw gl(0,h.guardsResult);const p=new fo(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(p)}),(0,pn.h)(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),tr(h=>{if(h.guards.canActivateChecks.length)return(0,Ke.of)(h).pipe((0,ti.b)(p=>{const y=new Es(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),(0,jn.w)(p=>{let y=!1;return(0,Ke.of)(p).pipe(function zd(n,e){return(0,Cn.zg)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return(0,Ke.of)(t);let s=0;return(0,at.D)(r).pipe((0,ur.b)(u=>function If(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!Df(r)&&(s[$d]=r.title),function za(n,e,t,i){const r=function Qc(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,Ke.of)({});const s={};return(0,at.D)(r).pipe((0,Cn.zg)(u=>function Dl(n,e,t,i){const r=$r(n,e,i);return ns(r.resolve?r.resolve(e,t):r(e,t))}(n[u],e,t,i).pipe((0,an.P)(),(0,ti.b)(h=>{s[u]=h}))),(0,wi.h)(1),(0,Gl.h)(s),(0,er.K)(u=>u instanceof Ht.K?Ji.E:(0,Wi._)(u)))}(s,n,e,i).pipe((0,Ze.U)(u=>(n._resolvedData=u,n.data=Ki(n,t).resolve,r&&Df(r)&&(n.data[$d]=r.title),null)))}(u.route,i,n,e)),(0,ti.b)(()=>s++),(0,wi.h)(1),(0,Cn.zg)(u=>s===r.length?(0,Ke.of)(t):Ji.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ti.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,ti.b)(p=>{const y=new ul(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}))}),tr(h=>{const p=y=>{const C=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,ti.b)(M=>{y.component=M}),(0,Ze.U)(()=>{})));for(const M of y.children)C.push(...p(M));return C};return(0,It.aj)(p(h.targetSnapshot.root)).pipe((0,dr.d)(),(0,ei.q)(1))}),tr(()=>this.afterPreactivation()),(0,Ze.U)(h=>{const p=function fl(n,e,t){const i=Gs(n,e._root,t?t._root:void 0);return new Zl(i,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r={...h,targetRouterState:p}}),(0,ti.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,Ze.U)(i=>(new wf(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,ti.b)({next(){s=!0},complete(){s=!0}}),(0,Ri.x)(()=>{s||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),(0,er.K)(h=>{if(u=!0,ma(h)){as(h)||(this.navigated=!0,this.restoreHistory(r,!0));const p=new zs(r.id,this.serializeUrl(r.extractedUrl),h.message,h.cancellationCode);if(i.next(p),as(h)){const y=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),C={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||lt(r.source)};this.scheduleNavigation(y,"imperative",null,C,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new Li(r.id,this.serializeUrl(r.extractedUrl),h,r.targetSnapshot??void 0);i.next(p);try{r.resolve(this.errorHandler(h))}catch(y){r.reject(y)}}return Ji.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const h={...s};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(r.state=h)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(_a),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:u,queryParamsHandling:h,preserveFragment:p}=i,y=r||this.routerState.root,C=p?this.currentUrlTree.fragment:u;let M=null;switch(h){case"merge":M={...this.currentUrlTree.queryParams,...s};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=s||null}return null!==M&&(M=this.removeEmptyProps(M)),Ie(y,this.currentUrlTree,t,M,C??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=z(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function ze(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.\u0275RuntimeError(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...se}:!1===i?{...ve}:i,z(t))return Br(this.currentUrlTree,t,r);const s=this.parseUrl(t);return Br(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new $s(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,u){if(this.disposed)return Promise.resolve(!1);let h,p,y;u?(h=u.resolve,p=u.reject,y=u.promise):y=new Promise((B,ee)=>{h=B,p=ee});const C=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),M=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):M=0,this.setTransition({id:C,targetPageId:M,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:h,reject:p,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(B=>Promise.reject(B))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const s=new zs(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){l.\u0275\u0275invalidFactory()},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function lt(n){return"imperative"!==n}let Pt=(()=>{class n{constructor(t,i,r,s,u){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=u,this.commands=null,this.onChanges=new Ft.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:(0,l.\u0275coerceToBoolean)(this.skipLocationChange),replaceUrl:(0,l.\u0275coerceToBoolean)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,l.\u0275coerceToBoolean)(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(Ce),l.\u0275\u0275directiveInject(Hr),l.\u0275\u0275injectAttribute("tabindex"),l.\u0275\u0275directiveInject(l.Renderer2),l.\u0275\u0275directiveInject(l.ElementRef))},n.\u0275dir=l.\u0275\u0275defineDirective({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&l.\u0275\u0275listener("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.\u0275\u0275NgOnChangesFeature]}),n})(),Lt=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new Ft.xQ,this.subscription=t.events.subscribe(s=>{s instanceof $s&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,s,u){if(0!==t||i||r||s||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:(0,l.\u0275coerceToBoolean)(this.skipLocationChange),replaceUrl:(0,l.\u0275coerceToBoolean)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,l.\u0275coerceToBoolean)(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(Ce),l.\u0275\u0275directiveInject(Hr),l.\u0275\u0275directiveInject(D.LocationStrategy))},n.\u0275dir=l.\u0275\u0275defineDirective({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&l.\u0275\u0275listener("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&l.\u0275\u0275attribute("target",i.target)("href",i.href,l.\u0275\u0275sanitizeUrl)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.\u0275\u0275NgOnChangesFeature]}),n})(),Ci=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===$t);return i}getResolvedTitleForRoute(t){return t.data[$d]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:function(){return(0,l.inject)(Kr)},providedIn:"root"}),n})(),Kr=(()=>{class n extends Ci{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(es))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class wa{}let Ga=(()=>{class n{constructor(t,i,r,s,u){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe((0,pn.h)(t=>t instanceof $s),(0,ur.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,l.createEnvironmentInjector)(s.providers,t,`Route: ${s.path}`));const u=s._injector??t,h=s._loadedInjector??u;s.loadChildren&&!s._loadedRoutes||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(u,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(h,s.children??s._loadedRoutes))}return(0,at.D)(r).pipe((0,xr.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):(0,Ke.of)(null);const s=r.pipe((0,Cn.zg)(u=>null===u?(0,Ke.of)(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,at.D)([s,u]).pipe((0,xr.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(Ce),l.\u0275\u0275inject(l.Compiler),l.\u0275\u0275inject(l.EnvironmentInjector),l.\u0275\u0275inject(wa),l.\u0275\u0275inject(Sl))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const Xc=new l.InjectionToken("");let Tl=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof cl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof $s&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ws&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new Ws(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.\u0275\u0275invalidFactory()},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const xl=new l.InjectionToken("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),ly=new l.InjectionToken("ROUTER_FORROOT_GUARD"),Wd=new l.InjectionToken(""),Tf=[D.Location,{provide:Po,useClass:No},{provide:Ce,useFactory:function Af(n,e,t,i,r,s,u,h={},p,y){const C=new Ce(null,n,e,t,i,r,al(s));return p&&(C.urlHandlingStrategy=p),y&&(C.routeReuseStrategy=y),C.titleStrategy=u,function bw(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,C),C},deps:[Po,w,D.Location,l.Injector,l.Compiler,Wa,Ci,xl,[class lc{},new l.Optional],[class Wu{},new l.Optional]]},w,{provide:Hr,useFactory:function qd(n){return n.routerState.root},deps:[Ce]},Sl];function cy(){return new l.NgProbeToken("Router",Ce)}let xf=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[Tf,[],Kd(t),{provide:ly,useFactory:Nm,deps:[[Ce,new l.Optional,new l.SkipSelf]]},{provide:xl,useValue:i||{}},i?.useHash?{provide:D.LocationStrategy,useClass:D.HashLocationStrategy}:{provide:D.LocationStrategy,useClass:D.PathLocationStrategy},{provide:Xc,useFactory:()=>{const n=(0,l.inject)(Ce),e=(0,l.inject)(D.ViewportScroller),t=(0,l.inject)(xl);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Tl(n,e,t)}},i?.preloadingStrategy?hy(i.preloadingStrategy):[],{provide:l.NgProbeToken,multi:!0,useFactory:cy},i?.initialNavigation?kf(i):[],[{provide:Jc,useFactory:dy},{provide:l.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Jc}]]}}static forChild(t){return{ngModule:n,providers:[Kd(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(ly,8),l.\u0275\u0275inject(Ce,8))},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({}),n})();function Nm(n){return"guarded"}function Kd(n){return[{provide:l.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:n},{provide:Wa,multi:!0,useValue:n}]}function dy(){const n=(0,l.inject)(l.Injector);return e=>{const t=n.get(l.ApplicationRef);if(e!==t.components[0])return;const i=n.get(Ce),r=n.get(eu);null===n.get(Ml,null,l.InjectFlags.Optional)&&i.initialNavigation(),n.get(Wd,null,l.InjectFlags.Optional)?.setUpPreloading(),n.get(Xc,null,l.InjectFlags.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.next(),r.complete()}}const Jc=new l.InjectionToken("");function kf(n){return["disabled"===n.initialNavigation?[{provide:l.APP_INITIALIZER,multi:!0,useFactory:()=>{const n=(0,l.inject)(Ce);return()=>{n.setUpLocationChangeListener()}}},{provide:Ml,useValue:"disabled"}]:[],"enabledBlocking"===n.initialNavigation?[{provide:Ml,useValue:"enabledBlocking"},{provide:l.APP_INITIALIZER,multi:!0,deps:[l.Injector],useFactory:n=>{const e=n.get(D.LOCATION_INITIALIZED,Promise.resolve(null));let t=!1;return()=>e.then(()=>new Promise(r=>{const s=n.get(Ce),u=n.get(eu);(function i(r){n.get(Ce).events.pipe((0,pn.h)(u=>u instanceof $s||u instanceof zs||u instanceof Li),(0,Ze.U)(u=>u instanceof $s||u instanceof zs&&(0===u.code||1===u.code)&&null),(0,pn.h)(u=>null!==u),(0,ei.q)(1)).subscribe(()=>{r()})})(()=>{r(!0),t=!0}),s.afterPreactivation=()=>(r(!0),t||u.closed?(0,Ke.of)(void 0):u),s.initialNavigation()}))}}]:[]]}const eu=new l.InjectionToken("",{factory:()=>new Ft.xQ}),Ml=new l.InjectionToken("");function hy(n){return[Ga,{provide:Wd,useExisting:Ga},{provide:wa,useExisting:n}]}const Zd=[];let Qd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({imports:[xf.forRoot(Zd),xf]}),n})();var cc=k(1024),Qt=k(6351),Ys=k(5867);class uc{constructor(e){return e}}class Vm{constructor(){return(0,Ys.C6)()}}const Of=new l.InjectionToken("angularfire2._apps"),vo={provide:uc,useFactory:function Bm(n){return n&&1===n.length?n[0]:new uc((0,Ys.Mq)())},deps:[[new l.Optional,Of]]},tu={provide:Vm,deps:[[new l.Optional,Of]]};function jm(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new uc(i)}}let fy=(()=>{class n{constructor(t){(0,Ys.KN)("angularfire",Qt.q4.full,"core"),(0,Ys.KN)("angularfire",Qt.q4.full,"app"),(0,Ys.KN)("angular",l.VERSION.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(l.PLATFORM_ID))},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({providers:[vo,tu]}),n})();function py(n,...e){return{ngModule:fy,providers:[{provide:Of,useFactory:jm(n),multi:!0,deps:[l.NgZone,l.Injector,Qt.HU,...e]}]}}const Um=(0,Qt.u3)(Ys.ZF,!0);var Le=k(5861),xs=k(9681),Ko=k(4859),X=k(2090),bo=k(1877);const qo=new Map,qu={activated:!1,tokenObservers:[]},$m={initialized:!1,enabled:!1};function qi(n){return qo.get(n)||qu}function wo(n,e){qo.set(n,e)}function Yu(){return $m}class _y{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Le.Z)(function*(){t.stop();try{t.pending=new X.BH,yield function Wm(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new X.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ds=new X.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function b(n){if(!qi(n).activated)throw ds.create("use-before-activation",{appName:n.name})}function E(n,e){return L.apply(this,arguments)}function L(){return(L=(0,Le.Z)(function*({url:n,body:e},t){var i,r;const s={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});if(u){const ee=yield u.getHeartbeatsHeader();ee&&(s["X-Firebase-Client"]=ee)}const h={method:"POST",body:JSON.stringify(e),headers:s};let p,y;try{p=yield fetch(n,h)}catch(ee){throw ds.create("fetch-network-error",{originalErrorMessage:null===(i=ee)||void 0===i?void 0:i.message})}if(200!==p.status)throw ds.create("fetch-status-error",{httpStatus:p.status});try{y=yield p.json()}catch(ee){throw ds.create("fetch-parse-error",{originalErrorMessage:null===(r=ee)||void 0===r?void 0:r.message})}const C=y.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw ds.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const M=1e3*Number(C[1]),B=Date.now();return{token:y.token,expireTimeMillis:B+M,issuedAtTimeMillis:B}})).apply(this,arguments)}function Oe(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Mt="firebase-app-check-store";let Zn=null;function Or(){return Zn||(Zn=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;e(ds.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Mt,{keyPath:"compositeKey"})}}catch(i){e(ds.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),Zn)}function hc(){return(hc=(0,Le.Z)(function*(n,e){const i=(yield Or()).transaction(Mt,"readwrite"),s=i.objectStore(Mt).put({compositeKey:n,value:e});return new Promise((u,h)=>{s.onsuccess=p=>{u()},i.onerror=p=>{var y;h(ds.create("storage-set",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})})).apply(this,arguments)}const fc=new bo.Yd("@firebase/app-check");function eh(n,e){return(0,X.hl)()?function Qu(n,e){return function dc(n,e){return hc.apply(this,arguments)}(function ed(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{fc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function qm(){return Yu().enabled}function wy(){return Ym.apply(this,arguments)}function Ym(){return(Ym=(0,Le.Z)(function*(){const n=Yu();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const nx={error:"UNKNOWN_ERROR"};function Ey(n){return X.US.encodeString(JSON.stringify(n),!1)}function nd(n){return Cy.apply(this,arguments)}function Cy(){return(Cy=(0,Le.Z)(function*(n,e=!1){const t=n.app;b(t);const i=qi(t);let s,r=i.token;if(!r){const p=yield i.cachedTokenPromise;p&&Qm(p)&&(r=p)}if(!e&&r&&Qm(r))return{token:r.token};let h,u=!1;if(qm()){i.exchangeTokenPromise||(i.exchangeTokenPromise=E(Oe(t,yield wy()),n.heartbeatServiceProvider).then(y=>(i.exchangeTokenPromise=void 0,y)),u=!0);const p=yield i.exchangeTokenPromise;return yield eh(t,p),wo(t,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(p=>(i.exchangeTokenPromise=void 0,p)),u=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?fc.warn(p.message):fc.error(p),s=p}return r?(h={token:r.token},wo(t,Object.assign(Object.assign({},i),{token:r})),yield eh(t,r)):h=ix(s),u&&Zm(t,h),h})).apply(this,arguments)}function th(n,e){const t=qi(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),wo(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function iu(n){const{app:e}=n,t=qi(e);let i=t.tokenRefresher;i||(i=function Tw(n){const{app:e}=n;return new _y((0,Le.Z)(function*(){let i;if(i=qi(e).token?yield nd(n,!0):yield nd(n),i.error)throw i.error}),()=>!0,()=>{const t=qi(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),wo(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Zm(n,e){const t=qi(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function Qm(n){return n.expireTimeMillis-Date.now()>0}function ix(n){return{token:Ey(nx),error:n}}class xw{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=qi(this.app);for(const t of e)th(this.app,t.next);return Promise.resolve()}}const eg="app-check-internal";!function px(){(0,xs._registerComponent)(new Ko.wA("app-check",n=>function nh(n,e){return new xw(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(eg).initialize()})),(0,xs._registerComponent)(new Ko.wA(eg,n=>function rx(n){return{getToken:e=>nd(n,e),addTokenListener:e=>function Nf(n,e,t,i){const{app:r}=n,s=qi(r),u={next:t,error:i,type:e};if(wo(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,u]})),s.token&&Qm(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),iu(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>iu(n))}(n,"INTERNAL",e),removeTokenListener:e=>th(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,xs.registerVersion)("@firebase/app-check","0.5.12")}();class oh{constructor(){return(0,Qt.vb)("app-check")}}typeof window<"u"&&window;var ah=k(6803);function gx(n){return new Ni.y(function(e){return{unsubscribe:(0,ah.v)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}function My(n){return new Ni.y(function(e){return{unsubscribe:(0,ah.q)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class lh{constructor(e){return e}}const Ay=new l.InjectionToken("angularfire2.auth-instances");function vx(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new lh(i)}}const Hw={provide:class _x{constructor(){return(0,Qt.vb)("auth")}},deps:[[new l.Optional,Ay]]},bx={provide:lh,useFactory:function yx(n,e){const t=(0,Qt.JM)("auth",n,e);return t&&new lh(t)},deps:[[new l.Optional,Ay],uc]};let $w=(()=>{class n{constructor(){(0,Ys.KN)("angularfire",Qt.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({providers:[bx,Hw]}),n})();function Ms(n,...e){return{ngModule:$w,providers:[{provide:Ay,useFactory:vx(n),multi:!0,deps:[l.NgZone,l.Injector,Qt.HU,Vm,[new l.Optional,oh],...e]}]}}const ky=(0,Qt.u3)(gx,!0),zw=(0,Qt.u3)(My,!0),Kw=(0,Qt.u3)(ah.a5,!0),qw=(0,Qt.u3)(ah.n,!0),tF=(0,Qt.u3)(ah.a6,!0),Ax=(0,Qt.u3)(ah.af,!0);var Ry=k(4257),Ca=k(6787),rg=k(7770),Oy=k(5154),Py=k(2313),mc=k(3334),Cr=k(2011),jf=k(127);const nE=new l.InjectionToken("angularfire2.auth.use-emulator"),ch=new l.InjectionToken("angularfire2.auth.settings"),Ny=new l.InjectionToken("angularfire2.auth.tenant-id"),sg=new l.InjectionToken("angularfire2.auth.langugage-code"),og=new l.InjectionToken("angularfire2.auth.use-device-language"),ag=new l.InjectionToken("angularfire.auth.persistence"),Uf=(n,e,t,i,r,s,u,h)=>(0,Cr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),u)for(const[y,C]of Object.entries(u))p.settings[y]=C;return h&&p.setPersistence(h),p},[t,i,r,s,u,h]);let su=(()=>{class n{constructor(t,i,r,s,u,h,p,y,C,M,B,ee){const re=new Ft.xQ,ye=(0,Ke.of)(void 0).pipe((0,rg.QV)(u.outsideAngular),(0,jn.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,5881)))),(0,Ze.U)(()=>(0,Cr.on)(t,s,i)),(0,Ze.U)(Te=>Uf(Te,s,h,y,C,M,p,B)),(0,Oy.d)({bufferSize:1,refCount:!1}));if((0,D.isPlatformServer)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ke.of)(null);else{ye.pipe((0,an.P)()).subscribe();const it=ye.pipe((0,jn.w)(mt=>mt.getRedirectResult().then(en=>en,()=>null)),Qt.iC,(0,Oy.d)({bufferSize:1,refCount:!1})),pt=ye.pipe((0,jn.w)(mt=>new Ni.y(en=>({unsubscribe:s.runOutsideAngular(()=>mt.onAuthStateChanged(tn=>en.next(tn),tn=>en.error(tn),()=>en.complete()))})))),yt=ye.pipe((0,jn.w)(mt=>new Ni.y(en=>({unsubscribe:s.runOutsideAngular(()=>mt.onIdTokenChanged(tn=>en.next(tn),tn=>en.error(tn),()=>en.complete()))}))));this.authState=it.pipe((0,Py.c)(pt),(0,mc.R)(u.outsideAngular),(0,rg.QV)(u.insideAngular)),this.user=it.pipe((0,Py.c)(yt),(0,mc.R)(u.outsideAngular),(0,rg.QV)(u.insideAngular)),this.idToken=this.user.pipe((0,jn.w)(mt=>mt?(0,at.D)(mt.getIdToken()):(0,Ke.of)(null))),this.idTokenResult=this.user.pipe((0,jn.w)(mt=>mt?(0,at.D)(mt.getIdTokenResult()):(0,Ke.of)(null))),this.credential=(0,Ca.T)(it,re,this.authState.pipe((0,pn.h)(mt=>!mt))).pipe((0,Ze.U)(mt=>mt?.user?mt:null),(0,mc.R)(u.outsideAngular),(0,rg.QV)(u.insideAngular))}return(0,Cr.pX)(this,ye,s,{spy:{apply:(Te,it,pt)=>{(Te.startsWith("signIn")||Te.startsWith("createUser"))&&pt.then(yt=>re.next(yt))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(Cr.Dh),l.\u0275\u0275inject(Cr.xv,8),l.\u0275\u0275inject(l.PLATFORM_ID),l.\u0275\u0275inject(l.NgZone),l.\u0275\u0275inject(Qt.HU),l.\u0275\u0275inject(nE,8),l.\u0275\u0275inject(ch,8),l.\u0275\u0275inject(Ny,8),l.\u0275\u0275inject(sg,8),l.\u0275\u0275inject(og,8),l.\u0275\u0275inject(ag,8),l.\u0275\u0275inject(oh,8))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),lg=(()=>{class n{constructor(){jf.Z.registerVersion("angularfire",Qt.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({providers:[su]}),n})(),gc=(()=>{class n{constructor(t,i){this.afAuth=t,this.ath=i,this.isLoggedIn=!1,this.currentUser$=ky(this.afAuth)}login(t,i){return(0,at.D)(tF(this.afAuth,t,i))}logout(){return(0,at.D)(this.afAuth.signOut())}signup(t,i,r){return(0,at.D)(Kw(this.afAuth,i,r)).pipe((0,Ry.w)(({user:s})=>Ax(s,{displayName:t})))}isAuthenticated(){return this.isLoggedIn}getauth(){return this.ath.authState.map(t=>t)}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(lh),l.\u0275\u0275inject(su))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function id(n){return n instanceof l.TemplateRef}function Fy(n){return"function"==typeof n}function Ly(n){return"string"==typeof n}let Fx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(t,i){1&t&&l.\u0275\u0275element(0,"div",0),2&t&&l.\u0275\u0275property("innerHTML",i.content,l.\u0275\u0275sanitizeHtml)},encapsulation:2}),n})();class Lx{constructor(e){this.args=e,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}detectChanges(){this.viewRef.detectChanges()}getElement(){const e=this.viewRef.rootNodes;return 1===e.length&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){1!==this.viewRef.rootNodes[0]&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}class sE{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){}destroy(){}}class Vy{constructor(e){if(this.options=e,e.vcr)this.compRef=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector});else{const t=e.resolver.resolveComponentFactory(e.component);this.compRef=t.create(e.injector),e.appRef.attachView(this.compRef.hostView)}}get ref(){return this.compRef}setInput(e,t){return this.compRef.instance[e]=t,this}setInputs(e){return Object.keys(e).forEach(t=>{this.compRef.instance[t]=e[t]}),this}detectChanges(){return this.compRef.hostView.detectChanges(),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.compRef.location.nativeElement}destroy(){this.compRef.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.compRef.hostView),this.compRef=null}}let By=(()=>{class n{constructor(t,i,r){this.resolver=t,this.injector=i,this.appRef=r}createComponent(t,i={}){return new Vy({component:t,vcr:i.vcr,injector:i.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}createTemplate(t,i={}){return new Lx({vcr:i.vcr,appRef:this.appRef,tpl:t,context:i.context})}createView(t,i={}){if(id(t))return this.createTemplate(t,i);if(Fy(t))return this.createComponent(t,i);if(Ly(t))return new sE(t);throw"Type of content is not supported"}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(l.ComponentFactoryResolver),l.\u0275\u0275inject(l.Injector),l.\u0275\u0275inject(l.ApplicationRef))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lF=(()=>{class n{constructor(t,i,r){this.defaultTpl=t,this.vcr=i,this.viewService=r}ngOnInit(){this.resolveContentType()}ngOnChanges(t){t.view&&!t.view.isFirstChange()&&this.resolveContentType()}resolveContentType(){this.viewRef?.destroy(),Ly(this.view)?(this.viewRef=this.viewService.createComponent(Fx,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:this.injector??this.vcr.injector,context:this.context})}ngOnDestroy(){this.viewRef?.destroy()}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(l.TemplateRef),l.\u0275\u0275directiveInject(l.ViewContainerRef),l.\u0275\u0275directiveInject(By))},n.\u0275dir=l.\u0275\u0275defineDirective({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"]},features:[l.\u0275\u0275NgOnChangesFeature]}),n})(),oE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({}),n})();var Vx=k(1946);const aE=["*"],Bx=function(n,e){return{"border-color":n,"border-right-color":e}};function jx(n,e){if(1&n&&(l.\u0275\u0275elementStart(0,"div"),l.\u0275\u0275text(1,"\n        "),l.\u0275\u0275element(2,"hot-toast-error",2),l.\u0275\u0275text(3,"\n      "),l.\u0275\u0275elementEnd()),2&n){const t=l.\u0275\u0275nextContext(3);l.\u0275\u0275advance(2),l.\u0275\u0275property("theme",t.theme)}}function Ka(n,e){if(1&n&&(l.\u0275\u0275elementStart(0,"div"),l.\u0275\u0275text(1,"\n        "),l.\u0275\u0275element(2,"hot-toast-checkmark",2),l.\u0275\u0275text(3,"\n      "),l.\u0275\u0275elementEnd()),2&n){const t=l.\u0275\u0275nextContext(3);l.\u0275\u0275advance(2),l.\u0275\u0275property("theme",t.theme)}}function Ux(n,e){if(1&n&&(l.\u0275\u0275elementStart(0,"div"),l.\u0275\u0275text(1,"\n        "),l.\u0275\u0275element(2,"hot-toast-warning",2),l.\u0275\u0275text(3,"\n      "),l.\u0275\u0275elementEnd()),2&n){const t=l.\u0275\u0275nextContext(3);l.\u0275\u0275advance(2),l.\u0275\u0275property("theme",t.theme)}}function lE(n,e){if(1&n&&(l.\u0275\u0275elementStart(0,"div"),l.\u0275\u0275text(1,"\n        "),l.\u0275\u0275element(2,"hot-toast-info",2),l.\u0275\u0275text(3,"\n      "),l.\u0275\u0275elementEnd()),2&n){const t=l.\u0275\u0275nextContext(3);l.\u0275\u0275advance(2),l.\u0275\u0275property("theme",t.theme)}}function Hx(n,e){if(1&n&&(l.\u0275\u0275elementStart(0,"div",4),l.\u0275\u0275text(1,"\n    "),l.\u0275\u0275elementStart(2,"div",5),l.\u0275\u0275text(3,"\n      "),l.\u0275\u0275template(4,jx,4,1,"div",6),l.\u0275\u0275text(5,"\n      "),l.\u0275\u0275template(6,Ka,4,1,"div",6),l.\u0275\u0275text(7,"\n      "),l.\u0275\u0275template(8,Ux,4,1,"div",6),l.\u0275\u0275text(9,"\n      "),l.\u0275\u0275template(10,lE,4,1,"div",6),l.\u0275\u0275text(11,"\n    "),l.\u0275\u0275elementEnd(),l.\u0275\u0275text(12,"\n  "),l.\u0275\u0275elementEnd()),2&n){const t=l.\u0275\u0275nextContext(2);l.\u0275\u0275advance(2),l.\u0275\u0275property("ngSwitch",t.type),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngSwitchCase","error"),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngSwitchCase","success"),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngSwitchCase","warning"),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngSwitchCase","info")}}function $x(n,e){if(1&n&&(l.\u0275\u0275elementStart(0,"div",1),l.\u0275\u0275text(1,"\n  "),l.\u0275\u0275element(2,"hot-toast-loader",2),l.\u0275\u0275text(3,"\n  "),l.\u0275\u0275template(4,Hx,13,5,"div",3),l.\u0275\u0275text(5,"\n"),l.\u0275\u0275elementEnd()),2&n){const t=l.\u0275\u0275nextContext();l.\u0275\u0275advance(2),l.\u0275\u0275property("theme",t.theme),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf","loading"!==t.type)}}const zx=["hotToastBarBase"];function Wx(n,e){if(1&n&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275text(1,"\n          "),l.\u0275\u0275elementStart(2,"hot-toast-animated-icon",10),l.\u0275\u0275text(3),l.\u0275\u0275elementEnd(),l.\u0275\u0275text(4,"\n        "),l.\u0275\u0275elementContainerEnd()),2&n){const t=l.\u0275\u0275nextContext(2);l.\u0275\u0275advance(2),l.\u0275\u0275property("iconTheme",t.toast.iconTheme),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(t.toast.icon)}}function cE(n,e){if(1&n&&(l.\u0275\u0275text(0,"\n          "),l.\u0275\u0275elementStart(1,"div"),l.\u0275\u0275text(2,"\n            "),l.\u0275\u0275elementContainer(3,11),l.\u0275\u0275text(4,"\n          "),l.\u0275\u0275elementEnd(),l.\u0275\u0275text(5,"\n        ")),2&n){const t=l.\u0275\u0275nextContext(2);l.\u0275\u0275advance(3),l.\u0275\u0275property("dynamicView",t.toast.icon)}}function Gx(n,e){if(1&n&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275text(1,"\n        "),l.\u0275\u0275template(2,Wx,5,2,"ng-container",4),l.\u0275\u0275text(3,"\n        "),l.\u0275\u0275template(4,cE,6,1,"ng-template",null,9,l.\u0275\u0275templateRefExtractor),l.\u0275\u0275text(6,"\n      "),l.\u0275\u0275elementContainerEnd()),2&n){const t=l.\u0275\u0275reference(5),i=l.\u0275\u0275nextContext();l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",i.isIconString)("ngIfElse",t)}}function Kx(n,e){if(1&n&&(l.\u0275\u0275text(0,"\n        "),l.\u0275\u0275element(1,"hot-toast-indicator",12),l.\u0275\u0275text(2,"\n      ")),2&n){const t=l.\u0275\u0275nextContext();l.\u0275\u0275advance(1),l.\u0275\u0275property("theme",t.toast.iconTheme)("type",t.toast.type)}}function qx(n,e){1&n&&l.\u0275\u0275elementContainer(0)}function sn(n,e){if(1&n){const t=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"button",13),l.\u0275\u0275listener("click",function(){l.\u0275\u0275restoreView(t);const r=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(r.close())}),l.\u0275\u0275elementEnd()}if(2&n){const t=l.\u0275\u0275nextContext();l.\u0275\u0275property("ngStyle",t.toast.closeStyle)}}function uE(n,e){if(1&n){const t=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"hot-toast",3),l.\u0275\u0275listener("height",function(r){const u=l.\u0275\u0275restoreView(t).$implicit,h=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(h.updateHeight(r,u))})("beforeClosed",function(){const s=l.\u0275\u0275restoreView(t).$implicit,u=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(u.beforeClosed(s))})("afterClosed",function(r){l.\u0275\u0275restoreView(t);const s=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(s.afterClosed(r))}),l.\u0275\u0275elementEnd()}if(2&n){const t=e.$implicit,i=e.index,r=l.\u0275\u0275nextContext();l.\u0275\u0275property("toast",t)("offset",r.calculateOffset(t.id,t.position))("toastRef",r.toastRefs[i])}}const jy={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class Hy{constructor(e){this.toast=e,this._onClosed=new Ft.xQ}set dispose(e){this._dispose=e}getToast(){return this.toast}appendTo(e){const{dispose:t,updateMessage:i,updateToast:r,afterClosed:s}=e.addToast(this);return this.dispose=t,this.updateMessage=i,this.updateToast=r,this.afterClosed=(0,Vx.S3)(this._onClosed.asObservable(),s),this}close(e={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:e.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}get data(){return this.toast.data}}let dE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},ngContentSelectors:aE,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(t,i){1&t&&(l.\u0275\u0275projectionDef(),l.\u0275\u0275elementStart(0,"div",0),l.\u0275\u0275text(1,"\n  "),l.\u0275\u0275projection(2),l.\u0275\u0275text(3,"\n"),l.\u0275\u0275elementEnd(),l.\u0275\u0275text(4,"\n")),2&t&&l.\u0275\u0275styleProp("color",null==i.iconTheme?null:i.iconTheme.primary)},styles:["@keyframes hotToastEnter{0%{transform:scale(0)}to{transform:scale(1)}}.hot-toast-animated-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-animated-icon-animation, hotToastEnter .3s ease-in-out forwards);position:var(--hot-toast-animated-icon-position, relative);transform:var(--hot-toast-animated-icon-transform, scale(0))}@media (prefers-reduced-motion: reduce){.hot-toast-animated-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-animated-icon-reduced-motion-animation-duration, none);opacity:var(--hot-toast-animated-icon-reduced-motion-opacity, 1);transform:var(--hot-toast-animated-icon-reduced-motion-transform, scale(1))}}"],changeDetection:0}),n})(),Xx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(t,i){1&t&&(l.\u0275\u0275element(0,"div",0),l.\u0275\u0275text(1,"\n")),2&t&&l.\u0275\u0275property("ngStyle",l.\u0275\u0275pureFunction2(1,Bx,null==i.theme?null:i.theme.primary,null==i.theme?null:i.theme.secondary))},dependencies:[D.NgStyle],styles:["@keyframes hotToastRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.hot-toast-loader-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-loader-icon-animation, hotToastRotate 1s linear infinite);border:var(--hot-toast-loader-icon-border, 2px solid);border-bottom-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-left-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-radius:var(--hot-toast-loader-icon-border-radius, 100%);border-right-color:var(--hot-toast-loader-icon-border-right-color, #616161);border-top-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);box-sizing:var(--hot-toast-loader-icon-box-sizing, border-box);height:var(--hot-toast-loader-icon-height, 18px);padding-top:var(--hot-toast-loader-icon-padding-top, 2px);width:var(--hot-toast-loader-icon-width, 18px)}@media (prefers-reduced-motion: reduce){.hot-toast-loader-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-loader-icon-reduced-motion-animation-duration, 5s)}}"],changeDetection:0}),n})(),Jx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(t,i){1&t&&(l.\u0275\u0275element(0,"div",0),l.\u0275\u0275text(1,"\n")),2&t&&l.\u0275\u0275styleProp("--error-primary",null==i.theme?null:i.theme.primary)("--error-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes hotToastErrorCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastFirstLineAnimation{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes hotToastSecondLineAnimation{0%{opacity:0;transform:scale(0) rotate(90deg)}to{opacity:1;transform:scale(1) rotate(90deg)}}.hot-toast-error-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-error-icon-animation, hotToastErrorCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-error-icon-animation-delay, .1s);background:var(--hot-toast-error-icon-background, var(--error-primary, #ff4b4b));border-radius:var(--hot-toast-error-icon-border-radius, 10px);height:var(--hot-toast-error-icon-height, 20px);opacity:var(--hot-toast-error-icon-opacity, 0);position:var(--hot-toast-error-icon-position, relative);transform:var(--hot-toast-error-icon-transform, rotate(45deg));width:var(--hot-toast-error-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-error-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-after-before-animation, hotToastFirstLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-after-before-animation-delay, .15s);background:var(--hot-toast-error-icon-after-before-background, var(--error-secondary, #fff));border-radius:var(--hot-toast-error-icon-after-before-border-radius, 3px);bottom:var(--hot-toast-error-icon-after-before-bottom, 9px);content:var(--hot-toast-error-icon-after-before-content, "");height:var(--hot-toast-error-icon-after-before-height, 2px);left:var(--hot-toast-error-icon-after-before-left, 4px);opacity:var(--hot-toast-error-icon-after-before-opacity, 0);position:var(--hot-toast-error-icon-after-before-position, absolute);width:var(--hot-toast-error-icon-after-before-width, 12px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-after-before-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-before-animation, hotToastSecondLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-before-animation-delay, .18s);transform:var(--hot-toast-error-icon-before-transform, rotate(90deg))}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-before-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),eM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(t,i){1&t&&(l.\u0275\u0275element(0,"div",0),l.\u0275\u0275text(1,"\n")),2&t&&l.\u0275\u0275styleProp("--check-primary",null==i.theme?null:i.theme.primary)("--check-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes hotToastCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastCheckmarkAnimation{0%{height:0;opacity:0;width:0}40%{height:0;opacity:1;width:6px}to{height:10px;opacity:1}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-checkmark-icon-animation, hotToastCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-checkmark-icon-animation-delay, .1s);background-color:var(--hot-toast-checkmark-icon-background-color, var(--check-primary, #61d345));border-radius:var(--hot-toast-checkmark-icon-border-radius, 10px);height:var(--hot-toast-checkmark-icon-height, 20px);opacity:var(--hot-toast-checkmark-icon-opacity, 0);position:var(--hot-toast-checkmark-icon-position, relative);transform:var(--hot-toast-checkmark-icon-transform, rotate(45deg));width:var(--hot-toast-checkmark-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-checkmark-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-checkmark-icon-after-animation, hotToastCheckmarkAnimation .2s ease-out forwards);animation-delay:var(--hot-toast-checkmark-icon-after-animation-delay, .2s);border-bottom-style:solid;border-bottom-width:var(--hot-toast-checkmark-icon-after-border-bottom, 2px);border-color:var(--hot-toast-checkmark-icon-after-border-color, var(--check-secondary, #fff));border-right-style:solid;border-right-width:var(--hot-toast-checkmark-icon-after-border-right, 2px);bottom:var(--hot-toast-checkmark-icon-after-bottom, 6px);box-sizing:var(--hot-toast-checkmark-icon-after-box-sizing, border-box);content:var(--hot-toast-checkmark-icon-after-content, "");height:var(--hot-toast-checkmark-icon-after-height, 10px);left:var(--hot-toast-checkmark-icon-after-left, 6px);opacity:var(--hot-toast-checkmark-icon-after-opacity, 0);position:var(--hot-toast-checkmark-icon-after-position, absolute);width:var(--hot-toast-checkmark-icon-after-width, 6px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation-duration:var(--hot-toast-checkmark-icon-after-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),$y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(t,i){1&t&&(l.\u0275\u0275element(0,"div",0),l.\u0275\u0275text(1,"\n")),2&t&&l.\u0275\u0275styleProp("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes animate-warn-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-warn-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-warning-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-warning-icon-animation, animate-warn-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-warning-icon-animation-delay, .1s);background-color:var(--hot-toast-warning-icon-background-color, var(--warn-primary, #ffab00));border-radius:var(--hot-toast-warning-icon-border-radius, 50%);display:var(--hot-toast-warning-icon-display, block);height:var(--hot-toast-warning-icon-height, 20px);opacity:var(--hot-toast-warning-icon-opacity, 0);position:var(--hot-toast-warning-icon-position, relative);transform:var(--hot-toast-warning-icon-transform, scale(0));width:var(--hot-toast-warning-icon-width, 20px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after, .hot-toast-warning-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-warning-icon-after-before-background-color, var(--warn-secondary, #fff));border-radius:var(--hot-toast-warning-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-warning-icon-after-before-box-sizing, border-box);content:var(--hot-toast-warning-icon-after-before-content, "");display:var(--hot-toast-warning-icon-after-before-display, block);left:var(--hot-toast-warning-icon-after-before-left, 8.5px);position:var(--hot-toast-warning-icon-after-before-position, absolute);width:var(--hot-toast-warning-icon-after-before-width, 2.5px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-warning-icon-after-animation, animate-warn-line .2s ease-out forwards);animation-delay:var(--hot-toast-warning-icon-after-animation-delay, .2s);height:var(--hot-toast-warning-icon-after-height, 0);opacity:var(--hot-toast-warning-icon-after-opacity, 0);top:var(--hot-toast-warning-icon-after-top, 4px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:before{bottom:var(--hot-toast-warning-icon-before-bottom, 4px);height:var(--hot-toast-warning-icon-before-height, 2px)}'],changeDetection:0}),n})(),hE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(t,i){1&t&&(l.\u0275\u0275element(0,"div",0),l.\u0275\u0275text(1,"\n")),2&t&&l.\u0275\u0275styleProp("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes animate-info-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-info-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-info-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-info-icon-animation, animate-info-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-info-icon-animation-delay, .1s);background-color:var(--hot-toast-info-icon-background-color, var(--info-primary, #0d6efd));border-radius:var(--hot-toast-info-icon-border-radius, 50%);display:var(--hot-toast-info-icon-display, block);height:var(--hot-toast-info-icon-height, 20px);opacity:var(--hot-toast-info-icon-opacity, 0);position:var(--hot-toast-info-icon-position, relative);transform:var(--hot-toast-info-icon-transform, scale(0));width:var(--hot-toast-info-icon-width, 20px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after, .hot-toast-info-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-info-icon-after-before-background-color, var(--info-secondary, #fff));border-radius:var(--hot-toast-info-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-info-icon-after-before-box-sizing, border-box);content:var(--hot-toast-info-icon-after-before-content, "");display:var(--hot-toast-info-icon-after-before-display, block);left:var(--hot-toast-info-icon-after-before-left, 8.5px);position:var(--hot-toast-info-icon-after-before-position, absolute);width:var(--hot-toast-info-icon-after-before-width, 2.5px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-info-icon-after-animation, animate-info-line .2s ease-out forwards);animation-delay:var(--hot-toast-info-icon-after-animation-delay, .2s);height:var(--hot-toast-info-icon-after-height, 0);opacity:var(--hot-toast-info-icon-after-opacity, 0);top:var(--hot-toast-info-icon-after-bottom, 8px)}.hot-toast-info-icon[_ngcontent-%COMP%]:before{height:var(--hot-toast-info-icon-before-height, 2px);top:var(--hot-toast-info-icon-before-top, 4px)}'],changeDetection:0}),n})(),ou=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,i){1&t&&(l.\u0275\u0275template(0,$x,6,2,"div",0),l.\u0275\u0275text(1,"\n")),2&t&&l.\u0275\u0275property("ngIf","blank"!==i.type)},dependencies:[Xx,Jx,eM,$y,hE,D.NgIf,D.NgSwitch,D.NgSwitchCase],styles:[".hot-toast-indicator-wrapper[_ngcontent-%COMP%]{align-items:var(--hot-toast-indicator-wrapper-align-items, center);display:var(--hot-toast-indicator-wrapper-display, flex);justify-content:var(--hot-toast-indicator-wrapper-justify-content, center);min-height:var(--hot-toast-indicator-wrapper-min-height, 20px);min-width:var(--hot-toast-indicator-wrapper-min-width, 20px);position:var(--hot-toast-indicator-wrapper-position, relative)}.hot-toast-status-wrapper[_ngcontent-%COMP%]{position:var(--hot-toast-status-wrapper-position, absolute)}"],changeDetection:0}),n})(),fE=(()=>{class n{constructor(t,i,r){this.injector=t,this.renderer=i,this.ngZone=r,this.offset=0,this.height=new l.EventEmitter,this.beforeClosed=new l.EventEmitter,this.afterClosed=new l.EventEmitter,this.isManualClose=!1,this.unlisteners=[]}ngOnInit(){id(this.toast.message)&&(this.context={$implicit:this.toastRef}),Fy(this.toast.message)&&(this.toastComponentInjector=l.Injector.create({providers:[{provide:Hy,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const t=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(t.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(t,"animationstart",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(t,"animationend",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}get containerPositionStyle(){const t=this.toast.position.includes("top"),i=t?{top:0}:{bottom:0},r=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return{transform:`translateY(${this.offset*(t?1:-1)}px)`,...i,...r}}get toastBarBaseStyles(){const t=this.toast.position.includes("top"),i=`hotToastEnterAnimation${t?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`;return{...this.toast.style,animation:this.toast.autoClose?`${i}, hotToastExitAnimation${t?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:i}}get isIconString(){return"string"==typeof this.toast.icon}close(){this.isManualClose=!0;((n,e)=>{this.toastBarBase.nativeElement.style.animation=e})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(t){return t.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const t=this.toast.attributes;for(const[i,r]of Object.entries(t))this.renderer.setAttribute(this.toastBarBase.nativeElement,i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(l.Injector),l.\u0275\u0275directiveInject(l.Renderer2),l.\u0275\u0275directiveInject(l.NgZone))},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["hot-toast"]],viewQuery:function(t,i){if(1&t&&l.\u0275\u0275viewQuery(zx,5),2&t){let r;l.\u0275\u0275queryRefresh(r=l.\u0275\u0275loadQuery())&&(i.toastBarBase=r.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[3,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(t,i){if(1&t&&(l.\u0275\u0275elementStart(0,"div",0),l.\u0275\u0275text(1,"\n  "),l.\u0275\u0275elementStart(2,"div",1,2),l.\u0275\u0275text(4,"\n    "),l.\u0275\u0275elementStart(5,"div",3),l.\u0275\u0275text(6,"\n      "),l.\u0275\u0275template(7,Gx,7,2,"ng-container",4),l.\u0275\u0275text(8,"\n\n      "),l.\u0275\u0275template(9,Kx,3,2,"ng-template",null,5,l.\u0275\u0275templateRefExtractor),l.\u0275\u0275text(11,"\n    "),l.\u0275\u0275elementEnd(),l.\u0275\u0275text(12,"\n\n    "),l.\u0275\u0275elementStart(13,"div",6),l.\u0275\u0275text(14,"\n      "),l.\u0275\u0275elementStart(15,"div"),l.\u0275\u0275text(16,"\n        "),l.\u0275\u0275template(17,qx,1,0,"ng-container",7),l.\u0275\u0275text(18,"\n      "),l.\u0275\u0275elementEnd(),l.\u0275\u0275text(19,"\n    "),l.\u0275\u0275elementEnd(),l.\u0275\u0275text(20,"\n\n    "),l.\u0275\u0275template(21,sn,1,1,"button",8),l.\u0275\u0275text(22,"\n  "),l.\u0275\u0275elementEnd(),l.\u0275\u0275text(23,"\n"),l.\u0275\u0275elementEnd(),l.\u0275\u0275text(24,"\n")),2&t){const r=l.\u0275\u0275reference(10);l.\u0275\u0275property("ngStyle",i.containerPositionStyle)("ngClass","hot-toast-theme-"+i.toast.theme),l.\u0275\u0275advance(2),l.\u0275\u0275styleProp("--hot-toast-animation-state",i.isManualClose?"running":"paused"),l.\u0275\u0275property("ngStyle",i.toastBarBaseStyles)("ngClass",i.toast.className),l.\u0275\u0275attribute("aria-live",i.toast.ariaLive)("role",i.toast.role),l.\u0275\u0275advance(5),l.\u0275\u0275property("ngIf",void 0!==i.toast.icon)("ngIfElse",r),l.\u0275\u0275advance(10),l.\u0275\u0275property("dynamicView",i.toast.message)("dynamicViewContext",i.context)("dynamicViewInjector",i.toastComponentInjector),l.\u0275\u0275advance(4),l.\u0275\u0275property("ngIf",i.toast.dismissible)}},dependencies:[dE,ou,D.NgStyle,D.NgClass,D.NgIf,lF],styles:[".hot-toast-bar-base[_ngcontent-%COMP%]{align-items:var(--hot-toast-align-items, center);background-color:var(--hot-toast-bg, #fff);border-radius:var(--hot-toast-border-radius, 4px);box-shadow:var(--hot-toast-shadow, 0 3px 10px rgba(0, 0, 0, .1), 0 3px 3px rgba(0, 0, 0, .05));color:var(--hot-toast-color, #363636);display:var(--hot-toast-display, flex);line-height:var(--hot-toast-line, 1.3);margin:var(--hot-toast-margin, 16px);max-width:var(--hot-toast-max-width, 350px);padding:var(--hot-toast-padding, 8px 10px);pointer-events:var(--hot-toast-pointer-events, auto);width:var(--hot-toast-width, -moz-fit-content);width:var(--hot-toast-width, fit-content);will-change:var(--hot-toast-will-change, transform)}.hot-toast-bar-base[_ngcontent-%COMP%]:hover, .hot-toast-bar-base[_ngcontent-%COMP%]:focus{animation-play-state:var(--hot-toast-animation-state, paused)!important}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-reduced-motion-animation-duration, 10ms)!important}}.hot-toast-message[_ngcontent-%COMP%]{color:var(--hot-toast-message-color, inherit);display:var(--hot-toast-message-display, flex);flex:var(--hot-toast-message-flex, 1);justify-content:var(--hot-toast-message-justify-content, center);margin:var(--hot-toast-message-margin, 4px 10px)}.hot-toast-bar-base-container[_ngcontent-%COMP%]{display:var(--hot-toast-container-display, flex);pointer-events:var(--hot-toast-container-pointer-events, none);position:var(--hot-toast-container-position, absolute);transition:var(--hot-toast-container-transition, transform .23s cubic-bezier(.21, 1.02, .73, 1))}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base-container[_ngcontent-%COMP%]{transition-duration:var(--hot-toast-container-reduced-motion-transition-duration, 10ms)!important}}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-bar-base[_ngcontent-%COMP%]{background:var(--hot-toast-snackbar-bg, #323232);box-shadow:var(--hot-toast-snackbar-shadow, 0 3px 5px -1px rgba(0, 0, 0, .2), 0 6px 10px 0 rgba(0, 0, 0, .14), 0 1px 18px 0 rgba(0, 0, 0, .12));color:var(--hot-toast-snackbar-color, white)}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-close-btn[_ngcontent-%COMP%]{filter:var(--hot-toast-snackbar-close-btn-filter, invert(1) grayscale(100%) brightness(200%))}@keyframes hotToastEnterAnimationNegative{0%{opacity:.5;transform:translateY(-80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastEnterAnimationPositive{0%{opacity:.5;transform:translateY(80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastExitAnimationPositive{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,130px,-1px) scale(.5)}}@keyframes hotToastExitAnimationNegative{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,-130px,-1px) scale(.5)}}.hot-toast-close-btn[_ngcontent-%COMP%]{align-self:var(--hot-toast-close-btn-align-self, flex-start);background-color:var(--hot-toast-close-btn-background-color, transparent);background-image:var(--hot-toast-close-btn-background-image, url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e\"));background-position:var(--hot-toast-close-btn-background-position, center);background-repeat:var(--hot-toast-close-btn-background-repeat, no-repeat);background-size:var(--hot-toast-close-btn-background-size, .75em);border:var(--hot-toast-close-btn-border, 0);border-radius:var(--hot-toast-close-btn-border-radius, .25rem);box-sizing:var(--hot-toast-close-btn-box-sizing, content-box);display:var(--hot-toast-close-btn-display, flex);height:var(--hot-toast-close-btn-height, .8em);margin-top:var(--hot-toast-close-btn-margin-top, .25em);opacity:var(--hot-toast-close-btn-opacity, .5);padding:var(--hot-toast-close-btn-padding, .25em);width:var(--hot-toast-close-btn-width, .8em)}.hot-toast-close-btn[_ngcontent-%COMP%]:focus{box-shadow:var(--hot-toast-close-btn-box-shadow, 0 0 0 .125rem rgba(13, 110, 253, .25));outline:var(--hot-toast-close-btn-outline, none)}.hot-toast-close-btn[_ngcontent-%COMP%]:hover, .hot-toast-close-btn[_ngcontent-%COMP%]:focus{opacity:var(--hot-toast-close-btn-opacity, .75)}.hot-toast-icon[_ngcontent-%COMP%]{align-self:var(--hot-toast-icon-align-self, flex-start);padding-top:var(--hot-toast-icon-padding-top, .25em)}"],changeDetection:0}),n})(),zy=(()=>{class n{constructor(t){this.cdr=t,this.toasts=[],this.toastRefs=[],this._onClosed=new Ft.xQ,this.onClosed$=this._onClosed.asObservable()}trackById(t,i){return i.id}calculateOffset(t,i){const r=this.toasts.filter(h=>h.visible&&h.position===i),s=r.findIndex(h=>h.id===t);return-1!==s?r.slice(...this.defaultConfig.reverseOrder?[s+1]:[0,s]).reduce((h,p)=>h+(p.height||0)+8,0):0}updateHeight(t,i){i.height=t,this.cdr.detectChanges()}addToast(t){this.toastRefs.push(t);const i=t.getToast();return this.toasts.push(t.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(i.id)},updateMessage:r=>{i.message=r,this.cdr.detectChanges()},updateToast:r=>{this.updateToasts(i,r),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(i)}}closeToast(t){if(t){const i=this.hotToastComponentList.find(r=>r.toast.id===t);i&&i.close()}else this.hotToastComponentList.forEach(i=>i.close())}beforeClosed(t){t.visible=!1}afterClosed(t){this.toasts.findIndex(r=>r.id===t.id)>-1&&(this._onClosed.next(t),this.toasts=this.toasts.filter(r=>r.id!==t.id),this.toastRefs=this.toastRefs.filter(r=>r.getToast().id!==t.id),this.cdr.detectChanges())}hasToast(t){return this.toasts.findIndex(i=>i.id===t)>-1}getAfterClosed(t){return this.onClosed$.pipe((0,pn.h)(i=>i.id===t.id))}updateToasts(t,i){this.toasts=this.toasts.map(r=>({...r,...r.id===t.id&&{...t,...i}}))}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(l.ChangeDetectorRef))},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["hot-toast-container"]],viewQuery:function(t,i){if(1&t&&l.\u0275\u0275viewQuery(fE,5),2&t){let r;l.\u0275\u0275queryRefresh(r=l.\u0275\u0275loadQuery())&&(i.hotToastComponentList=r)}},inputs:{defaultConfig:"defaultConfig"},decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(t,i){1&t&&(l.\u0275\u0275elementStart(0,"div",0),l.\u0275\u0275text(1,"\n  "),l.\u0275\u0275elementStart(2,"div",1),l.\u0275\u0275text(3,"\n    "),l.\u0275\u0275template(4,uE,1,3,"hot-toast",2),l.\u0275\u0275text(5,"\n  "),l.\u0275\u0275elementEnd(),l.\u0275\u0275text(6,"\n"),l.\u0275\u0275elementEnd(),l.\u0275\u0275text(7,"\n")),2&t&&(l.\u0275\u0275advance(4),l.\u0275\u0275property("ngForOf",i.toasts)("ngForTrackBy",i.trackById))},dependencies:[fE,D.NgForOf],encapsulation:2,changeDetection:0}),n})();class Hf{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class iM{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let cg,uh=(()=>{class n{constructor(t,i,r){this._viewService=t,this.platformId=i,this._isInitialized=!1,this._defaultConfig=new Hf,this._defaultPersistConfig=new iM,r&&(this._defaultConfig={...this._defaultConfig,...r})}get defaultConfig(){return this._defaultConfig}set defaultConfig(t){this._defaultConfig={...this._defaultConfig,...t},this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(t,i){return this.createToast(t||this._defaultConfig.blank.content,"blank",{...this._defaultConfig,...i})}error(t,i){return this.createToast(t||this._defaultConfig.error.content,"error",{...this._defaultConfig,...this._defaultConfig?.error,...i})}success(t,i){return this.createToast(t||this._defaultConfig.success.content,"success",{...this._defaultConfig,...this._defaultConfig?.success,...i})}loading(t,i){return this.createToast(t||this._defaultConfig.loading.content,"loading",{...this._defaultConfig,...this._defaultConfig?.loading,...i})}warning(t,i){return this.createToast(t||this._defaultConfig.warning.content,"warning",{...this._defaultConfig,...this._defaultConfig?.warning,...i})}info(t,i){return this.createToast(t||this._defaultConfig.warning.content,"info",{...this._defaultConfig,...this._defaultConfig?.warning,...i})}observe(t){return i=>{let r,s=0;const u=t.loading??this._defaultConfig.loading?.content,h=t.success??this._defaultConfig.success?.content,p=t.error??this._defaultConfig.error?.content;return(0,Bn.P)(()=>(u&&(r=this.createLoadingToast(u),s=Date.now()),i.pipe((0,ti.b)({...h&&{next:y=>{r=this.createOrUpdateToast(t,y,r,"success",0===s?s:Date.now()-s)}},...p&&{error:y=>{r=this.createOrUpdateToast(t,y,r,"error",0===s?s:Date.now()-s)}}}))))}}close(t){this._componentRef&&this._componentRef.ref.instance.closeToast(t)}init(){(0,D.isPlatformServer)(this.platformId)||(this._componentRef=this._viewService.createComponent(zy).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(t,i,r,s,u){let h=null,p={};if(({content:h,options:p}=this.getContentAndOptions(s,t[s]||(this._defaultConfig[s]?this._defaultConfig[s].content:""))),h=((n,e)=>(n=>"function"==typeof n)(n)?n(e):n)(h,i),r){r.updateMessage(h);const y={type:s,duration:u+jy[s],...p,...p.duration&&{duration:u+p.duration}};r.updateToast(y)}else this.createToast(h,s,p);return r}createToast(t,i,r,s){this._isInitialized||(this._isInitialized=!0,this.init());const u=Date.now(),h=r?.id??u.toString();if(!this.isDuplicate(h)&&(!r.persist?.enabled||r.persist?.enabled&&this.handleStorageValue(h,r))){const p={ariaLive:r?.ariaLive??"polite",createdAt:u,duration:r?.duration??jy[i],id:h,message:t,role:r?.role??"status",type:i,visible:!0,observableMessages:s??void 0,...r};return new Hy(p).appendTo(this._componentRef.ref.instance)}}isDuplicate(t){return this._componentRef.ref.instance.hasToast(t)}handleStorageValue(t,i){let r=1;const s={...this._defaultPersistConfig,...i.persist},u="local"===s.storage?localStorage:sessionStorage,h=s.key.replace(/\${id}/g,t);let p=u.getItem(h);return p?(p=parseInt(p,10),r=p>0?p-1:p):r=s.count,u.setItem(h,r.toString()),r}getContentAndOptions(t,i){let r,s={...this._defaultConfig,...this._defaultConfig[t]};if("string"==typeof i||id(i)||Fy(i))r=i;else{let u;({content:r,...u}=i),s={...s,...u}}return{content:r,options:s}}createLoadingToast(t){let i=null,r={};return({content:i,options:r}=this.getContentAndOptions("loading",t)),this.loading(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(By),l.\u0275\u0275inject(l.PLATFORM_ID),l.\u0275\u0275inject(Hf,8))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rM=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:Hf,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({imports:[[D.CommonModule,oE]]}),n})();try{cg=typeof Intl<"u"&&Intl.v8BreakIterator}catch{cg=!1}let Co,Eo=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?(0,D.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!cg)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(l.PLATFORM_ID))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pE=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Wy(){if(Co)return Co;if("object"!=typeof document||!document)return Co=new Set(pE),Co;let n=document.createElement("input");return Co=new Set(pE.filter(e=>(n.setAttribute("type",e),n.type===e))),Co}let au,sd,Gy;function rd(n){return function sM(){if(null==au&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>au=!0}))}finally{au=au||!1}return au}()?n:!!n.capture}function oM(){if(null==sd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return sd=!1,sd;if("scrollBehavior"in document.documentElement.style)sd=!0;else{const n=Element.prototype.scrollTo;sd=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return sd}function _c(n){return n.composedPath?n.composedPath()[0]:n.target}function zf(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var hs=k(2654);function Zf(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Jy=k(13),pg=k(1307),LE=k(5778),bc=k(7625);function xi(n){return null!=n&&"false"!=`${n}`}function Qf(n){return Array.isArray(n)?n:[n]}function nr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function fs(n){return n instanceof l.ElementRef?n.nativeElement:n}let Xf=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hh=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=fs(t);return new Ni.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Ft.xQ,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(Xf))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tv=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new l.EventEmitter,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=xi(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function wc(n,e=0){return function VE(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe((0,Jy.b)(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(hh),l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(l.NgZone))},n.\u0275dir=l.\u0275\u0275defineDirective({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),fh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({providers:[Xf]}),n})();const BE=new Set;let ph,mh=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):KF}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function OM(n){if(!BE.has(n))try{ph||(ph=document.createElement("style"),ph.setAttribute("type","text/css"),document.head.appendChild(ph)),ph.sheet&&(ph.sheet.insertRule(`@media ${n} {body{ }}`,0),BE.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(Eo))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KF(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let jE=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Ft.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return PM(Qf(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){const r=PM(Qf(t)).map(u=>this._registerQuery(u).observable);let s=(0,It.aj)(r);return s=(0,bi.z)(s.pipe((0,ei.q)(1)),s.pipe((0,pg.T)(1),(0,Jy.b)(0))),s.pipe((0,Ze.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:p,query:y})=>{h.matches=h.matches||p,h.breakpoints[y]=p}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new Ni.y(u=>{const h=p=>this._zone.run(()=>u.next(p));return i.addListener(h),()=>{i.removeListener(h)}}).pipe((0,Mn.O)(i),(0,Ze.U)(({matches:u})=>({query:t,matches:u})),(0,bc.R)(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(mh),l.\u0275\u0275inject(l.NgZone))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PM(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class $E extends class LM{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ft.xQ,this._typeaheadSubscription=hs.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Ft.xQ,this.change=new Ft.xQ,e instanceof l.QueryList&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ti.b)(t=>this._pressedLetters.push(t)),(0,Jy.b)(e),(0,pn.h)(()=>this._pressedLetters.length>0),(0,Ze.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,u=i[s];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Zf(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof l.QueryList?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function cu(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function uu(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const av=new l.InjectionToken("cdk-input-modality-detector-options"),lv={ignoreKeys:[18,17,224,91,16]},du=rd({passive:!0,capture:!0});let cv=(()=>{class n{constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new kn.X(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=_c(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(cu(u)?"keyboard":"mouse"),this._mostRecentTarget=_c(u))},this._onTouchstart=u=>{uu(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=_c(u))},this._options={...lv,...s},this.modalityDetected=this._modality.pipe((0,pg.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,LE.x)()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,du),r.addEventListener("mousedown",this._onMousedown,du),r.addEventListener("touchstart",this._onTouchstart,du)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,du),document.removeEventListener("mousedown",this._onMousedown,du),document.removeEventListener("touchstart",this._onTouchstart,du))}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(Eo),l.\u0275\u0275inject(l.NgZone),l.\u0275\u0275inject(D.DOCUMENT),l.\u0275\u0275inject(av,8))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YE=new l.InjectionToken("cdk-focus-monitor-default-options"),_g=rd({passive:!0,capture:!0});let hu=(()=>{class n{constructor(t,i,r,s,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ft.xQ,this._rootNodeFocusAndBlurListener=h=>{for(let y=_c(h);y;y=y.parentElement)"focus"===h.type?this._onFocus(h,y):this._onBlur(h,y)},this._document=s,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=fs(t);if(!this._platform.isBrowser||1!==r.nodeType)return(0,Ke.of)(null);const s=function aM(n){if(function mE(){if(null==Gy){const n=typeof document<"u"?document.head:null;Gy=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Gy}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new Ft.xQ,rootNode:s};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const i=fs(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=fs(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,p])=>this._originChanged(h,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=_c(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,_g),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,_g)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,bc.R)(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,_g),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,_g),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let u=0;u<s.length;u++)if(s[u].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(l.NgZone),l.\u0275\u0275inject(Eo),l.\u0275\u0275inject(cv),l.\u0275\u0275inject(D.DOCUMENT,8),l.\u0275\u0275inject(YE,8))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dv="cdk-high-contrast-black-on-white",yg="cdk-high-contrast-white-on-black",op="cdk-high-contrast-active";let ZE=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,l.inject)(jE).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(op,dv,yg),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(op,dv):2===i&&t.add(op,yg)}}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(Eo),l.\u0275\u0275inject(D.DOCUMENT))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vg=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(ZE))},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({imports:[fh]}),n})();const bg=new l.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function hv(){return(0,l.inject)(D.DOCUMENT)}}),HM=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let fu=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new l.EventEmitter,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function wg(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?HM.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(bg,8))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({}),n})();const KM=new l.InjectionToken("mat-sanity-checks",{providedIn:"root",factory:function eC(){return!0}});let gi=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!zf()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(ZE),l.\u0275\u0275inject(KM,8),l.\u0275\u0275inject(D.DOCUMENT))},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({imports:[vh,vh]}),n})();function cd(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=xi(e)}}}function Ec(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function ud(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=xi(e)}}}function mv(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}let _v=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class XM{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const sC={enterDuration:225,exitDuration:150},yv=rd({passive:!0}),vv=["mousedown","touchstart"],JM=["mouseup","mouseleave","touchend","touchcancel"];class bv{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=fs(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...sC,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function wv(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),h=e-r.left,p=t-r.top,y=s.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=h-u+"px",C.style.top=p-u+"px",C.style.height=2*u+"px",C.style.width=2*u+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(C);const M=window.getComputedStyle(C),ee=M.transitionDuration,re="none"===M.transitionProperty||"0s"===ee||"0s, 0s"===ee,ye=new XM(this,C,i,re);C.style.transform="scale3d(1, 1, 1)",ye.state=0,i.persistent||(this._mostRecentTransientRipple=ye);let Te=null;return!re&&(y||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const it=()=>this._finishRippleTransition(ye),pt=()=>this._destroyRipple(ye);C.addEventListener("transitionend",it),C.addEventListener("transitioncancel",pt),Te={onTransitionEnd:it,onTransitionCancel:pt}}),this._activeRipples.set(ye,Te),(re||!y)&&this._finishRippleTransition(ye),ye}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...sC,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=fs(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(vv))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(JM),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=cu(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!uu(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,yv)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(vv.forEach(e=>{this._triggerElement.removeEventListener(e,this,yv)}),this._pointerUpEventsRegistered&&JM.forEach(e=>{this._triggerElement.removeEventListener(e,this,yv)}))}}const Za=new l.InjectionToken("mat-ripple-global-options");let hd=(()=>{class n{constructor(t,i,r,s,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new bv(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(l.NgZone),l.\u0275\u0275directiveInject(Eo),l.\u0275\u0275directiveInject(Za,8),l.\u0275\u0275directiveInject(l.ANIMATION_MODULE_TYPE,8))},n.\u0275dir=l.\u0275\u0275defineDirective({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&l.\u0275\u0275classProp("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),fd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({imports:[gi,gi]}),n})(),Qa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({imports:[gi]}),n})(),lp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({imports:[fd,D.CommonModule,gi,Qa]}),n})();const lC=["*",[["mat-toolbar-row"]]],Ig=["*","mat-toolbar-row"],iA=Ec(class{constructor(n){this._elementRef=n}});let cC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.\u0275\u0275defineDirective({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),uC=(()=>{class n extends iA{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(Eo),l.\u0275\u0275directiveInject(D.DOCUMENT))},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&l.\u0275\u0275contentQuery(r,cC,5),2&t){let s;l.\u0275\u0275queryRefresh(s=l.\u0275\u0275loadQuery())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&l.\u0275\u0275classProp("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:Ig,decls:2,vars:0,template:function(t,i){1&t&&(l.\u0275\u0275projectionDef(lC),l.\u0275\u0275projection(0),l.\u0275\u0275projection(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),Dg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({imports:[gi,gi]}),n})();var cp=k(6688),Cv=k(7830);function Sg(...n){if(1===n.length){const e=n[0];if((0,cp.k)(e))return Eh(e,null);if((0,Cv.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Eh(t.map(i=>e[i]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return Eh(n=1===n.length&&(0,cp.k)(n[0])?n[0]:n,null).pipe((0,Ze.U)(t=>e(...t)))}return Eh(n,null)}function Eh(n,e){return new Ni.y(t=>{const i=n.length;if(0===i)return void t.complete();const r=new Array(i);let s=0,u=0;for(let h=0;h<i;h++){const p=(0,at.D)(n[h]);let y=!1;t.add(p.subscribe({next:C=>{y||(y=!0,u++),r[h]=C},error:C=>t.error(C),complete:()=>{s++,(s===i||!y)&&(u===i&&t.next(e?e.reduce((C,M,B)=>(C[M]=r[B],C),{}):r),t.complete())}}))}})}var Tg=k(8117);class Iv{}class Ol{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ol?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ol;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ol?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let u=this.headers.get(t);if(!u)return;u=u.filter(h=>-1===s.indexOf(h)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class fC{encodeKey(e){return Dv(e)}encodeValue(e){return Dv(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const mC=/%(\d[a-f0-9])/gi,gC={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Dv(n){return encodeURIComponent(n).replace(mC,(e,t)=>gC[t]??e)}function up(n){return`${n}`}class Ic{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new fC,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function pC(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[u,h]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],p=t.get(u)||[];p.push(h),t.set(u,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(up):[up(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ic({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(up(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(up(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class _C{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Sv(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Tv(n){return typeof Blob<"u"&&n instanceof Blob}function xv(n){return typeof FormData<"u"&&n instanceof FormData}class Ch{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function yC(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ol),this.context||(this.context=new _C),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+u}}else this.params=new Ic,this.urlWithParams=t}serializeBody(){return null===this.body?null:Sv(this.body)||Tv(this.body)||xv(this.body)||function vC(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ic?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xv(this.body)?null:Tv(this.body)?this.body.type||null:Sv(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ic?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,y=e.params||this.params;const C=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((M,B)=>M.set(B,e.setHeaders[B]),p)),e.setParams&&(y=Object.keys(e.setParams).reduce((M,B)=>M.set(B,e.setParams[B]),y)),new Ch(t,i,s,{params:y,headers:p,context:C,reportProgress:h,responseType:r,withCredentials:u})}}var Yr=(()=>((Yr=Yr||{})[Yr.Sent=0]="Sent",Yr[Yr.UploadProgress=1]="UploadProgress",Yr[Yr.ResponseHeader=2]="ResponseHeader",Yr[Yr.DownloadProgress=3]="DownloadProgress",Yr[Yr.Response=4]="Response",Yr[Yr.User=5]="User",Yr))();class dp extends class bC{constructor(e,t=200,i="OK"){this.headers=e.headers||new Ol,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Yr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new dp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function hp(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Mg=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof Ch)s=t;else{let p,y;p=r.headers instanceof Ol?r.headers:new Ol(r.headers),r.params&&(y=r.params instanceof Ic?r.params:new Ic({fromObject:r.params})),s=new Ch(t,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=(0,Ke.of)(s).pipe((0,ur.b)(p=>this.handler.handle(p)));if(t instanceof Ch||"events"===r.observe)return u;const h=u.pipe((0,pn.h)(p=>p instanceof dp));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,Ze.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,Ze.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,Ze.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,Ze.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Ic).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,hp(r,i))}post(t,i,r={}){return this.request("POST",t,hp(r,i))}put(t,i,r={}){return this.request("PUT",t,hp(r,i))}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(Iv))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const Rv=["*"];let Ag;function Sh(n){return function xC(){if(void 0===Ag&&(Ag=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Ag=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Ag}()?.createHTML(n)||n}function Ov(n){return Error(`Unable to find icon with the name "${n}"`)}function AC(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function kC(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class pd{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let pu=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new pd(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const u=this._sanitizer.sanitize(l.SecurityContext.HTML,r);if(!u)throw kC(r);const h=Sh(u);return this._addSvgIconConfig(t,i,new pd("",h,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new pd(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(l.SecurityContext.HTML,i);if(!s)throw kC(i);const u=Sh(s);return this._addSvgIconSetConfig(t,new pd("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(l.SecurityContext.RESOURCE_URL,t);if(!i)throw AC(t);const r=this._cachedIconsByUrl.get(i);return r?(0,Ke.of)(kg(r)):this._loadSvgIconFromConfig(new pd(t,null)).pipe((0,ti.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,Ze.U)(s=>kg(s)))}getNamedSvgIcon(t,i=""){const r=pp(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):(0,Wi._)(Ov(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,Ke.of)(kg(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,Ze.U)(i=>kg(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?(0,Ke.of)(r):Sg(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe((0,er.K)(h=>{const y=`Loading icon set URL: ${this._sanitizer.sanitize(l.SecurityContext.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(y)),(0,Ke.of)(null)})))).pipe((0,Ze.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw Ov(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(s),h=this._extractSvgIconFromSet(u,t,s.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,ti.b)(i=>t.svgText=i),(0,Ze.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,Ke.of)(null):this._fetchIcon(t).pipe((0,ti.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const u=s.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(Sh("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Sh("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:u,value:h}=r[s];"id"!==u&&i.setAttribute(u,h)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function MC(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(l.SecurityContext.RESOURCE_URL,i);if(!u)throw AC(i);const h=this._inProgressUrlFetches.get(u);if(h)return h;const p=this._httpClient.get(u,{responseType:"text",withCredentials:s}).pipe((0,Ze.U)(y=>Sh(y)),(0,Ri.x)(()=>this._inProgressUrlFetches.delete(u)),(0,Tg.B)());return this._inProgressUrlFetches.set(u,p),p}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(pp(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return RC(s)?new pd(s.url,null,s.options):new pd(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(Mg,8),l.\u0275\u0275inject(Qe),l.\u0275\u0275inject(D.DOCUMENT,8),l.\u0275\u0275inject(l.ErrorHandler))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kg(n){return n.cloneNode(!0)}function pp(n,e){return n+":"+e}function RC(n){return!(!n.url||!n.options)}const OC=Ec(class{constructor(n){this._elementRef=n}}),PC=new l.InjectionToken("MAT_ICON_DEFAULT_OPTIONS"),uA=new l.InjectionToken("mat-icon-location",{providedIn:"root",factory:function mp(){const n=(0,l.inject)(D.DOCUMENT),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Th=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],dA=Th.map(n=>`[${n}]`).join(", "),hA=/^url\(['"]?#(.*?)['"]?\)$/;let Pv=(()=>{class n extends OC{constructor(t,i,r,s,u,h){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=hs.w.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=xi(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(u=>{s.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(dA),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)Th.forEach(u=>{const h=i[s],p=h.getAttribute(u),y=p?p.match(hA):null;if(y){let C=r.get(h);C||(C=[],r.set(h,C)),C.push({name:u,value:y[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,ei.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(pu),l.\u0275\u0275injectAttribute("aria-hidden"),l.\u0275\u0275directiveInject(uA),l.\u0275\u0275directiveInject(l.ErrorHandler),l.\u0275\u0275directiveInject(PC,8))},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(l.\u0275\u0275attribute("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),l.\u0275\u0275classProp("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:Rv,decls:1,vars:0,template:function(t,i){1&t&&(l.\u0275\u0275projectionDef(),l.\u0275\u0275projection(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),NC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({imports:[gi,gi]}),n})();const FC=["mat-button",""],LC=["*"],fA=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],pA=Ec(cd(ud(class{constructor(n){this._elementRef=n}})));let BC=(()=>{class n extends pA{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of fA)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(hu),l.\u0275\u0275directiveInject(l.ANIMATION_MODULE_TYPE,8))},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&l.\u0275\u0275viewQuery(hd,5),2&t){let r;l.\u0275\u0275queryRefresh(r=l.\u0275\u0275loadQuery())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(l.\u0275\u0275attribute("disabled",i.disabled||null),l.\u0275\u0275classProp("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.\u0275\u0275InheritDefinitionFeature],attrs:FC,ngContentSelectors:LC,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(l.\u0275\u0275projectionDef(),l.\u0275\u0275elementStart(0,"span",0),l.\u0275\u0275projection(1),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(2,"span",1)(3,"span",2)),2&t&&(l.\u0275\u0275advance(2),l.\u0275\u0275classProp("mat-button-ripple-round",i.isRoundButton||i.isIconButton),l.\u0275\u0275property("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[hd],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),mA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({imports:[fd,gi,gi]}),n})();var jC=k(8139),Rg=k(943);class gp{}const Dc="*";function mu(n,e){return{type:7,name:n,definitions:e,options:{}}}function Io(n,e=null){return{type:4,styles:e,timings:n}}function UC(n,e=null){return{type:2,steps:n,options:e}}function Ir(n){return{type:6,styles:n,offset:null}}function gu(n,e,t){return{type:0,name:n,styles:e,options:t}}function Da(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function $C(n){Promise.resolve().then(n)}class xh{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){$C(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class zC{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?$C(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==s&&this._onFinish()}),u.onDestroy(()=>{++i==s&&this._onDestroy()}),u.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Nv{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class EA extends Nv{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class yp extends Nv{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class CA extends Nv{constructor(e){super(),this.element=e instanceof l.ElementRef?e.nativeElement:e}}class IA extends class GC{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof EA?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof yp?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof CA?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,p=this._document.createComment("dom-portal");h.parentNode.insertBefore(p,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||l.Injector.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let KC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({}),n})();var Fv=k(7043);function md(n,e,t,i){return(0,Fv.m)(t)&&(i=t,t=void 0),i?md(n,e,t).pipe((0,Ze.U)(r=>(0,cp.k)(r)?i(...r):i(r))):new Ni.y(r=>{Pg(n,e,function s(u){r.next(arguments.length>1?Array.prototype.slice.call(arguments):u)},r,t)})}function Pg(n,e,t,i,r){let s;if(function SA(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const u=n;n.addEventListener(e,t,r),s=()=>u.removeEventListener(e,t,r)}else if(function ZC(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const u=n;n.on(e,t),s=()=>u.off(e,t)}else if(function YC(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const u=n;n.addListener(e,t),s=()=>u.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let u=0,h=n.length;u<h;u++)Pg(n[u],e,t,i,r)}i.add(s)}var Lv=k(6686),QC=k(2268);new class Bv extends QC.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,r=-1,s=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++r<s&&(e=t.shift()));if(this.active=!1,i){for(;++r<s&&(e=t.shift());)e.unsubscribe();throw i}}}(class Vv extends Lv.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});var Ng=k(8062);let Fg=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Ft.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ni.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe((0,Ng.e)(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ke.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe((0,pn.h)(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=fs(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>md(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(l.NgZone),l.\u0275\u0275inject(Eo),l.\u0275\u0275inject(D.DOCUMENT,8))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hv=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Ft.xQ,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe((0,Ng.e)(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(Eo),l.\u0275\u0275inject(l.NgZone),l.\u0275\u0275inject(D.DOCUMENT,8))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({}),n})(),Lg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({imports:[vh,Mh,vh,Mh]}),n})();const LA=oM();class JC{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=nr(-this._previousScrollPosition.left),e.style.top=nr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),LA&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),LA&&(i.scrollBehavior=s,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class VA{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class BA{enable(){}disable(){}attach(){}}function eI(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function tI(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class nI{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();eI(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let iI=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new BA,this.close=u=>new VA(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new JC(this._viewportRuler,this._document),this.reposition=u=>new nI(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(Fg),l.\u0275\u0275inject(Hv),l.\u0275\u0275inject(l.NgZone),l.\u0275\u0275inject(D.DOCUMENT))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Vg{constructor(e){if(this.scrollStrategy=new BA,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class rI{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let $v=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(D.DOCUMENT))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sI=(()=>{class n extends $v{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let u=s.length-1;u>-1;u--)if(s[u]._keydownEvents.observers.length>0){const h=s[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(D.DOCUMENT),l.\u0275\u0275inject(l.NgZone,8))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oI=(()=>{class n extends $v{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=_c(s)},this._clickListener=s=>{const u=_c(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let y=p.length-1;y>-1;y--){const C=p[y];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(u)||C.overlayElement.contains(h))break;const M=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>M.next(s)):M.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(D.DOCUMENT),l.\u0275\u0275inject(Eo),l.\u0275\u0275inject(l.NgZone,8))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ah=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||zf()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),zf()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(D.DOCUMENT),l.\u0275\u0275inject(Eo))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class aI{constructor(e,t,i,r,s,u,h,p,y,C=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=u,this._document=h,this._location=p,this._outsideClickDispatcher=y,this._animationsDisabled=C,this._backdropElement=null,this._backdropClick=new Ft.xQ,this._attachments=new Ft.xQ,this._detachments=new Ft.xQ,this._locationChanges=hs.w.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._backdropTransitionendHandler=M=>{this._disposeBackdrop(M.target)},this._keydownEvents=new Ft.xQ,this._outsidePointerEvents=new Ft.xQ,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,ei.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=nr(this._config.width),e.height=nr(this._config.height),e.minWidth=nr(this._config.minWidth),e.minHeight=nr(this._config.minHeight),e.maxWidth=nr(this._config.maxWidth),e.maxHeight=nr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=Qf(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe((0,bc.R)((0,Ca.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const zv="cdk-overlay-connected-position-bounding-box",lI=/([A-Za-z%]+)$/;class cI{constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ft.xQ,this._resizeSubscription=hs.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(zv),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let u;for(let h of this._preferredPositions){let p=this._getOriginPoint(e,r,h),y=this._getOverlayPoint(p,t,h),C=this._getOverlayFit(y,t,i,h);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(C,y,i)?s.push({position:h,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!u||u.overlayFit.visibleArea<C.visibleArea)&&(u={overlayFit:C,overlayPoint:y,originPoint:p,position:h,overlayRect:t})}if(s.length){let h=null,p=-1;for(const y of s){const C=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);C>p&&(p=C,h=y)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&_u(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(zv),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==i.originX?u:h}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=uI(t);let{x:u,y:h}=e,p=this._getOffset(r,"x"),y=this._getOffset(r,"y");p&&(u+=p),y&&(h+=y);let B=0-h,ee=h+s.height-i.height,re=this._subtractOverflows(s.width,0-u,u+s.width-i.width),ye=this._subtractOverflows(s.height,B,ee),Te=re*ye;return{visibleArea:Te,isCompletelyWithinViewport:s.width*s.height===Te,fitsInViewportVertically:ye===s.height,fitsInViewportHorizontally:re==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,u=Wv(this._overlayRef.getConfig().minHeight),h=Wv(this._overlayRef.getConfig().minWidth),y=e.fitsInViewportHorizontally||null!=h&&h<=s;return(e.fitsInViewportVertically||null!=u&&u<=r)&&y}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=uI(t),s=this._viewportRect,u=Math.max(e.x+r.width-s.width,0),h=Math.max(e.y+r.height-s.height,0),p=Math.max(s.top-i.top-e.y,0),y=Math.max(s.left-i.left-e.x,0);let C=0,M=0;return C=r.width<=s.width?y||-u:e.x<this._viewportMargin?s.left-i.left-e.x:0,M=r.height<=s.height?p||-h:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:C,y:M},{x:e.x+C,y:e.y+M}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new rI(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,u,h,C,M,B;if("top"===t.overlayY)u=e.y,s=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)h=i.height-e.y+2*this._viewportMargin,s=i.height-h+this._viewportMargin;else{const ee=Math.min(i.bottom-e.y+i.top,e.y),re=this._lastBoundingBoxSize.height;s=2*ee,u=e.y-ee,s>re&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-re/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)B=i.width-e.x+this._viewportMargin,C=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)M=e.x,C=i.right-e.x;else{const ee=Math.min(i.right-e.x+i.left,e.x),re=this._lastBoundingBoxSize.width;C=2*ee,M=e.x-ee,C>re&&!this._isInitialRender&&!this._growAfterOpen&&(M=e.x-re/2)}return{top:u,left:M,bottom:h,right:B,width:C,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=nr(i.height),r.top=nr(i.top),r.bottom=nr(i.bottom),r.width=nr(i.width),r.left=nr(i.left),r.right=nr(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=nr(s)),u&&(r.maxWidth=nr(u))}this._lastBoundingBoxSize=i,_u(this._boundingBox.style,r)}_resetBoundingBoxStyles(){_u(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){_u(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const C=this._viewportRuler.getViewportScrollPosition();_u(i,this._getExactOverlayY(t,e,C)),_u(i,this._getExactOverlayX(t,e,C))}else i.position="static";let h="",p=this._getOffset(t,"x"),y=this._getOffset(t,"y");p&&(h+=`translateX(${p}px) `),y&&(h+=`translateY(${y}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=nr(u.maxHeight):s&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=nr(u.maxWidth):s&&(i.maxWidth="")),_u(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=nr(s.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=nr(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:tI(e,i),isOriginOutsideView:eI(e,i),isOverlayClipped:tI(t,i),isOverlayOutsideView:eI(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Qf(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.ElementRef)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function _u(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Wv(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(lI);return t&&"px"!==t?null:parseFloat(e)}return n||null}function uI(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Gv="cdk-global-overlay-wrapper";class dI{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Gv),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:u,maxHeight:h}=i,p=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),y=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h),C=this._xPosition,M=this._xOffset,B="rtl"===this._overlayRef.getConfig().direction;let ee="",re="",ye="";p?ye="flex-start":"center"===C?(ye="center",B?re=M:ee=M):B?"left"===C||"end"===C?(ye="flex-end",ee=M):("right"===C||"start"===C)&&(ye="flex-start",re=M):"left"===C||"start"===C?(ye="flex-start",ee=M):("right"===C||"end"===C)&&(ye="flex-end",re=M),e.position=this._cssPosition,e.marginLeft=p?"0":ee,e.marginTop=y?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=p?"0":re,t.justifyContent=ye,t.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(Gv),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let hI=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new dI}flexibleConnectedTo(t){return new cI(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(Hv),l.\u0275\u0275inject(D.DOCUMENT),l.\u0275\u0275inject(Eo),l.\u0275\u0275inject(Ah))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fI=0,Sa=(()=>{class n{constructor(t,i,r,s,u,h,p,y,C,M,B,ee){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=u,this._injector=h,this._ngZone=p,this._document=y,this._directionality=C,this._location=M,this._outsideClickDispatcher=B,this._animationsModuleType=ee}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),u=new Vg(t);return u.direction=u.direction||this._directionality.value,new aI(s,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+fI++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.ApplicationRef)),new IA(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(iI),l.\u0275\u0275inject(Ah),l.\u0275\u0275inject(l.ComponentFactoryResolver),l.\u0275\u0275inject(hI),l.\u0275\u0275inject(sI),l.\u0275\u0275inject(l.Injector),l.\u0275\u0275inject(l.NgZone),l.\u0275\u0275inject(D.DOCUMENT),l.\u0275\u0275inject(fu),l.\u0275\u0275inject(D.Location),l.\u0275\u0275inject(oI),l.\u0275\u0275inject(l.ANIMATION_MODULE_TYPE,8))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const bp={provide:new l.InjectionToken("cdk-connected-overlay-scroll-strategy"),deps:[Sa],useFactory:function Bg(n){return()=>n.scrollStrategies.reposition()}};let jg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({providers:[Sa,bp],imports:[vh,KC,Lg,Lg]}),n})();const WA=["mat-menu-item",""];function Ug(n,e){1&n&&(l.\u0275\u0275namespaceSVG(),l.\u0275\u0275elementStart(0,"svg",2),l.\u0275\u0275element(1,"polygon",3),l.\u0275\u0275elementEnd())}const wp=["*"];function GA(n,e){if(1&n){const t=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"div",0),l.\u0275\u0275listener("keydown",function(r){l.\u0275\u0275restoreView(t);const s=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(s._handleKeydown(r))})("click",function(){l.\u0275\u0275restoreView(t);const r=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(r.closed.emit("click"))})("@transformMenu.start",function(r){l.\u0275\u0275restoreView(t);const s=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(s._onAnimationStart(r))})("@transformMenu.done",function(r){l.\u0275\u0275restoreView(t);const s=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(s._onAnimationDone(r))}),l.\u0275\u0275elementStart(1,"div",1),l.\u0275\u0275projection(2),l.\u0275\u0275elementEnd()()}if(2&n){const t=l.\u0275\u0275nextContext();l.\u0275\u0275property("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),l.\u0275\u0275attribute("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const Hg={transformMenu:mu("transformMenu",[gu("void",Ir({opacity:0,transform:"scale(0.8)"})),Da("void => enter",Io("120ms cubic-bezier(0, 0, 0.2, 1)",Ir({opacity:1,transform:"scale(1)"}))),Da("* => void",Io("100ms 25ms linear",Ir({opacity:0})))]),fadeInItems:mu("fadeInItems",[gu("showing",Ir({opacity:1})),Da("void => *",[Ir({opacity:0}),Io("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},qv=new l.InjectionToken("MatMenuContent"),Ep=new l.InjectionToken("MAT_MENU_PANEL"),mI=ud(cd(class{}));let kh=(()=>{class n extends mI{constructor(t,i,r,s,u){super(),this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new Ft.xQ,this._focused=new Ft.xQ,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(D.DOCUMENT),l.\u0275\u0275directiveInject(hu),l.\u0275\u0275directiveInject(Ep,8),l.\u0275\u0275directiveInject(l.ChangeDetectorRef))},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,i){1&t&&l.\u0275\u0275listener("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&t&&(l.\u0275\u0275attribute("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),l.\u0275\u0275classProp("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[l.\u0275\u0275InheritDefinitionFeature],attrs:WA,ngContentSelectors:wp,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){1&t&&(l.\u0275\u0275projectionDef(),l.\u0275\u0275projection(0),l.\u0275\u0275element(1,"div",0),l.\u0275\u0275template(2,Ug,2,0,"svg",1)),2&t&&(l.\u0275\u0275advance(1),l.\u0275\u0275property("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",i._triggersSubmenu))},dependencies:[D.NgIf,hd],encapsulation:2,changeDetection:0}),n})();const $g=new l.InjectionToken("mat-menu-default-options",{providedIn:"root",factory:function ZA(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let QA=0,Cp=(()=>{class n{constructor(t,i,r,s){this._elementRef=t,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new l.QueryList,this._tabSubscription=hs.w.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Ft.xQ,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new l.EventEmitter,this.close=this.closed,this.panelId="mat-menu-panel-"+QA++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=xi(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=xi(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new $E(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,Mn.O)(this._directDescendantItems),(0,jn.w)(t=>(0,Ca.T)(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=t.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe((0,Mn.O)(this._directDescendantItems),(0,jn.w)(i=>(0,Ca.T)(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case 27:Zf(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._ngZone.onStable.pipe((0,ei.q)(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,Mn.O)(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(l.NgZone),l.\u0275\u0275directiveInject($g),l.\u0275\u0275directiveInject(l.ChangeDetectorRef))},n.\u0275dir=l.\u0275\u0275defineDirective({type:n,contentQueries:function(t,i,r){if(1&t&&(l.\u0275\u0275contentQuery(r,qv,5),l.\u0275\u0275contentQuery(r,kh,5),l.\u0275\u0275contentQuery(r,kh,4)),2&t){let s;l.\u0275\u0275queryRefresh(s=l.\u0275\u0275loadQuery())&&(i.lazyContent=s.first),l.\u0275\u0275queryRefresh(s=l.\u0275\u0275loadQuery())&&(i._allItems=s),l.\u0275\u0275queryRefresh(s=l.\u0275\u0275loadQuery())&&(i.items=s)}},viewQuery:function(t,i){if(1&t&&l.\u0275\u0275viewQuery(l.TemplateRef,5),2&t){let r;l.\u0275\u0275queryRefresh(r=l.\u0275\u0275loadQuery())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),XA=(()=>{class n extends Cp{constructor(t,i,r,s){super(t,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(l.NgZone),l.\u0275\u0275directiveInject($g),l.\u0275\u0275directiveInject(l.ChangeDetectorRef))},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,i){2&t&&l.\u0275\u0275attribute("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[l.\u0275\u0275ProvidersFeature([{provide:Ep,useExisting:n}]),l.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:wp,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,i){1&t&&(l.\u0275\u0275projectionDef(),l.\u0275\u0275template(0,GA,3,6,"ng-template"))},dependencies:[D.NgClass],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Hg.transformMenu,Hg.fadeInItems]},changeDetection:0}),n})();const Yv=new l.InjectionToken("mat-menu-scroll-strategy"),gI={provide:Yv,deps:[Sa],useFactory:function Zv(n){return()=>n.scrollStrategies.reposition()}},Qv=rd({passive:!0});let _I=(()=>{class n{constructor(t,i,r,s,u,h,p,y,C){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=h,this._dir=p,this._focusMonitor=y,this._ngZone=C,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=hs.w.EMPTY,this._hoverSubscription=hs.w.EMPTY,this._menuCloseSubscription=hs.w.EMPTY,this._handleTouchStart=M=>{uu(M)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new l.EventEmitter,this.onMenuOpen=this.menuOpened,this.menuClosed=new l.EventEmitter,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=u instanceof Cp?u:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,Qv),h&&(h._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Qv),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),r=i.getConfig(),s=r.positionStrategy;this._setPosition(t,s),r.hasBackdrop=t.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof Cp&&(t._startAnimation(),t._directDescendantItems.changes.pipe((0,bc.R)(t.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Cp?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe((0,pn.h)(r=>"void"===r.toState),(0,ei.q)(1),(0,bc.R)(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,r=t.parentMenu;for(;r;)i++,r=r.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new Vg({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",u="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(s,u)):t.setPositionClasses(s,u)})}_setPosition(t,i){let[r,s]="before"===t.xPosition?["end","start"]:["start","end"],[u,h]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[p,y]=[u,h],[C,M]=[r,s],B=0;if(this.triggersSubmenu()){if(M=r="before"===t.xPosition?"start":"end",s=C="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const ee=this._parentMaterialMenu.items.first;this._parentInnerPadding=ee?ee._getHostElement().offsetTop:0}B="bottom"===u?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(p="top"===u?"bottom":"top",y="top"===h?"bottom":"top");i.withPositions([{originX:r,originY:p,overlayX:C,overlayY:u,offsetY:B},{originX:s,originY:p,overlayX:M,overlayY:u,offsetY:B},{originX:r,originY:y,overlayX:C,overlayY:h,offsetY:-B},{originX:s,originY:y,overlayX:M,overlayY:h,offsetY:-B}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,Ke.of)(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,pn.h)(u=>u!==this._menuItemInstance),(0,pn.h)(()=>this._menuOpen)):(0,Ke.of)();return(0,Ca.T)(t,r,s,i)}_handleMousedown(t){cu(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,pn.h)(t=>t===this._menuItemInstance&&!t.disabled),(0,Rg.g)(0,jC.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Cp&&this.menu._isAnimating?this.menu._animationDone.pipe((0,ei.q)(1),(0,Rg.g)(0,jC.E),(0,bc.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new yp(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(Sa),l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(l.ViewContainerRef),l.\u0275\u0275directiveInject(Yv),l.\u0275\u0275directiveInject(Ep,8),l.\u0275\u0275directiveInject(kh,10),l.\u0275\u0275directiveInject(fu,8),l.\u0275\u0275directiveInject(hu),l.\u0275\u0275directiveInject(l.NgZone))},n.\u0275dir=l.\u0275\u0275defineDirective({type:n,hostVars:3,hostBindings:function(t,i){1&t&&l.\u0275\u0275listener("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&t&&l.\u0275\u0275attribute("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),ek=(()=>{class n extends _I{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.\u0275\u0275getInheritedFactory(n)))(i||n)}}(),n.\u0275dir=l.\u0275\u0275defineDirective({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[l.\u0275\u0275InheritDefinitionFeature]}),n})(),yI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({providers:[gI],imports:[D.CommonModule,gi,fd,jg,Mh,gi]}),n})();function vI(n,e){if(1&n&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275elementStart(1,"button",9)(2,"mat-icon",10),l.\u0275\u0275text(3,"account_circle"),l.\u0275\u0275elementEnd(),l.\u0275\u0275text(4),l.\u0275\u0275elementStart(5,"mat-icon",10),l.\u0275\u0275text(6,"expand_more"),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementContainerEnd()),2&n){const t=e.ngIf;l.\u0275\u0275nextContext();const i=l.\u0275\u0275reference(9);l.\u0275\u0275advance(1),l.\u0275\u0275property("matMenuTriggerFor",i),l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate1(" ",t.displayName," ")}}function tk(n,e){1&n&&(l.\u0275\u0275elementStart(0,"button",11),l.\u0275\u0275text(1," Sign Up"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(2,"button",12)(3,"mat-icon",13),l.\u0275\u0275text(4,"login"),l.\u0275\u0275elementEnd(),l.\u0275\u0275text(5," Login"),l.\u0275\u0275elementEnd())}let bI=(()=>{class n{constructor(t,i,r,s){this.authService=t,this.router=i,this.ath=r,this.toast=s}ngOnInit(){this.authService.getauth().subscribe(t=>{t?(this.isLogin=!0,this.isUserlogin=t.email):this.isLogin=!1})}logout(){this.authService.logout().subscribe(()=>{this.toast.success("You are logout successfuly",{style:{border:"1px solid #21b11e",padding:"16px",color:" #21b11e"},iconTheme:{primary:" #21b11e",secondary:"#FFFAEE"}}),this.router.navigate(["login"])})}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(gc),l.\u0275\u0275directiveInject(Ce),l.\u0275\u0275directiveInject(lh),l.\u0275\u0275directiveInject(uh))},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["app-navbar"]],decls:14,vars:4,consts:[["color","primary"],["routerLink","",2,"cursor","pointer"],["href","#",1,"navbar-brand"],[4,"ngIf","ngIfElse"],["class","container "],["loginButton",""],["userMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"mat-18"],["mat-button","",2,"color","white",3,"matMenuTriggerFor"],[2,"color","white"],["mat-button","","routerLink","/register",1,"btn"],["mat-button","","routerLink","/login",1,"btn",2,"margin-left","-20px"],[1,"mat-18",2,"color","white"]],template:function(t,i){if(1&t&&(l.\u0275\u0275elementStart(0,"mat-toolbar",0)(1,"span",1),l.\u0275\u0275text(2,"Emplooyees DB"),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(3,"a",2),l.\u0275\u0275template(4,vI,7,2,"ng-container",3),l.\u0275\u0275pipe(5,"async"),l.\u0275\u0275template(6,tk,6,0,"ng-template",4,5,l.\u0275\u0275templateRefExtractor),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(8,"mat-menu",null,6)(10,"button",7),l.\u0275\u0275listener("click",function(){return i.logout()}),l.\u0275\u0275elementStart(11,"mat-icon",8),l.\u0275\u0275text(12,"logout"),l.\u0275\u0275elementEnd(),l.\u0275\u0275text(13," Logout"),l.\u0275\u0275elementEnd()()),2&t){const r=l.\u0275\u0275reference(7);l.\u0275\u0275advance(4),l.\u0275\u0275property("ngIf",l.\u0275\u0275pipeBind1(5,2,i.authService.currentUser$))("ngIfElse",r)}},dependencies:[D.NgIf,Pt,uC,Pv,BC,XA,kh,ek,D.AsyncPipe],styles:["mat-toolbar[_ngcontent-%COMP%]{z-index:1;display:flex;justify-content:space-between;align-items:center;position:fixed;height:56px}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{background:#343a40;color:#fff}.btn[_ngcontent-%COMP%]{float:right;margin-left:auto;margin-right:30px;border:2px solid}.btn[_ngcontent-%COMP%]:hover{border-color:#17a2b8;color:#17a2b8}"]}),n})(),wI=(()=>{class n{constructor(){this.title="employeesdb"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container"],[1,"mypadd"],["mt-2",""]],template:function(t,i){1&t&&(l.\u0275\u0275element(0,"app-navbar"),l.\u0275\u0275elementStart(1,"div",0)(2,"div",1),l.\u0275\u0275element(3,"flash-messages",2),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(4,"router-outlet"),l.\u0275\u0275elementEnd())},dependencies:[Z,cc.cS,bI],styles:[".mypadd[_ngcontent-%COMP%]{\n    padding-top: 70px;\n  }"]}),n})();var ps=k(3942);const gd="firebasestorage.googleapis.com",EI="storageBucket";class pr extends X.ZR{constructor(e,t){super(zg(e),`Firebase Storage: ${t} (${zg(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pr.prototype)}_codeEquals(e){return zg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function zg(n){return"storage/"+n}function Wg(){return new pr("unknown","An unknown error occurred, please check the error payload for server response.")}function Jv(){return new pr("canceled","User canceled the upload/download.")}function tb(){return new pr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function yu(n){return new pr("invalid-argument",n)}function TI(){return new pr("app-deleted","The Firebase app was deleted.")}function nb(n){return new pr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Dp(n,e){return new pr("invalid-format","String does not match format '"+n+"': "+e)}function _d(n){throw new pr("internal-error","Internal error: "+n)}class ir{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=ir.makeFromUrl(e,t)}catch{return new ir(e,"")}if(""===i.path)return i;throw function sk(n){return new pr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function y(mt){mt.path_=decodeURIComponent(mt.path)}const M=t.replace(/[.]/g,"\\."),yt=[{regex:h,indices:{bucket:1,path:3},postModify:function s(mt){"/"===mt.path.charAt(mt.path.length-1)&&(mt.path_=mt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${M}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:y},{regex:new RegExp(`^https?://${t===gd?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:y}];for(let mt=0;mt<yt.length;mt++){const en=yt[mt],tn=en.regex.exec(e);if(tn){let Fr=tn[en.indices.path];Fr||(Fr=""),i=new ir(tn[en.indices.bucket],Fr),en.postModify(i);break}}if(null==i)throw function Rh(n){return new pr("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class ok{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Kg(n){return"string"==typeof n||n instanceof String}function AI(n){return Sp()&&n instanceof Blob}function Sp(){return typeof Blob<"u"}function qg(n,e,t,i){if(i<e)throw yu(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw yu(`Invalid value for '${n}'. Expected ${t} or less.`)}function Pl(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function kI(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Tc=(()=>{return(n=Tc||(Tc={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",Tc;var n})();class RI{constructor(e,t,i,r,s,u,h,p,y,C,M){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=C,this.connectionFactory_=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,ee)=>{this.resolve_=B,this.reject_=ee,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,u=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());!function MI(n){return void 0!==n}(p)?s():s(p)}catch(p){u(p)}else if(null!==h){const p=Wg();p.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,p):p)}else u(r.canceled?this.appDelete_?TI():Jv():function DI(){return new pr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new Yg(!1,null,!0)):this.backoffId_=function xI(n,e,t){let i=1,r=null,s=null,u=!1,h=0;function p(){return 2===h}let y=!1;function C(...Te){y||(y=!0,e.apply(null,Te))}function M(Te){r=setTimeout(()=>{r=null,n(ee,p())},Te)}function B(){s&&clearTimeout(s)}function ee(Te,...it){if(y)return void B();if(Te)return B(),void C.call(null,Te,...it);if(p()||u)return B(),void C.call(null,Te,...it);let yt;i<64&&(i*=2),1===h?(h=2,yt=0):yt=1e3*(i+Math.random()),M(yt)}let re=!1;function ye(Te){re||(re=!0,B(),!y&&(null!==r?(Te||(h=2),clearTimeout(r),M(0)):Te||(h=1)))}return M(0),s=setTimeout(()=>{u=!0,ye(!0)},t),ye}((i,r)=>{if(r)return void i(!1,new Yg(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(u),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(u),this.pendingConnection_=null;const h=s.getErrorCode()===Tc.NO_ERROR,p=s.getStatus();if(!h||this.isRetryStatusCode_(p)){const C=s.getErrorCode()===Tc.ABORT;return void i(!1,new Yg(!1,null,C))}const y=-1!==this.successCodes_.indexOf(p);i(!0,new Yg(y,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function ib(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||s}}class Yg{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function LI(...n){const e=function FI(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(Sp())return new Blob(n);throw new pr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Do={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Zg{constructor(e,t){this.data=e,this.contentType=t||null}}function Qg(n,e){switch(n){case Do.RAW:return new Zg(VI(e));case Do.BASE64:case Do.BASE64URL:return new Zg(BI(n,e));case Do.DATA_URL:return new Zg(function fk(n){const e=new jI(n);return e.base64?BI(Do.BASE64,e.rest):function hk(n){let e;try{e=decodeURIComponent(n)}catch{throw Dp(Do.DATA_URL,"Malformed data URL.")}return VI(e)}(e.rest)}(e),function pk(n){return new jI(n).contentType}(e))}throw Wg()}function VI(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function BI(n,e){switch(n){case Do.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw Dp(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Do.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw Dp(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function dk(n){return atob(n)}(e)}catch{throw Dp(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class jI{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Dp(Do.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function mk(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Yo{constructor(e,t){let i=0,r="";AI(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(AI(this.data_)){const r=function uk(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Yo(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Yo(i,!0)}}static getBlob(...e){if(Sp()){const t=e.map(i=>i instanceof Yo?i.data_:i);return new Yo(LI.apply(null,t))}{const t=e.map(u=>Kg(u)?Qg(Do.RAW,u).data:u.data_);let i=0;t.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)r[s++]=u[h]}),new Yo(r,!0)}}uploadData(){return this.data_}}function UI(n){let e;try{e=JSON.parse(n)}catch{return null}return function GL(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function rb(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function $I(n,e){return e}class Xs{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||$I}}let Oh=null;function Tp(){if(Oh)return Oh;const n=[];n.push(new Xs("bucket")),n.push(new Xs("generation")),n.push(new Xs("metageneration")),n.push(new Xs("name","fullPath",!0));const t=new Xs("name");t.xform=function e(s,u){return function zI(n){return!Kg(n)||n.length<2?n:rb(n)}(u)},n.push(t);const r=new Xs("size");return r.xform=function i(s,u){return void 0!==u?Number(u):u},n.push(r),n.push(new Xs("timeCreated")),n.push(new Xs("updated")),n.push(new Xs("md5Hash",null,!0)),n.push(new Xs("cacheControl",null,!0)),n.push(new Xs("contentDisposition",null,!0)),n.push(new Xs("contentEncoding",null,!0)),n.push(new Xs("contentLanguage",null,!0)),n.push(new Xs("contentType",null,!0)),n.push(new Xs("metadata","customMetadata",!0)),Oh=n,Oh}function GI(n,e,t){const i=UI(e);return null===i?null:function gk(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const u=t[s];i[u.local]=u.xform(i,e[u.server])}return function WI(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new ir(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function sb(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const xp="prefixes";class Pr{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xa(n){if(!n)throw Wg()}function Jg(n,e){return function t(i,r){const s=GI(n,r,e);return Xa(null!==s),s}}function Ph(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function CI(){return new pr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Xv(){return new pr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function rk(n){return new pr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function II(n){return new pr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function Nh(n){const e=Ph(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function Ip(n){return new pr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function ob(n,e,t){const r=Pl(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Pr(r,"GET",Jg(n,t),u);return h.errorHandler=Nh(e),h}function wk(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const h=Pl(e.bucketOnlyServerUrl(),n.host,n._protocol),y=n.maxOperationRetryTime,C=new Pr(h,"GET",function qI(n,e){return function t(i,r){const s=function vk(n,e,t){const i=UI(t);return null===i?null:function yk(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[xp])for(const r of t[xp]){const s=r.replace(/\/$/,""),u=n._makeStorageReference(new ir(e,s));i.prefixes.push(u)}if(t.items)for(const r of t.items){const s=n._makeStorageReference(new ir(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return Xa(null!==s),s}}(n,e.bucket),y);return C.urlParams=s,C.errorHandler=Ph(e),C}function YI(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function Qo(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class t_{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function lb(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Xa(!1)}return Xa(!!t&&-1!==(e||["active"]).indexOf(t)),t}const XI={STATE_CHANGED:"state_changed"},As={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function db(n){switch(n){case"running":case"pausing":case"canceling":return As.RUNNING;case"paused":return As.PAUSED;case"success":return As.SUCCESS;case"canceled":return As.CANCELED;default:return As.ERROR}}class JI{constructor(e,t,i){if(function ak(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function yd(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class hb extends class vu{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Tc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Tc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Tc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw _d("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _d("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _d("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _d("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _d("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Xo(){return new hb}class nD{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=Tp(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function cb(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),u=YI(e,i,r),h={name:u.fullPath},p=Pl(s,n.host,n._protocol),C={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},M=sb(u,t),re=new Pr(p,"POST",function ee(ye){let Te;lb(ye);try{Te=ye.getResponseHeader("X-Goog-Upload-URL")}catch{Xa(!1)}return Xa(Kg(Te)),Te},n.maxUploadRetryTime);return re.urlParams=h,re.headers=C,re.body=M,re.errorHandler=Ph(e),re}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Xo,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function ZI(n,e,t,i){const p=new Pr(t,"POST",function s(y){const C=lb(y,["active","final"]);let M=null;try{M=y.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xa(!1)}M||Xa(!1);const B=Number(M);return Xa(!isNaN(B)),new t_(B,i.size(),"final"===C)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=Ph(e),p}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,Xo,t,i);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new t_(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let u;try{u=function QI(n,e,t,i,r,s,u,h){const p=new t_(0,0);if(u?(p.current=u.current,p.total=u.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function SI(){return new pr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const y=p.total-p.current;let C=y;r>0&&(C=Math.min(C,r));const M=p.current,re={"X-Goog-Upload-Command":C===y?"upload, finalize":"upload","X-Goog-Upload-Offset":`${p.current}`},ye=i.slice(M,M+C);if(null===ye)throw tb();const yt=new Pr(t,"POST",function Te(mt,en){const tn=lb(mt,["active","final"]),qn=p.current+C,Fr=i.size();let sl;return sl="final"===tn?Jg(e,s)(mt,en):null,new t_(qn,Fr,"final"===tn,sl)},e.maxUploadRetryTime);return yt.headers=re,yt.body=ye.uploadData(),yt.progressCallback=h||null,yt.errorHandler=Ph(n),yt}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const h=this._ref.storage._makeRequest(u,Xo,r,s);this._request=h,h.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=ob(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Xo,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function e_(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},p=function h(){let yt="";for(let mt=0;mt<2;mt++)yt+=Math.random().toString().slice(2);return yt}();u["Content-Type"]="multipart/related; boundary="+p;const y=YI(e,i,r),C=sb(y,t),ee=Yo.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+C+"\r\n--"+p+"\r\nContent-Type: "+y.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===ee)throw tb();const re={name:y.fullPath},ye=Pl(s,n.host,n._protocol),it=n.maxUploadRetryTime,pt=new Pr(ye,"POST",Jg(n,t),it);return pt.urlParams=re,pt.headers=u,pt.body=ee.uploadData(),pt.errorHandler=Ph(e),pt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Xo,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Jv(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=db(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new JI(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(db(this._state)){case As.SUCCESS:yd(this._resolve.bind(null,this.snapshot))();break;case As.CANCELED:case As.ERROR:yd(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(db(this._state)){case As.RUNNING:case As.PAUSED:e.next&&yd(e.next.bind(e,this.snapshot))();break;case As.SUCCESS:e.complete&&yd(e.complete.bind(e))();break;default:e.error&&yd(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class bu{constructor(e,t){this._service=e,this._location=t instanceof ir?t:ir.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new bu(e,t)}get root(){const e=new ir(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rb(this._location.path)}get storage(){return this._service}get parent(){const e=function HI(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ir(this._location.bucket,e);return new bu(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw nb(e)}}function lD(n,e,t){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,Le.Z)(function*(n,e,t){const r=yield i_(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield lD(n,e,r.nextPageToken))})).apply(this,arguments)}function i_(n,e){null!=e&&"number"==typeof e.maxResults&&qg("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=wk(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Xo)}function uD(n){n._throwIfRoot("getDownloadURL");const e=function Ek(n,e,t){const r=Pl(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Pr(r,"GET",function bk(n,e){return function t(i,r){const s=GI(n,r,e);return Xa(null!==s),function _k(n,e,t,i){const r=UI(e);if(null===r||!Kg(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const u=encodeURIComponent;return s.split(",").map(y=>{const M=n.fullPath;return Pl("/b/"+u(n.bucket)+"/o/"+u(M),t,i)+kI({alt:"media",token:y})})[0]}(s,r,n.host,n._protocol)}}(n,t),u);return h.errorHandler=Nh(e),h}(n.storage,n._location,Tp());return n.storage.makeRequestWithTokens(e,Xo).then(t=>{if(null===t)throw function Gg(){return new pr("no-download-url","The given file does not have any download URLs.")}();return t})}function Mp(n,e){const t=function Xg(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new ir(n._location.bucket,t);return new bu(n.storage,i)}function fD(n,e){if(n instanceof pb){const t=n;if(null==t._bucket)throw function eb(){return new pr("no-default-bucket","No default bucket found. Did you set the '"+EI+"' property when initializing the app?")}();const i=new bu(t,t._bucket);return null!=e?fD(i,e):i}return void 0!==e?Mp(n,e):n}function pD(n,e){if(e&&function r_(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof pb)return function hD(n,e){return new bu(n,e)}(n,e);throw yu("To use ref(service, url), the first argument must be a Storage instance.")}return fD(n,e)}function fb(n,e){const t=e?.[EI];return null==t?null:ir.makeFromBucketSpec(t,n)}class pb{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=gd,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ir.makeFromBucketSpec(r,this._host):fb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ir.makeFromBucketSpec(this._url,e):fb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qg("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qg("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Le.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Le.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bu(this,e)}_makeRequest(e,t,i,r){if(this._deleted)return new ok(TI());{const s=function NI(n,e,t,i,r,s){const u=kI(n.urlParams),h=n.url+u,p=Object.assign({},n.headers);return function ck(n,e){e&&(n["X-Firebase-GMPID"]=e)}(p,e),function lk(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(p,t),function OI(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(p,s),function PI(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(p,i),new RI(h,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(e,this._appId,i,r,t,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var i=this;return(0,Le.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const mD="@firebase/storage";function yD(n,e){return pD(n=(0,X.m9)(n),e)}function _b(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new pb(t,i,r,e,xs.SDK_VERSION)}!function Nk(){(0,xs._registerComponent)(new Ko.wA("storage",_b,"PUBLIC").setMultipleInstances(!0)),(0,xs.registerVersion)(mD,"0.9.9",""),(0,xs.registerVersion)(mD,"0.9.9","esm2017")}();class Lh{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class s_{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Lh(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new Lh(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?u=>t(new Lh(u,this,this._ref)):{next:t.next?u=>t.next(new Lh(u,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class bd{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Mc(e,this._service))}get items(){return this._delegate.items.map(e=>new Mc(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Mc{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function Rk(n,e){return Mp(n,e)}(this._delegate,e);return new Mc(t,this.storage)}get root(){return new Mc(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Mc(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new s_(function _D(n,e,t){return function sD(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new nD(n,new Yo(e),t)}(n=(0,X.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Do.RAW,i){this._throwIfRoot("putString");const r=Qg(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new s_(new nD(this._delegate,new Yo(r.data,!0),s),this)}listAll(){return function kk(n){return function aD(n){const e={prefixes:[],items:[]};return lD(n,e).then(()=>e)}(n=(0,X.m9)(n))}(this._delegate).then(e=>new bd(e,this.storage))}list(e){return function Ak(n,e){return i_(n=(0,X.m9)(n),e)}(this._delegate,e||void 0).then(t=>new bd(t,this.storage))}getMetadata(){return function Mk(n){return function cD(n){n._throwIfRoot("getMetadata");const e=ob(n.storage,n._location,Tp());return n.storage.makeRequestWithTokens(e,Xo)}(n=(0,X.m9)(n))}(this._delegate)}updateMetadata(e){return function YL(n,e){return function Dk(n,e){n._throwIfRoot("updateMetadata");const t=function ab(n,e,t,i){const s=Pl(e.fullServerUrl(),n.host,n._protocol),h=sb(t,i),y=n.maxOperationRetryTime,C=new Pr(s,"PATCH",Jg(n,i),y);return C.headers={"Content-Type":"application/json; charset=utf-8"},C.body=h,C.errorHandler=Nh(e),C}(n.storage,n._location,e,Tp());return n.storage.makeRequestWithTokens(t,Xo)}(n=(0,X.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function gb(n){return uD(n=(0,X.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Ap(n){return function dD(n){n._throwIfRoot("deleteObject");const e=function Ck(n,e){const i=Pl(e.fullServerUrl(),n.host,n._protocol),h=new Pr(i,"DELETE",function u(p,y){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=Nh(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Xo)}(n=(0,X.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw nb(e)}}class Fk{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Lk(e))throw yu("ref() expected a child path but got a URL, use refFromURL instead.");return new Mc(yD(this._delegate,e),this)}refFromURL(e){if(!Lk(e))throw yu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ir.makeFromUrl(e,this._delegate.host)}catch{throw yu("refFromUrl() expected a valid full URL but got an invalid one.")}return new Mc(yD(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function vd(n,e,t,i={}){!function Sk(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,X.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function Lk(n){return/^[A-Za-z]+:\/\//.test(n)}function wD(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new Fk(t,i)}function yb(n){const e=function jk(n){return new Ni.y(e=>{const t=u=>e.next(u);t(n.snapshot);const s=n.on("state_changed",t);return n.then(u=>{t(u),e.complete()},u=>{t(n.snapshot),(u=>{e.error(u)})(u)}),function(){s()}}).pipe((0,Jy.b)(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Ze.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function kp(n){return{getDownloadURL:()=>(0,Ke.of)(void 0).pipe(Qt.fc,(0,jn.w)(()=>n.getDownloadURL()),Qt.iC),getMetadata:()=>(0,Ke.of)(void 0).pipe(Qt.fc,(0,jn.w)(()=>n.getMetadata()),Qt.iC),delete:()=>(0,at.D)(n.delete()),child:e=>kp(n.child(e)),updateMetadata:e=>(0,at.D)(n.updateMetadata(e)),put:(e,t)=>yb(n.put(e,t)),putString:(e,t,i)=>yb(n.putString(e,t,i)),list:e=>(0,at.D)(n.list(e)),listAll:()=>(0,at.D)(n.listAll())}}!function Bk(n){const e={TaskState:As,TaskEvent:XI,StringFormat:Do,Storage:Fk,Reference:Mc};n.INTERNAL.registerComponent(new Ko.wA("storage-compat",wD,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(ps.Z);const ED=new l.InjectionToken("angularfire2.storageBucket"),Uk=new l.InjectionToken("angularfire2.storage.maxUploadRetryTime"),Hk=new l.InjectionToken("angularfire2.storage.maxOperationRetryTime"),CD=new l.InjectionToken("angularfire2.storage.use-emulator");let vb=(()=>{class n{constructor(t,i,r,s,u,h,p,y,C,M){const B=(0,Cr.on)(t,u,i);this.storage=(0,Cr.cc)(`${B.name}.storage.${r}`,"AngularFireStorage",B.name,()=>{const ee=u.runOutsideAngular(()=>B.storage(r||void 0)),re=C;return re&&ee.useEmulator(...re),p&&ee.setMaxUploadRetryTime(p),y&&ee.setMaxOperationRetryTime(y),ee},[p,y])}ref(t){return kp(this.storage.ref(t))}refFromURL(t){return kp(this.storage.refFromURL(t))}upload(t,i,r){return kp(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(Cr.Dh),l.\u0275\u0275inject(Cr.xv,8),l.\u0275\u0275inject(ED,8),l.\u0275\u0275inject(l.PLATFORM_ID),l.\u0275\u0275inject(l.NgZone),l.\u0275\u0275inject(Qt.HU),l.\u0275\u0275inject(Uk,8),l.\u0275\u0275inject(Hk,8),l.\u0275\u0275inject(CD,8),l.\u0275\u0275inject(oh,8))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ID=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({}),n})(),bb=(()=>{class n{constructor(){jf.Z.registerVersion("angularfire",Qt.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({providers:[vb],imports:[ID]}),n})();var Dt,DD=k(353),wb=k(519),$k=(k(5881),typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{}),Ac={},Eb=Eb||{},on=$k||self;function o_(){}function Cb(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Rp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Ib="closure_uid_"+(1e9*Math.random()>>>0),Wk=0;function Gk(n,e,t){return n.call.apply(n.bind,arguments)}function Kk(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function ms(n,e,t){return(ms=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Gk:Kk).apply(null,arguments)}function a_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function gs(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return e.prototype[r].apply(i,u)}}function o(){this.s=this.s,this.o=this.o}var c={};o.prototype.s=!1,o.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function zk(n){return Object.prototype.hasOwnProperty.call(n,Ib)&&n[Ib]||(n[Ib]=++Wk)}(this);delete c[n]}},o.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const d=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},f=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&e.call(t,r[s],s,n)};function v(n){return Array.prototype.concat.apply([],arguments)}function I(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function S(n){return/^[\s\xa0]*$/.test(n)}var de,N=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function H(n,e){return-1!=n.indexOf(e)}function ie(n,e){return n<e?-1:n>e?1:0}e:{var De=on.navigator;if(De){var Be=De.userAgent;if(Be){de=Be;break e}}de=""}function Xe(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function dt(n){const e={};for(const t in n)e[t]=n[t];return e}var Et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zt(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<Et.length;s++)t=Et[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Ge(n){return Ge[" "](n),n}Ge[" "]=o_;var Vh,n,Hn=H(de,"Opera"),di=H(de,"Trident")||H(de,"MSIE"),wu=H(de,"Edge"),Op=wu||di,l_=H(de,"Gecko")&&!(H(de.toLowerCase(),"webkit")&&!H(de,"Edge"))&&!(H(de,"Trident")||H(de,"MSIE"))&&!H(de,"Edge"),Db=H(de.toLowerCase(),"webkit")&&!H(de,"Edge");function c_(){var n=on.document;return n?n.documentMode:void 0}e:{var Pp="",Np=(n=de,l_?/rv:([^\);]+)(\)|;)/.exec(n):wu?/Edge\/([\d\.]+)/.exec(n):di?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Db?/WebKit\/(\S+)/.exec(n):Hn?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Np&&(Pp=Np?Np[1]:""),di){var Fp=c_();if(null!=Fp&&Fp>parseFloat(Pp)){Vh=String(Fp);break e}}Vh=Pp}var Sb={};var BW=on.document&&di&&(c_()||parseInt(Vh,10))||void 0,jW=function(){if(!on.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{on.addEventListener("test",o_,e),on.removeEventListener("test",o_,e)}catch{}return n}();function So(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Tb(n,e){if(So.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(l_){e:{try{Ge(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:UW[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Tb.Z.h.call(this)}}So.prototype.h=function(){this.defaultPrevented=!0},gs(Tb,So);var UW={2:"touch",3:"pen",4:"mouse"};Tb.prototype.h=function(){Tb.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var xb="closure_listenable_"+(1e6*Math.random()|0),HW=0;function $W(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++HW,this.ca=this.fa=!1}function SD(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function TD(n){this.src=n,this.g={},this.h=0}function Yk(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=d(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(SD(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Zk(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==i)return r}return-1}TD.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=Zk(n,e,i,r);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new $W(e,this.src,s,!!i,r)).fa=t,n.push(e)),e};var Qk="closure_lm_"+(1e6*Math.random()|0),Xk={};function JL(n,e,t,i,r){if(i&&i.once)return tV(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)JL(n,e[s],t,i,r);return null}return t=nR(t),n&&n[xb]?n.N(e,t,Rp(i)?!!i.capture:!!i,r):eV(n,e,t,!1,i,r)}function eV(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var u=Rp(r)?!!r.capture:!!r,h=eR(n);if(h||(n[Qk]=h=new TD(n)),(t=h.add(e,t,i,u,s)).proxy)return t;if(i=function zW(){var e=WW;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)jW||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(iV(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function tV(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)tV(n,e[s],t,i,r);return null}return t=nR(t),n&&n[xb]?n.O(e,t,Rp(i)?!!i.capture:!!i,r):eV(n,e,t,!0,i,r)}function nV(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)nV(n,e[s],t,i,r);else i=Rp(i)?!!i.capture:!!i,t=nR(t),n&&n[xb]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Zk(s=n.g[e],t,i,r))&&(SD(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=eR(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Zk(e,t,i,r)),(t=-1<n?e[n]:null)&&Jk(t))}function Jk(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[xb])Yk(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(iV(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=eR(e))?(Yk(t,n),0==t.h&&(t.src=null,e[Qk]=null)):SD(n)}}}function iV(n){return n in Xk?Xk[n]:Xk[n]="on"+n}function WW(n,e){if(n.ca)n=!0;else{e=new Tb(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&Jk(n),n=t.call(i,e)}return n}function eR(n){return(n=n[Qk])instanceof TD?n:null}var tR="__closure_events_fn_"+(1e9*Math.random()>>>0);function nR(n){return"function"==typeof n?n:(n[tR]||(n[tR]=function(e){return n.handleEvent(e)}),n[tR])}function ks(){o.call(this),this.i=new TD(this),this.P=this,this.I=null}function Js(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new So(e,n);else if(e instanceof So)e.target=e.target||n;else{var r=e;zt(e=new So(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var u=e.g=t[s];r=xD(u,i,!0,e)&&r}if(r=xD(u=e.g=n,i,!0,e)&&r,r=xD(u,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=xD(u=e.g=t[s],i,!1,e)&&r}function xD(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var u=e[s];if(u&&!u.ca&&u.capture==t){var h=u.listener,p=u.ia||u.src;u.fa&&Yk(n.i,u),r=!1!==h.call(p,i)&&r}}return r&&!i.defaultPrevented}gs(ks,o),ks.prototype[xb]=!0,ks.prototype.removeEventListener=function(n,e,t,i){nV(this,n,e,t,i)},ks.prototype.M=function(){if(ks.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)SD(t[i]);delete n.g[e],n.h--}}this.I=null},ks.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},ks.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var iR=on.JSON.stringify;function GW(){var n=sV;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var sR,rV=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new qW,n=>n.reset());class qW{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function YW(n){on.setTimeout(()=>{throw n},0)}function rR(n,e){sR||function ZW(){var n=on.Promise.resolve(void 0);sR=function(){n.then(QW)}}(),oR||(sR(),oR=!0),sV.add(n,e)}var oR=!1,sV=new class KW{constructor(){this.h=this.g=null}add(e,t){const i=rV.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function QW(){for(var n;n=GW();){try{n.h.call(n.g)}catch(t){YW(t)}var e=rV;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}oR=!1}function MD(n,e){ks.call(this),this.h=n||1,this.g=e||on,this.j=ms(this.kb,this),this.l=Date.now()}function aR(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function lR(n,e,t){if("function"==typeof n)t&&(n=ms(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ms(n.handleEvent,n)}return 2147483647<Number(e)?-1:on.setTimeout(n,e||0)}function oV(n){n.g=lR(()=>{n.g=null,n.i&&(n.i=!1,oV(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}gs(MD,ks),(Dt=MD.prototype).da=!1,Dt.S=null,Dt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Js(this,"tick"),this.da&&(aR(this),this.start()))}},Dt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Dt.M=function(){MD.Z.M.call(this),aR(this),delete this.g};class XW extends o{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:oV(this)}M(){super.M(),this.g&&(on.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mb(n){o.call(this),this.h=n,this.g={}}gs(Mb,o);var aV=[];function lV(n,e,t,i){Array.isArray(t)||(t&&(aV[0]=t.toString()),t=aV);for(var r=0;r<t.length;r++){var s=JL(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function cV(n){Xe(n.g,function(e,t){this.g.hasOwnProperty(t)&&Jk(e)},n),n.g={}}function AD(){this.g=!0}function u_(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function n4(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<r.length;u++)r[u]=""}}}return iR(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Mb.prototype.M=function(){Mb.Z.M.call(this),cV(this)},Mb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},AD.prototype.Aa=function(){this.g=!1},AD.prototype.info=function(){};var Lp={},uV=null;function kD(){return uV=uV||new ks}function dV(n){So.call(this,Lp.Ma,n)}function Ab(n){const e=kD();Js(e,new dV(e,n))}function hV(n,e){So.call(this,Lp.STAT_EVENT,n),this.stat=e}function Jo(n){const e=kD();Js(e,new hV(e,n))}function fV(n,e){So.call(this,Lp.Na,n),this.size=e}function kb(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return on.setTimeout(function(){n()},e)}Lp.Ma="serverreachability",gs(dV,So),Lp.STAT_EVENT="statevent",gs(hV,So),Lp.Na="timingevent",gs(fV,So);var RD={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},pV={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function cR(){}function gV(){}cR.prototype.h=null;var hR,Rb={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function uR(){So.call(this,"d")}function dR(){So.call(this,"c")}function OD(){}function Ob(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new Mb(this),this.P=r4,this.W=new MD(n=Op?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new _V}function _V(){this.i=null,this.g="",this.h=!1}gs(uR,So),gs(dR,So),gs(OD,cR),OD.prototype.g=function(){return new XMLHttpRequest},OD.prototype.i=function(){return{}},hR=new OD;var r4=45e3,fR={},PD={};function pR(n,e,t){n.K=1,n.v=BD(wd(e)),n.s=t,n.U=!0,yV(n,null)}function yV(n,e){n.F=Date.now(),Pb(n),n.A=wd(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),TV(t.h,"t",i),n.C=0,t=n.l.H,n.h=new _V,n.g=ZV(n.l,t?e:null,!n.s),0<n.O&&(n.L=new XW(ms(n.Ia,n,n.g),n.O)),lV(n.V,n.g,"readystatechange",n.gb),e=n.H?dt(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Ab(1),function JW(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var u="",h=s.split("&"),p=0;p<h.length;p++){var y=h[p].split("=");if(1<y.length){var C=y[0];y=y[1];var M=C.split("_");u=2<=M.length&&"type"==M[1]?u+(C+"=")+y+"&":u+(C+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function vV(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function bV(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=s4(n,t),r==PD){4==e&&(n.o=4,Jo(14),i=!1),u_(n.j,n.m,null,"[Incomplete Response]");break}if(r==fR){n.o=4,Jo(15),u_(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}u_(n.j,n.m,r,null),mR(n,r)}vV(n)&&r!=PD&&r!=fR&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Jo(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),SR(e),e.L=!0,Jo(11))):(u_(n.j,n.m,t,"[Invalid Chunked Response]"),Vp(n),Nb(n))}function s4(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?PD:(t=Number(e.substring(t,i)),isNaN(t)?fR:(i+=1)+t>e.length?PD:(e=e.substr(i,t),n.C=i+t,e))}function Pb(n){n.Y=Date.now()+n.P,wV(n,n.P)}function wV(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=kb(ms(n.eb,n),e)}function ND(n){n.B&&(on.clearTimeout(n.B),n.B=null)}function Nb(n){0==n.l.G||n.I||GV(n.l,n)}function Vp(n){ND(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,aR(n.W),cV(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function mR(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||yR(t.i,n)))if(t.I=n.N,!n.J&&yR(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;WD(t),$D(t)}DR(t),Jo(18)}}else t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=kb(ms(t.ab,t),6e3));if(1>=AV(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else Up(t,11)}else if((n.J||t.g==n)&&WD(t),!S(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let y=r[e];if(t.U=y[0],y=y[1],2==t.G)if("c"==y[0]){t.J=y[1],t.la=y[2];const C=y[3];null!=C&&(t.ma=C,t.h.info("VER="+t.ma));const M=y[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const B=y[5];null!=B&&"number"==typeof B&&0<B&&(t.K=i=1.5*B,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const ee=n.g;if(ee){const re=ee.g?ee.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(re){var s=i.i;!s.g&&(H(re,"spdy")||H(re,"quic")||H(re,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(vR(s,s.h),s.h=null))}if(i.D){const ye=ee.g?ee.g.getResponseHeader("X-HTTP-Session-Id"):null;ye&&(i.sa=ye,rr(i.F,i.D,ye))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((i=t).oa=YV(i,i.H?i.la:null,i.W),u.J){kV(i.i,u);var h=u,p=i.K;p&&h.setTimeout(p),h.B&&(ND(h),Pb(h)),i.g=u}else zV(i);0<t.l.length&&zD(t)}else"stop"!=y[0]&&"close"!=y[0]||Up(t,7);else 3==t.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Up(t,7):CR(t):"noop"!=y[0]&&t.j&&t.j.wa(y),t.A=0)}Ab(4)}catch{}}function gR(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Cb(n)||"string"==typeof n)f(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Cb(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function o4(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Cb(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}}function d_(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof d_)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function _R(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];Bp(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)Bp(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function Bp(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Dt=Ob.prototype).setTimeout=function(n){this.P=n},Dt.gb=function(n){n=n.target;const e=this.L;e&&3==Ed(n)?e.l():this.Ia(n)},Dt.Ia=function(n){try{if(n==this.g)e:{const C=Ed(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>C)&&(3!=C||Op||this.g&&(this.h.h||this.g.ga()||BV(this.g)))){this.I||4!=C||7==e||Ab(8==e||0>=M?3:2),ND(this);var t=this.g.ba();this.N=t;t:if(vV(this)){var i=BV(this.g);n="";var r=i.length,s=4==Ed(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Vp(this),Nb(this);var u="";break t}this.h.i=new on.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function e4(n,e,t,i,r,s,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.X,C,t),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(h)){var y=h;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,Jo(12),Vp(this),Nb(this);break e}u_(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,mR(this,t)}this.U?(bV(this,C,u),Op&&this.i&&3==C&&(lV(this.V,this.W,"tick",this.fb),this.W.start())):(u_(this.j,this.m,u,null),mR(this,u)),4==C&&Vp(this),this.i&&!this.I&&(4==C?GV(this.l,this):(this.i=!1,Pb(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Jo(12)):(this.o=0,Jo(13)),Vp(this),Nb(this)}}}catch{}},Dt.fb=function(){if(this.g){var n=Ed(this.g),e=this.g.ga();this.C<e.length&&(ND(this),bV(this,n,e),this.i&&4!=n&&Pb(this))}},Dt.cancel=function(){this.I=!0,Vp(this)},Dt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function t4(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ab(3),Jo(17)),Vp(this),this.o=2,Nb(this)):wV(this,this.Y-n)},(Dt=d_.prototype).R=function(){_R(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Dt.T=function(){return _R(this),this.g.concat()},Dt.get=function(n,e){return Bp(this.h,n)?this.h[n]:e},Dt.set=function(n,e){Bp(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Dt.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],s=this.get(r);n.call(e,s,r,this)}};var EV=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jp(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof jp){this.g=void 0!==e?e:n.g,FD(this,n.j),this.s=n.s,LD(this,n.i),VD(this,n.m),this.l=n.l,e=n.h;var t=new Vb;t.i=e.i,e.g&&(t.g=new d_(e.g),t.h=e.h),CV(this,t),this.o=n.o}else n&&(t=String(n).match(EV))?(this.g=!!e,FD(this,t[1]||"",!0),this.s=Fb(t[2]||""),LD(this,t[3]||"",!0),VD(this,t[4]),this.l=Fb(t[5]||"",!0),CV(this,t[6]||"",!0),this.o=Fb(t[7]||"")):(this.g=!!e,this.h=new Vb(null,this.g))}function wd(n){return new jp(n)}function FD(n,e,t){n.j=t?Fb(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function LD(n,e,t){n.i=t?Fb(e,!0):e}function VD(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function CV(n,e,t){e instanceof Vb?(n.h=e,function m4(n,e){e&&!n.j&&(Bh(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(DV(this,i),TV(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Lb(e,f4)),n.h=new Vb(e,n.g))}function rr(n,e,t){n.h.set(e,t)}function BD(n){return rr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Fb(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Lb(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,u4),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function u4(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}jp.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Lb(e,IV,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Lb(e,IV,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Lb(t,"/"==t.charAt(0)?h4:d4,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Lb(t,p4)),n.join("")};var IV=/[#\/\?@]/g,d4=/[#\?:]/g,h4=/[#\?]/g,f4=/[#\?@]/g,p4=/#/g;function Vb(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Bh(n){n.g||(n.g=new d_,n.h=0,n.i&&function a4(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function DV(n,e){Bh(n),e=h_(n,e),Bp(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Bp((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&_R(n)))}function SV(n,e){return Bh(n),e=h_(n,e),Bp(n.g.h,e)}function TV(n,e,t){DV(n,e),0<t.length&&(n.i=null,n.g.set(h_(n,e),I(t)),n.h+=t.length)}function h_(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function xV(n){this.l=n||_4,n=on.PerformanceNavigationTiming?0<(n=on.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(on.g&&on.g.Ea&&on.g.Ea()&&on.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Dt=Vb.prototype).add=function(n,e){Bh(this),this.i=null,n=h_(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Dt.forEach=function(n,e){Bh(this),this.g.forEach(function(t,i){f(t,function(r){n.call(e,r,i,this)},this)},this)},Dt.T=function(){Bh(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],s=0;s<r.length;s++)t.push(e[i]);return t},Dt.R=function(n){Bh(this);var e=[];if("string"==typeof n)SV(this,n)&&(e=v(e,this.g.get(h_(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=v(e,n[t])}return e},Dt.set=function(n,e){return Bh(this),this.i=null,SV(this,n=h_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Dt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var u=r;""!==i[s]&&(u+="="+encodeURIComponent(String(i[s]))),n.push(u)}}return this.i=n.join("&")};var _4=10;function MV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function AV(n){return n.h?1:n.g?n.g.size:0}function yR(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function vR(n,e){n.g?n.g.add(e):n.h=e}function kV(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function RV(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return I(n.i)}function bR(){}function y4(){this.g=new bR}function v4(n,e,t){const i=t||"";try{gR(n,function(r,s){let u=r;Rp(r)&&(u=iR(r)),e.push(i+s+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function jD(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Bb(n){this.l=n.$b||null,this.j=n.ib||!1}function UD(n,e){ks.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=wR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xV.prototype.cancel=function(){if(this.i=RV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},bR.prototype.stringify=function(n){return on.JSON.stringify(n,void 0)},bR.prototype.parse=function(n){return on.JSON.parse(n,void 0)},gs(Bb,cR),Bb.prototype.g=function(){return new UD(this.l,this.j)},Bb.prototype.i=function(n){return function(){return n}}({}),gs(UD,ks);var wR=0;function OV(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function jb(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ub(n)}function Ub(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Dt=UD.prototype).open=function(n,e){if(this.readyState!=wR)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ub(this)},Dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||on).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jb(this)),this.readyState=wR},Dt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ub(this)),this.g&&(this.readyState=3,Ub(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof on.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;OV(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Dt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?jb(this):Ub(this),3==this.readyState&&OV(this)}},Dt.Ua=function(n){this.g&&(this.response=this.responseText=n,jb(this))},Dt.Ta=function(n){this.g&&(this.response=n,jb(this))},Dt.ha=function(){this.g&&jb(this)},Dt.setRequestHeader=function(n,e){this.v.append(n,e)},Dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(UD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var w4=on.JSON.parse;function Zr(n){ks.call(this),this.headers=new d_,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=PV,this.K=this.L=!1}gs(Zr,ks);var PV="",E4=/^https?$/i,C4=["POST","PUT"];function D4(n){return"content-type"==n.toLowerCase()}function NV(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,FV(n),HD(n)}function FV(n){n.D||(n.D=!0,Js(n,"complete"),Js(n,"error"))}function LV(n){if(n.h&&typeof Eb<"u"&&(!n.C[1]||4!=Ed(n)||2!=n.ba()))if(n.v&&4==Ed(n))lR(n.Fa,0,n);else if(Js(n,"readystatechange"),4==Ed(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===h){var r=String(n.H).match(EV)[1]||null;if(!r&&on.self&&on.self.location){var s=on.self.location.protocol;r=s.substr(0,s.length-1)}i=!E4.test(r?r.toLowerCase():"")}t=i}if(t)Js(n,"complete"),Js(n,"success");else{n.m=6;try{var u=2<Ed(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.ba()+"]",FV(n)}}finally{HD(n)}}}function HD(n,e){if(n.g){VV(n);const t=n.g,i=n.C[0]?o_:null;n.g=null,n.C=null,e||Js(n,"ready");try{t.onreadystatechange=i}catch{}}}function VV(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(on.clearTimeout(n.A),n.A=null)}function Ed(n){return n.g?n.g.readyState:0}function BV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case PV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function ER(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function S4(n){let e="";return Xe(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):rr(n,e,t))}function Hb(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function jV(n){this.za=0,this.l=[],this.h=new AD,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Hb("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Hb("baseRetryDelayMs",5e3,n),this.$a=Hb("retryDelaySeedMs",1e4,n),this.Ya=Hb("forwardChannelMaxRetries",2,n),this.ra=Hb("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new xV(n&&n.concurrentRequestLimit),this.Ca=new y4,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function CR(n){if(UV(n),3==n.G){var e=n.V++,t=wd(n.F);rr(t,"SID",n.J),rr(t,"RID",e),rr(t,"TYPE","terminate"),$b(n,t),(e=new Ob(n,n.h,e,void 0)).K=2,e.v=BD(wd(t)),t=!1,on.navigator&&on.navigator.sendBeacon&&(t=on.navigator.sendBeacon(e.v.toString(),"")),!t&&on.Image&&((new Image).src=e.v,t=!0),t||(e.g=ZV(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Pb(e)}qV(n)}function $D(n){n.g&&(SR(n),n.g.cancel(),n.g=null)}function UV(n){$D(n),n.u&&(on.clearTimeout(n.u),n.u=null),WD(n),n.i.cancel(),n.m&&("number"==typeof n.m&&on.clearTimeout(n.m),n.m=null)}function IR(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&zD(n)}function zD(n){MV(n.i)||n.m||(n.m=!0,rR(n.Ha,n),n.C=0)}function HV(n,e){var t;t=e?e.m:n.V++;const i=wd(n.F);rr(i,"SID",n.J),rr(i,"RID",t),rr(i,"AID",n.U),$b(n,i),n.o&&n.s&&ER(i,n.o,n.s),t=new Ob(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=$V(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),vR(n.i,t),pR(t,i,e)}function $b(n,e){n.j&&gR({},function(t,i){rr(e,i,t)})}function $V(n,e,t){t=Math.min(n.l.length,t);var i=n.j?ms(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const u=["count="+t];-1==s?0<t?(s=r[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);let h=!0;for(let p=0;p<t;p++){let y=r[p].h;const C=r[p].g;if(y-=s,0>y)s=Math.max(0,r[p].h-100),h=!1;else try{v4(C,u,"req"+y+"_")}catch{i&&i(C)}}if(h){i=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function zV(n){n.g||n.u||(n.Y=1,rR(n.Ga,n),n.A=0)}function DR(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=kb(ms(n.Ga,n),KV(n,n.A)),n.A++,0))}function SR(n){null!=n.B&&(on.clearTimeout(n.B),n.B=null)}function WV(n){n.g=new Ob(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=wd(n.oa);rr(e,"RID","rpc"),rr(e,"SID",n.J),rr(e,"CI",n.N?"0":"1"),rr(e,"AID",n.U),$b(n,e),rr(e,"TYPE","xmlhttp"),n.o&&n.s&&ER(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=BD(wd(e)),t.s=null,t.U=!0,yV(t,n)}function WD(n){null!=n.v&&(on.clearTimeout(n.v),n.v=null)}function GV(n,e){var t=null;if(n.g==e){WD(n),SR(n),n.g=null;var i=2}else{if(!yR(n.i,e))return;t=e.D,kV(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Js(i=kD(),new fV(i,t,e,r)),zD(n)}else zV(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function T4(n,e){return!(AV(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=kb(ms(n.Ha,n,e),KV(n,n.C)),n.C++,0)))}(n,e)||2==i&&DR(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Up(n,5);break;case 4:Up(n,10);break;case 3:Up(n,6);break;default:Up(n,2)}}function KV(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Up(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=ms(n.jb,n);t||(t=new jp("//www.google.com/images/cleardot.gif"),on.location&&"http"==on.location.protocol||FD(t,"https"),BD(t)),function b4(n,e){const t=new AD;if(on.Image){const i=new Image;i.onload=a_(jD,t,i,"TestLoadImage: loaded",!0,e),i.onerror=a_(jD,t,i,"TestLoadImage: error",!1,e),i.onabort=a_(jD,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=a_(jD,t,i,"TestLoadImage: timeout",!1,e),on.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Jo(2);n.G=0,n.j&&n.j.va(e),qV(n),UV(n)}function qV(n){n.G=0,n.I=-1,n.j&&((0!=RV(n.i).length||0!=n.l.length)&&(n.i.i.length=0,I(n.l),n.l.length=0),n.j.ua())}function YV(n,e,t){let i=function l4(n){return n instanceof jp?wd(n):new jp(n,void 0)}(t);if(""!=i.i)e&&LD(i,e+"."+i.i),VD(i,i.m);else{const r=on.location;i=function c4(n,e,t,i){var r=new jp(null,void 0);return n&&FD(r,n),e&&LD(r,e),t&&VD(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&Xe(n.aa,function(r,s){rr(i,s,r)}),t=n.sa,(e=n.D)&&t&&rr(i,e,t),rr(i,"VER",n.ma),$b(n,i),i}function ZV(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zr(t&&n.Ba&&!n.qa?new Bb({ib:!0}):n.qa)).L=n.H,e}function QV(){}function GD(){if(di&&!(10<=Number(BW)))throw Error("Environmental error: no available transport.")}function Ja(n,e){ks.call(this),this.g=new jV(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!S(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!S(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new f_(this)}function XV(n){uR.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function JV(){dR.call(this),this.status=1}function f_(n){this.g=n}(Dt=Zr.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hR.g(),this.C=function mV(n){return n.h||(n.h=n.i())}(this.u?this.u:hR),this.g.onreadystatechange=ms(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void NV(this,s)}n=t||"";const r=new d_(this.headers);i&&gR(i,function(s,u){r.set(u,s)}),i=function g(n){e:{var e=D4;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=on.FormData&&n instanceof on.FormData,!(0<=d(C4,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,u){this.g.setRequestHeader(u,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{VV(this),0<this.B&&((this.K=function I4(n){return di&&function VW(){return function Bt(n){var e=Sb;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=N(String(Vh)).split("."),t=N("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",s=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=ie(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||ie(0==r[2].length,0==s[2].length)||ie(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ms(this.pa,this)):this.A=lR(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){NV(this,s)}},Dt.pa=function(){typeof Eb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Js(this,"timeout"),this.abort(8))},Dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Js(this,"complete"),Js(this,"abort"),HD(this))},Dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),HD(this,!0)),Zr.Z.M.call(this)},Dt.Fa=function(){this.s||(this.F||this.v||this.l?LV(this):this.cb())},Dt.cb=function(){LV(this)},Dt.ba=function(){try{return 2<Ed(this)?this.g.status:-1}catch{return-1}},Dt.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},Dt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),w4(e)}},Dt.Da=function(){return this.m},Dt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Dt=jV.prototype).ma=8,Dt.G=1,Dt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},Dt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Ob(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=dt(s),zt(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=$V(this,r,e),rr(t=wd(this.F),"RID",n),rr(t,"CVER",22),this.D&&rr(t,"X-HTTP-Session-Id",this.D),$b(this,t),this.o&&s&&ER(t,this.o,s),vR(this.i,r),this.Ra&&rr(t,"TYPE","init"),this.ja?(rr(t,"$req",e),rr(t,"SID","null"),r.$=!0,pR(r,t,null)):pR(r,t,e),this.G=2}}else 3==this.G&&(n?HV(this,n):0==this.l.length||MV(this.i)||HV(this))},Dt.Ga=function(){if(this.u=null,WV(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=kb(ms(this.bb,this),n)}},Dt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Jo(10),$D(this),WV(this))},Dt.ab=function(){null!=this.v&&(this.v=null,$D(this),DR(this),Jo(19))},Dt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Jo(2)):(this.h.info("Failed to ping google.com"),Jo(1))},(Dt=QV.prototype).xa=function(){},Dt.wa=function(){},Dt.va=function(){},Dt.ua=function(){},Dt.Oa=function(){},GD.prototype.g=function(n,e){return new Ja(n,e)},gs(Ja,ks),Ja.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),rR(ms(n.hb,n,e))),Jo(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=YV(n,null,n.W),zD(n)},Ja.prototype.close=function(){CR(this.g)},Ja.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,IR(this.g,e)}else this.v?((e={}).__data__=iR(n),IR(this.g,e)):IR(this.g,n)},Ja.prototype.M=function(){this.g.j=null,delete this.j,CR(this.g),delete this.g,Ja.Z.M.call(this)},gs(XV,uR),gs(JV,dR),gs(f_,QV),f_.prototype.xa=function(){Js(this.g,"a")},f_.prototype.wa=function(n){Js(this.g,new XV(n))},f_.prototype.va=function(n){Js(this.g,new JV(n))},f_.prototype.ua=function(){Js(this.g,"b")},GD.prototype.createWebChannel=GD.prototype.g,Ja.prototype.send=Ja.prototype.u,Ja.prototype.open=Ja.prototype.m,Ja.prototype.close=Ja.prototype.close,RD.NO_ERROR=0,RD.TIMEOUT=8,RD.HTTP_ERROR=6,pV.COMPLETE="complete",gV.EventType=Rb,Rb.OPEN="a",Rb.CLOSE="b",Rb.ERROR="c",Rb.MESSAGE="d",ks.prototype.listen=ks.prototype.N,Zr.prototype.listenOnce=Zr.prototype.O,Zr.prototype.getLastError=Zr.prototype.La,Zr.prototype.getLastErrorCode=Zr.prototype.Da,Zr.prototype.getStatus=Zr.prototype.ba,Zr.prototype.getResponseJson=Zr.prototype.Qa,Zr.prototype.getResponseText=Zr.prototype.ga,Zr.prototype.send=Zr.prototype.ea;var x4=Ac.createWebChannelTransport=function(){return new GD},M4=Ac.getStatEventTarget=function(){return kD()},TR=Ac.ErrorCode=RD,A4=Ac.EventType=pV,k4=Ac.Event=Lp,e2=Ac.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},R4=Ac.FetchXmlHttpFactory=Bb,KD=Ac.WebChannel=gV,O4=Ac.XhrIo=Zr;const t2="@firebase/firestore";class Rs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rs.UNAUTHENTICATED=new Rs(null),Rs.GOOGLE_CREDENTIALS=new Rs("google-credentials-uid"),Rs.FIRST_PARTY=new Rs("first-party-uid"),Rs.MOCK_USER=new Rs("mock-user");let p_="9.9.1";const jh=new bo.Yd("@firebase/firestore");function xR(){return jh.logLevel}function et(n,...e){if(jh.logLevel<=bo.in.DEBUG){const t=e.map(MR);jh.debug(`Firestore (${p_}): ${n}`,...t)}}function Qr(n,...e){if(jh.logLevel<=bo.in.ERROR){const t=e.map(MR);jh.error(`Firestore (${p_}): ${n}`,...t)}}function zb(n,...e){if(jh.logLevel<=bo.in.WARN){const t=e.map(MR);jh.warn(`Firestore (${p_}): ${n}`,...t)}}function MR(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Tt(n="Unexpected state"){const e=`FIRESTORE (${p_}) INTERNAL ASSERTION FAILED: `+n;throw Qr(e),new Error(e)}function rn(n,e){n||Tt()}function _t(n,e){return n}const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends X.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Os{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class n2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Rs.UNAUTHENTICATED))}shutdown(){}}class L4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class V4{constructor(e){this.t=e,this.currentUser=Rs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=y=>this.i!==r?(r=this.i,t(y)):Promise.resolve();let u=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Os,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const y=u;e.enqueueRetryable((0,Le.Z)(function*(){yield y.promise,yield s(i.currentUser)}))},p=y=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Os)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(rn("string"==typeof i.accessToken),new n2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rn(null===e||"string"==typeof e),new Rs(e)}}class B4{constructor(e,t,i){this.type="FirstParty",this.user=Rs.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class j4{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new B4(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Rs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U4{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=s=>{null!=s.error&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.p;return this.p=s.token,et("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?r(s):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rn("string"==typeof t.token),this.p=t.token,new r2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function H4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class s2{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=H4(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function En(n,e){return n<e?-1:n>e?1:0}function m_(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function o2(n){return n+"\0"}class sr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new qe(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new qe(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new qe(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qe(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return sr.fromMillis(Date.now())}static fromDate(e){return sr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new sr(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?En(this.nanoseconds,e.nanoseconds):En(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Jt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Jt(e)}static min(){return new Jt(new sr(0,0))}static max(){return new Jt(new sr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Wb{constructor(e,t,i){void 0===t?t=0:t>e.length&&Tt(),void 0===i?i=e.length-t:i>e.length-t&&Tt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Wb.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wb?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),u=t.get(r);if(s<u)return-1;if(s>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class si extends Wb{construct(e,t,i){return new si(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new qe(Ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new si(t)}static emptyPath(){return new si([])}}const $4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nr extends Wb{construct(e,t,i){return new Nr(e,t,i)}static isValidIdentifier(e){return $4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Nr(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new qe(Ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new qe(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new qe(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(s(),r++)}if(s(),u)throw new qe(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nr(t)}static emptyPath(){return new Nr([])}}class ft{constructor(e){this.path=e}static fromPath(e){return new ft(si.fromString(e))}static fromName(e){return new ft(si.fromString(e).popFirst(5))}static empty(){return new ft(si.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===si.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return si.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new si(e.slice()))}}class qD{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function AR(n){return n.fields.find(e=>2===e.kind)}function Hp(n){return n.fields.filter(e=>2!==e.kind)}qD.UNKNOWN_ID=-1;class YD{constructor(e,t){this.fieldPath=e,this.kind=t}}class Gb{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Gb(0,el.min())}}function a2(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Jt.fromTimestamp(1e9===i?new sr(t+1,0):new sr(t,i));return new el(r,ft.empty(),e)}function l2(n){return new el(n.readTime,n.key,-1)}class el{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new el(Jt.min(),ft.empty(),-1)}static max(){return new el(Jt.max(),ft.empty(),-1)}}function kR(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ft.comparator(n.documentKey,e.documentKey),0!==t?t:En(n.largestBatchId,e.largestBatchId))}const c2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Uh(n){return RR.apply(this,arguments)}function RR(){return RR=(0,Le.Z)(function*(n){if(n.code!==Ne.FAILED_PRECONDITION||n.message!==c2)throw n;et("LocalStore","Unexpectedly lost primary lease")}),RR.apply(this,arguments)}class Me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Me((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Me?t:Me.resolve(t)}catch(t){return Me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Me.reject(t)}static resolve(e){return new Me((t,i)=>{t(e)})}static reject(e){return new Me((t,i)=>{i(e)})}static waitFor(e){return new Me((t,i)=>{let r=0,s=0,u=!1;e.forEach(h=>{++r,h.next(()=>{++s,u&&s===r&&t()},p=>i(p))}),u=!0,s===r&&t()})}static or(e){let t=Me.resolve(!1);for(const i of e)t=t.next(r=>r?Me.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new Me((i,r)=>{const s=e.length,u=new Array(s);let h=0;for(let p=0;p<s;p++){const y=p;t(e[y]).next(C=>{u[y]=C,++h,h===s&&i(u)},C=>r(C))}})}static doWhile(e,t){return new Me((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class ZD{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new Os,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new Kb(e,t.error)):this.T.resolve()},this.transaction.onerror=i=>{const r=OR(i.target.error);this.T.reject(new Kb(e,r))}}static open(e,t,i,r){try{return new ZD(t,e.transaction(r,i))}catch(s){throw new Kb(t,s)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(et("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new W4(t)}}class kc{constructor(e,t,i){this.name=e,this.version=t,this.P=i,12.2===kc.v((0,X.z$)())&&Qr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return et("SimpleDb","Removing database:",e),$p(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,X.hl)())return!1;if(kc.S())return!0;const e=(0,X.z$)(),t=kc.v(e),i=0<t&&t<10,r=kc.D(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static D(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}k(e){var t=this;return(0,Le.Z)(function*(){return t.db||(et("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=u=>{i(u.target.result)},s.onblocked=()=>{r(new Kb(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new qe(Ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new qe(Ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Kb(e,h))},s.onupgradeneeded=u=>{et("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.P.O(u.target.result,s.transaction,u.oldVersion,t.version).next(()=>{et("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=i=>t.M(i)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,Le.Z)(function*(){const u="readonly"===t;let h=0;for(;;){++h;try{s.db=yield s.k(e);const p=ZD.open(s.db,e,u?"readonly":"readwrite",i),y=r(p).next(C=>(p.R(),C)).catch(C=>(p.abort(C),Me.reject(C))).toPromise();return y.catch(()=>{}),yield p.A,y}catch(p){const y=p,C="FirebaseError"!==y.name&&h<3;if(et("SimpleDb","Transaction failed with error:",y.message,"Retrying:",C),s.close(),!C)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class z4{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return $p(this.$.delete())}}class Kb extends qe{constructor(e,t){super(Ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Hh(n){return"IndexedDbTransactionError"===n.name}class W4{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(et("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(et("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),$p(i)}add(e){return et("SimpleDb","ADD",this.store.name,e,e),$p(this.store.add(e))}get(e){return $p(this.store.get(e)).next(t=>(void 0===t&&(t=null),et("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return et("SimpleDb","DELETE",this.store.name,e),$p(this.store.delete(e))}count(){return et("SimpleDb","COUNT",this.store.name),$p(this.store.count())}K(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.G(r,(u,h)=>{s.push(h)}).next(()=>s)}{const r=this.store.getAll(i.range);return new Me((s,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Me((r,s)=>{i.onerror=u=>{s(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}W(e,t){et("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.H=!1;const r=this.cursor(i);return this.G(r,(s,u,h)=>h.delete())}J(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.G(r,t)}Y(e){const t=this.cursor({});return new Me((i,r)=>{t.onerror=s=>{const u=OR(s.target.error);r(u)},t.onsuccess=s=>{const u=s.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}G(e,t){const i=[];return new Me((r,s)=>{e.onerror=u=>{s(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const p=new z4(h),y=t(h.primaryKey,h.value,p);if(y instanceof Me){const C=y.catch(M=>(p.done(),Me.reject(M)));i.push(C)}p.isDone?r():null===p.U?h.continue():h.continue(p.U)}}).next(()=>Me.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function $p(n){return new Me((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=OR(i.target.error);t(r)}})}let d2=!1;function OR(n){const e=kc.v((0,X.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new qe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return d2||(d2=!0,setTimeout(()=>{throw i},0)),i}}return n}class G4{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;et("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Le.Z)(function*(){t.task=null;try{et("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(i){Hh(i)?et("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Uh(i)}yield t.Z(1)}))}}class K4{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,Le.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.et(i,e))})()}et(e,t){const i=new Set;let r=t,s=!0;return Me.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return et("IndexBackiller",`Processing collection: ${u}`),this.nt(e,u,r).next(h=>{r-=h,i.add(u)});s=!1})).next(()=>t-r)}nt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const u=s.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.st(r,s)).next(h=>(et("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}st(e,t){let i=e;return t.changes.forEach((r,s)=>{const u=l2(s);kR(u,i)>0&&(i=u)}),new el(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ta{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.it(i),this.rt=i=>t.writeSequenceNumber(i))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function h2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zp(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function f2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Ta.ot=-1;class Dr{constructor(e,t){this.comparator=e,this.root=t||eo.EMPTY}insert(e,t){return new Dr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,eo.BLACK,null,null))}remove(e){return new Dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,eo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new QD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new QD(this.root,e,this.comparator,!1)}getReverseIterator(){return new QD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new QD(this.root,e,this.comparator,!0)}}class QD{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class eo{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??eo.RED,this.left=r??eo.EMPTY,this.right=s??eo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new eo(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return eo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return eo.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,eo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,eo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Tt();const e=this.left.check();if(e!==this.right.check())throw Tt();return e+(this.isRed()?0:1)}}eo.EMPTY=null,eo.RED=!0,eo.BLACK=!1,eo.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt()}get value(){throw Tt()}get color(){throw Tt()}get left(){throw Tt()}get right(){throw Tt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new eo(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pi{constructor(e){this.comparator=e,this.data=new Dr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new p2(this.data.getIterator())}getIteratorFrom(e){return new p2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Pi)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pi(this.comparator);return t.data=e,t}}class p2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function g_(n){return n.hasNext()?n.getNext():void 0}class tl{constructor(e){this.fields=e,e.sort(Nr.comparator)}static empty(){return new tl([])}unionWith(e){let t=new Pi(Nr.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new tl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return m_(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class _s{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new _s(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new _s(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return En(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_s.EMPTY_BYTE_STRING=new _s("");const Y4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $h(n){if(rn(!!n),"string"==typeof n){let e=0;const t=Y4.exec(n);if(rn(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Sr(n.seconds),nanos:Sr(n.nanos)}}function Sr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Wp(n){return"string"==typeof n?_s.fromBase64String(n):_s.fromUint8Array(n)}function PR(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function m2(n){const e=n.mapValue.fields.__previous_value__;return PR(e)?m2(e):e}function qb(n){const e=$h(n.mapValue.fields.__local_write_time__.timestampValue);return new sr(e.seconds,e.nanos)}class Z4{constructor(e,t,i,r,s,u,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class Cd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Cd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Cd&&e.projectId===this.projectId&&e.database===this.database}}function Yb(n){return null==n}function Zb(n){return 0===n&&1/n==-1/0}function g2(n){return"number"==typeof n&&Number.isInteger(n)&&!Zb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const zh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},XD={nullValue:"NULL_VALUE"};function Gp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?PR(n)?4:b2(n)?9007199254740991:10:Tt()}function Eu(n,e){if(n===e)return!0;const t=Gp(n);if(t!==Gp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qb(n).isEqual(qb(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=$h(i.timestampValue),u=$h(r.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Wp(n.bytesValue).isEqual(Wp(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Sr(i.geoPointValue.latitude)===Sr(r.geoPointValue.latitude)&&Sr(i.geoPointValue.longitude)===Sr(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Sr(i.integerValue)===Sr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Sr(i.doubleValue),u=Sr(r.doubleValue);return s===u?Zb(s)===Zb(u):isNaN(s)&&isNaN(u)}return!1}(n,e);case 9:return m_(n.arrayValue.values||[],e.arrayValue.values||[],Eu);case 10:return function(i,r){const s=i.mapValue.fields||{},u=r.mapValue.fields||{};if(h2(s)!==h2(u))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===u[h]||!Eu(s[h],u[h])))return!1;return!0}(n,e);default:return Tt()}var r}function Qb(n,e){return void 0!==(n.values||[]).find(t=>Eu(t,e))}function Wh(n,e){if(n===e)return 0;const t=Gp(n),i=Gp(e);if(t!==i)return En(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return En(n.booleanValue,e.booleanValue);case 2:return function(r,s){const u=Sr(r.integerValue||r.doubleValue),h=Sr(s.integerValue||s.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return _2(n.timestampValue,e.timestampValue);case 4:return _2(qb(n),qb(e));case 5:return En(n.stringValue,e.stringValue);case 6:return function(r,s){const u=Wp(r),h=Wp(s);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const u=r.split("/"),h=s.split("/");for(let p=0;p<u.length&&p<h.length;p++){const y=En(u[p],h[p]);if(0!==y)return y}return En(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const u=En(Sr(r.latitude),Sr(s.latitude));return 0!==u?u:En(Sr(r.longitude),Sr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const u=r.values||[],h=s.values||[];for(let p=0;p<u.length&&p<h.length;++p){const y=Wh(u[p],h[p]);if(y)return y}return En(u.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===zh.mapValue&&s===zh.mapValue)return 0;if(r===zh.mapValue)return 1;if(s===zh.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),p=s.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let C=0;C<h.length&&C<y.length;++C){const M=En(h[C],y[C]);if(0!==M)return M;const B=Wh(u[h[C]],p[y[C]]);if(0!==B)return B}return En(h.length,y.length)}(n.mapValue,e.mapValue);default:throw Tt()}}function _2(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return En(n,e);const t=$h(n),i=$h(e),r=En(t.seconds,i.seconds);return 0!==r?r:En(t.nanos,i.nanos)}function __(n){return NR(n)}function NR(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=$h(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Wp(n.bytesValue).toBase64():"referenceValue"in n?ft.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const u of i.values||[])s?s=!1:r+=",",r+=NR(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",u=!0;for(const h of r)u?u=!1:s+=",",s+=`${h}:${NR(i.fields[h])}`;return s+"}"}(n.mapValue):Tt();var e}function Kp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function FR(n){return!!n&&"integerValue"in n}function Xb(n){return!!n&&"arrayValue"in n}function y2(n){return!!n&&"nullValue"in n}function v2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function JD(n){return!!n&&"mapValue"in n}function Jb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return zp(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Jb(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jb(n.arrayValue.values[t]);return e}return Object.assign({},n)}function b2(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Q4(n){return"nullValue"in n?XD:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Kp(Cd.empty(),ft.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Tt()}function X4(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Kp(Cd.empty(),ft.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?zh:Tt()}function w2(n,e){const t=Wh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function E2(n,e){const t=Wh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class to{constructor(e){this.value=e}static empty(){return new to({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!JD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jb(t)}setAll(e){let t=Nr.emptyPath(),i={},r=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=h.popLast()}u?i[h.lastSegment()]=Jb(u):r.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());JD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Eu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];JD(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){zp(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new to(Jb(this.value))}}function C2(n){const e=[];return zp(n.fields,(t,i)=>{const r=new Nr([t]);if(JD(i)){const s=C2(i.mapValue).fields;if(0===s.length)e.push(r);else for(const u of s)e.push(r.child(u))}else e.push(r)}),new tl(e)}class Ui{constructor(e,t,i,r,s,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=s,this.documentState=u}static newInvalidDocument(e){return new Ui(e,0,Jt.min(),Jt.min(),to.empty(),0)}static newFoundDocument(e,t,i){return new Ui(e,1,t,Jt.min(),i,0)}static newNoDocument(e,t){return new Ui(e,2,t,Jt.min(),to.empty(),0)}static newUnknownDocument(e,t){return new Ui(e,3,t,Jt.min(),to.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=to.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=to.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ui&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ui(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class J4{constructor(e,t=null,i=[],r=[],s=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=u,this.endAt=h,this.ut=null}}function I2(n,e=null,t=[],i=[],r=null,s=null,u=null){return new J4(n,e,t,i,r,s,u)}function qp(n){const e=_t(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+__(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Yb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>__(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>__(i)).join(",")),e.ut=t}return e.ut}function e0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!c8(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!Eu(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!M2(n.startAt,e.startAt)&&M2(n.endAt,e.endAt)}function eS(n){return ft.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function tS(n,e){return n.filters.filter(t=>t instanceof no&&t.field.isEqual(e))}function D2(n,e,t){let i=XD,r=!0;for(const s of tS(n,e)){let u=XD,h=!0;switch(s.op){case"<":case"<=":u=Q4(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,h=!1;break;case"!=":case"not-in":u=XD}w2({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const u=t.position[s];w2({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function S2(n,e,t){let i=zh,r=!0;for(const s of tS(n,e)){let u=zh,h=!0;switch(s.op){case">=":case">":u=X4(s.value),h=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,h=!1;break;case"!=":case"not-in":u=zh}E2({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const u=t.position[s];E2({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class no extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,i):new t8(e,t,i):"array-contains"===t?new s8(e,i):"in"===t?new o8(e,i):"not-in"===t?new a8(e,i):"array-contains-any"===t?new l8(e,i):new no(e,t,i)}static ct(e,t,i){return"in"===t?new n8(e,i):new r8(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Wh(t,this.value)):null!==t&&Gp(this.value)===Gp(t)&&this.at(Wh(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Tt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class t8 extends no{constructor(e,t,i){super(e,t,i),this.key=ft.fromName(i.referenceValue)}matches(e){const t=ft.comparator(e.key,this.key);return this.at(t)}}class n8 extends no{constructor(e,t){super(e,"in",t),this.keys=T2(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class r8 extends no{constructor(e,t){super(e,"not-in",t),this.keys=T2(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function T2(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ft.fromName(i.referenceValue))}class s8 extends no{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xb(t)&&Qb(t.arrayValue,this.value)}}class o8 extends no{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Qb(this.value.arrayValue,t)}}class a8 extends no{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Qb(this.value.arrayValue,t)}}class l8 extends no{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Qb(this.value.arrayValue,i))}}class Gh{constructor(e,t){this.position=e,this.inclusive=t}}class y_{constructor(e,t="asc"){this.field=e,this.dir=t}}function c8(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function x2(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],u=n.position[r];if(i=s.field.isKeyField()?ft.comparator(ft.fromName(u.referenceValue),t.key):Wh(u,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function M2(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Eu(n.position[t],e.position[t]))return!1;return!0}class Id{constructor(e,t=null,i=[],r=[],s=null,u="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=u,this.startAt=h,this.endAt=p,this.lt=null,this.ft=null}}function A2(n,e,t,i,r,s,u,h){return new Id(n,e,t,i,r,s,u,h)}function v_(n){return new Id(n)}function LR(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function VR(n){for(const e of n.filters)if(e.ht())return e.field;return null}function BR(n){return null!==n.collectionGroup}function b_(n){const e=_t(n);if(null===e.lt){e.lt=[];const t=VR(e),i=LR(e);if(null!==t&&null===i)t.isKeyField()||e.lt.push(new y_(t)),e.lt.push(new y_(Nr.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.lt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new y_(Nr.keyField(),s))}}}return e.lt}function Nl(n){const e=_t(n);if(!e.ft)if("F"===e.limitType)e.ft=I2(e.path,e.collectionGroup,b_(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of b_(e))t.push(new y_(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new Gh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Gh(e.startAt.position,e.startAt.inclusive):null;e.ft=I2(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.ft}function k2(n,e,t){return new Id(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function t0(n,e){return e0(Nl(n),Nl(e))&&n.limitType===e.limitType}function R2(n){return`${qp(Nl(n))}|lt:${n.limitType}`}function jR(n){return`Query(target=${function e8(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${__(i.value)}`;var i}).join(", ")}]`),Yb(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>__(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>__(t)).join(",")),`Target(${e})`}(Nl(n))}; limitType=${n.limitType})`}function UR(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):ft.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,u){const h=x2(r,s,u);return r.inclusive?h<=0:h<0}(t.startAt,b_(t),i)||t.endAt&&!function(r,s,u){const h=x2(r,s,u);return r.inclusive?h>=0:h>0}(t.endAt,b_(t),i)));var t,i}function O2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function P2(n){return(e,t)=>{let i=!1;for(const r of b_(n)){const s=d8(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function d8(n,e,t){const i=n.field.isKeyField()?ft.comparator(e.key,t.key):function(r,s,u){const h=s.data.field(r),p=u.data.field(r);return null!==h&&null!==p?Wh(h,p):Tt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Tt()}}function N2(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zb(e)?"-0":e}}function F2(n){return{integerValue:""+n}}function L2(n,e){return g2(e)?F2(e):N2(n,e)}class nS{constructor(){this._=void 0}}function h8(n,e,t){return n instanceof w_?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof Yp?B2(n,e):n instanceof Zp?j2(n,e):function(i,r){const s=V2(i,r),u=U2(s)+U2(i._t);return FR(s)&&FR(i._t)?F2(u):N2(i.wt,u)}(n,e)}function f8(n,e,t){return n instanceof Yp?B2(n,e):n instanceof Zp?j2(n,e):t}function V2(n,e){return n instanceof E_?FR(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class w_ extends nS{}class Yp extends nS{constructor(e){super(),this.elements=e}}function B2(n,e){const t=H2(e);for(const i of n.elements)t.some(r=>Eu(r,i))||t.push(i);return{arrayValue:{values:t}}}class Zp extends nS{constructor(e){super(),this.elements=e}}function j2(n,e){let t=H2(e);for(const i of n.elements)t=t.filter(r=>!Eu(r,i));return{arrayValue:{values:t}}}class E_ extends nS{constructor(e,t){super(),this.wt=e,this._t=t}}function U2(n){return Sr(n.integerValue||n.doubleValue)}function H2(n){return Xb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class n0{constructor(e,t){this.field=e,this.transform=t}}class m8{constructor(e,t){this.version=e,this.transformResults=t}}class mr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function iS(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class rS{}function $2(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new I_(n.key,mr.none()):new C_(n.key,n.data,mr.none());{const t=n.data,i=to.empty();let r=new Pi(Nr.comparator);for(let s of e.fields)if(!r.has(s)){let u=t.field(s);null===u&&s.length>1&&(s=s.popLast(),u=t.field(s)),null===u?i.delete(s):i.set(s,u),r=r.add(s)}return new Dd(n.key,i,new tl(r.toArray()),mr.none())}}function g8(n,e,t){n instanceof C_?function(i,r,s){const u=i.value.clone(),h=G2(i.fieldTransforms,r,s.transformResults);u.setAll(h),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Dd?function(i,r,s){if(!iS(i.precondition,r))return void r.convertToUnknownDocument(s.version);const u=G2(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(W2(i)),h.setAll(u),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function r0(n,e,t,i){return n instanceof C_?function(r,s,u,h){if(!iS(r.precondition,s))return u;const p=r.value.clone(),y=K2(r.fieldTransforms,h,s);return p.setAll(y),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof Dd?function(r,s,u,h){if(!iS(r.precondition,s))return u;const p=K2(r.fieldTransforms,h,s),y=s.data;return y.setAll(W2(r)),y.setAll(p),s.convertToFoundDocument(s.version,y).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(C=>C.field))}(n,e,t,i):(u=t,iS(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u);var s,u}function _8(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=V2(i.transform,r||null);null!=s&&(null===t&&(t=to.empty()),t.set(i.field,s))}return t||null}function z2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&m_(t,i,(r,s)=>function p8(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Yp&&i instanceof Yp||t instanceof Zp&&i instanceof Zp?m_(t.elements,i.elements,Eu):t instanceof E_&&i instanceof E_?Eu(t._t,i._t):t instanceof w_&&i instanceof w_);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class C_ extends rS{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Dd extends rS{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function W2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function G2(n,e,t){const i=new Map;rn(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],u=s.transform,h=e.data.field(s.field);i.set(s.field,f8(u,h,t[r]))}return i}function K2(n,e,t){const i=new Map;for(const r of n){const s=r.transform,u=t.data.field(r.field);i.set(r.field,h8(s,u,e))}return i}class I_ extends rS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HR extends rS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class y8{constructor(e){this.count=e}}var Xr,oi;function q2(n){switch(n){default:return Tt();case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0}}function Y2(n){if(void 0===n)return Qr("GRPC error has no .code"),Ne.UNKNOWN;switch(n){case Xr.OK:return Ne.OK;case Xr.CANCELLED:return Ne.CANCELLED;case Xr.UNKNOWN:return Ne.UNKNOWN;case Xr.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case Xr.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case Xr.INTERNAL:return Ne.INTERNAL;case Xr.UNAVAILABLE:return Ne.UNAVAILABLE;case Xr.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case Xr.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case Xr.NOT_FOUND:return Ne.NOT_FOUND;case Xr.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case Xr.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case Xr.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case Xr.ABORTED:return Ne.ABORTED;case Xr.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case Xr.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case Xr.DATA_LOSS:return Ne.DATA_LOSS;default:return Tt()}}(oi=Xr||(Xr={}))[oi.OK=0]="OK",oi[oi.CANCELLED=1]="CANCELLED",oi[oi.UNKNOWN=2]="UNKNOWN",oi[oi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oi[oi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oi[oi.NOT_FOUND=5]="NOT_FOUND",oi[oi.ALREADY_EXISTS=6]="ALREADY_EXISTS",oi[oi.PERMISSION_DENIED=7]="PERMISSION_DENIED",oi[oi.UNAUTHENTICATED=16]="UNAUTHENTICATED",oi[oi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oi[oi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oi[oi.ABORTED=10]="ABORTED",oi[oi.OUT_OF_RANGE=11]="OUT_OF_RANGE",oi[oi.UNIMPLEMENTED=12]="UNIMPLEMENTED",oi[oi.INTERNAL=13]="INTERNAL",oi[oi.UNAVAILABLE=14]="UNAVAILABLE",oi[oi.DATA_LOSS=15]="DATA_LOSS";class Kh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){zp(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return f2(this.inner)}size(){return this.innerSize}}const v8=new Dr(ft.comparator);function xa(){return v8}const Z2=new Dr(ft.comparator);function s0(...n){let e=Z2;for(const t of n)e=e.insert(t.key,t);return e}function Q2(n){let e=Z2;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Cu(){return o0()}function X2(){return o0()}function o0(){return new Kh(n=>n.toString(),(n,e)=>n.isEqual(e))}const b8=new Dr(ft.comparator),w8=new Pi(ft.comparator);function Dn(...n){let e=w8;for(const t of n)e=e.add(t);return e}const E8=new Pi(En);function sS(){return E8}class a0{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,l0.createSynthesizedTargetChangeForCurrentChange(e,t)),new a0(Jt.min(),i,sS(),xa(),Dn())}}class l0{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new l0(_s.EMPTY_BYTE_STRING,t,Dn(),Dn(),Dn())}}class oS{constructor(e,t,i,r){this.gt=e,this.removedTargetIds=t,this.key=i,this.yt=r}}class J2{constructor(e,t){this.targetId=e,this.It=t}}class eB{constructor(e,t,i=_s.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class tB{constructor(){this.Tt=0,this.Et=iB(),this.At=_s.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Dn(),t=Dn(),i=Dn();return this.Et.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Tt()}}),new l0(this.At,this.Rt,e,t,i)}Dt(){this.bt=!1,this.Et=iB()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class C8{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=xa(),this.Bt=nB(),this.Lt=new Pi(En)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const i=this.Qt(t);switch(e.state){case 0:this.jt(t)&&i.Vt(e.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(e.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(i.Ot(),i.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),i.Vt(e.resumeToken));break;default:Tt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((i,r)=>{this.jt(r)&&t(r)})}zt(e){const t=e.targetId,i=e.It.count,r=this.Ht(t);if(r){const s=r.target;if(eS(s))if(0===i){const u=new ft(s.path);this.Kt(t,u,Ui.newNoDocument(u,Jt.min()))}else rn(1===i);else this.Jt(t)!==i&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((s,u)=>{const h=this.Ht(u);if(h){if(s.current&&eS(h.target)){const p=new ft(h.target.path);null!==this.$t.get(p)||this.Xt(u,p)||this.Kt(u,p,Ui.newNoDocument(p,e))}s.vt&&(t.set(u,s.St()),s.Dt())}});let i=Dn();this.Bt.forEach((s,u)=>{let h=!0;u.forEachWhile(p=>{const y=this.Ht(p);return!y||2===y.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.$t.forEach((s,u)=>u.setReadTime(e));const r=new a0(e,t,this.Lt,this.$t,i);return this.$t=xa(),this.Bt=nB(),this.Lt=new Pi(En),r}qt(e,t){if(!this.jt(e))return;const i=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,i),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,i){if(!this.jt(e))return;const r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),i&&(this.$t=this.$t.insert(t,i))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new tB,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new Pi(En),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||et("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new tB),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function nB(){return new Dr(ft.comparator)}function iB(){return new Dr(ft.comparator)}const I8={asc:"ASCENDING",desc:"DESCENDING"},D8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class S8{constructor(e,t){this.databaseId=e,this.dt=t}}function c0(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rB(n,e){return n.dt?e.toBase64():e.toUint8Array()}function T8(n,e){return c0(n,e.toTimestamp())}function Ps(n){return rn(!!n),Jt.fromTimestamp(function(e){const t=$h(e);return new sr(t.seconds,t.nanos)}(n))}function $R(n,e){return(t=n,new si(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function sB(n){const e=si.fromString(n);return rn(pB(e)),e}function u0(n,e){return $R(n.databaseId,e.path)}function Iu(n,e){const t=sB(e);if(t.get(1)!==n.databaseId.projectId)throw new qe(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new qe(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ft(aB(t))}function zR(n,e){return $R(n.databaseId,e)}function oB(n){const e=sB(n);return 4===e.length?si.emptyPath():aB(e)}function d0(n){return new si(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function aB(n){return rn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function lB(n,e,t){return{name:u0(n,e),fields:t.value.mapValue.fields}}function cB(n,e,t){const i=Iu(n,e.name),r=Ps(e.updateTime),s=new to({mapValue:{fields:e.fields}}),u=Ui.newFoundDocument(i,r,s);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function h0(n,e){let t;if(e instanceof C_)t={update:lB(n,e.key,e.value)};else if(e instanceof I_)t={delete:u0(n,e.key)};else if(e instanceof Dd)t={update:lB(n,e.key,e.data),updateMask:F8(e.fieldMask)};else{if(!(e instanceof HR))return Tt();t={verify:u0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const u=s.transform;if(u instanceof w_)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Yp)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Zp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof E_)return{fieldPath:s.field.canonicalString(),increment:u._t};throw Tt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:T8(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Tt()),t;var r}function WR(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?mr.updateTime(Ps(r.updateTime)):void 0!==r.exists?mr.exists(r.exists):mr.none():mr.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,u){let h=null;"setToServerValue"in u?(rn("REQUEST_TIME"===u.setToServerValue),h=new w_):"appendMissingElements"in u?h=new Yp(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new Zp(u.removeAllFromArray.values||[]):"increment"in u?h=new E_(s,u.increment):Tt();const p=Nr.fromServerFormat(u.fieldPath);return new n0(p,h)}(n,r)):[];var r;if(e.update){const r=Iu(n,e.update.name),s=new to({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new tl((e.updateMask.fieldPaths||[]).map(y=>Nr.fromServerFormat(y)));return new Dd(r,s,u,t,i)}return new C_(r,s,t,i)}if(e.delete){const r=Iu(n,e.delete);return new I_(r,t)}if(e.verify){const r=Iu(n,e.verify);return new HR(r,t)}return Tt()}function uB(n,e){return{documents:[zR(n,e.path)]}}function dB(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=zR(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=zR(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const y=p.map(C=>function(M){if("=="===M.op){if(v2(M.value))return{unaryFilter:{field:D_(M.field),op:"IS_NAN"}};if(y2(M.value))return{unaryFilter:{field:D_(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(v2(M.value))return{unaryFilter:{field:D_(M.field),op:"IS_NOT_NAN"}};if(y2(M.value))return{unaryFilter:{field:D_(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:D_(M.field),op:O8(M.op),value:M.value}}}(C));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(e.filters);r&&(t.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(y=>{return{field:D_((C=y).field),direction:R8(C.dir)};var C})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const u=(y=e.limit,n.dt||Yb(y)?y:{value:y});var y,h,p;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function hB(n){let e=oB(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){rn(1===i);const C=t.from[0];C.allDescendants?r=C.collectionId:e=e.child(C.collectionId)}let s=[];t.where&&(s=fB(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(C=>{return new y_(S_((M=C).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let h=null;t.limit&&(h=function(C){let M;return M="object"==typeof C?C.value:C,Yb(M)?null:M}(t.limit));let p=null;var C;t.startAt&&(p=new Gh((C=t.startAt).values||[],!!C.before));let y=null;return t.endAt&&(y=function(C){return new Gh(C.values||[],!C.before)}(t.endAt)),A2(e,r,u,s,h,"F",p,y)}function fB(n){return n?void 0!==n.unaryFilter?[N8(n)]:void 0!==n.fieldFilter?[P8(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>fB(e)).reduce((e,t)=>e.concat(t)):Tt():[]}function R8(n){return I8[n]}function O8(n){return D8[n]}function D_(n){return{fieldPath:n.canonicalString()}}function S_(n){return Nr.fromServerFormat(n.fieldPath)}function P8(n){return no.create(S_(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tt()}}(n.fieldFilter.op),n.fieldFilter.value)}function N8(n){switch(n.unaryFilter.op){case"IS_NAN":const e=S_(n.unaryFilter.field);return no.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=S_(n.unaryFilter.field);return no.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=S_(n.unaryFilter.field);return no.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=S_(n.unaryFilter.field);return no.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Tt()}}function F8(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function pB(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ea(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=mB(e)),e=L8(n.get(t),e);return mB(e)}function L8(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function mB(n){return n+"\x01\x01"}function Du(n){const e=n.length;if(rn(e>=2),2===e)return rn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),si.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const u=n.indexOf("\x01",s);switch((u<0||u>t)&&Tt(),n.charAt(u+1)){case"\x01":const h=n.substring(s,u);let p;0===r.length?p=h:(r+=h,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,u),r+="\0";break;case"\x11":r+=n.substring(s,u+1);break;default:Tt()}s=u+2}return new si(i)}const gB=["userId","batchId"];function aS(n,e){return[n,ea(e)]}function _B(n,e,t){return[n,ea(e),t]}const V8={},B8=["prefixPath","collectionGroup","readTime","documentId"],j8=["prefixPath","collectionGroup","documentId"],U8=["collectionGroup","readTime","prefixPath","documentId"],H8=["canonicalId","targetId"],$8=["targetId","path"],z8=["path","targetId"],W8=["collectionId","parent"],G8=["indexId","uid"],K8=["uid","sequenceNumber"],q8=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Y8=["indexId","uid","orderedDocumentKey"],Z8=["userId","collectionPath","documentId"],Q8=["userId","collectionPath","largestBatchId"],X8=["userId","collectionGroup","largestBatchId"],yB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],J8=[...yB,"documentOverlays"],vB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bB=vB,eG=[...bB,"indexConfiguration","indexState","indexEntries"];class GR extends u2{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function Ns(n,e){const t=_t(n);return kc.N(t.ee,e)}class KR{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&g8(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=r0(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=r0(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=X2();return this.mutations.forEach(r=>{const s=e.get(r.key),u=s.overlayedDocument;let h=this.applyToLocalView(u,s.mutatedFields);h=t.has(r.key)?null:h;const p=$2(u,h);null!==p&&i.set(r.key,p),u.isValidDocument()||u.convertToNoDocument(Jt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Dn())}isEqual(e){return this.batchId===e.batchId&&m_(this.mutations,e.mutations,(t,i)=>z2(t,i))&&m_(this.baseMutations,e.baseMutations,(t,i)=>z2(t,i))}}class qR{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){rn(e.mutations.length===i.length);let r=b8;const s=e.mutations;for(let u=0;u<s.length;u++)r=r.insert(s[u].key,i[u].version);return new qR(e,t,i,r)}}class YR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qh{constructor(e,t,i,r,s=Jt.min(),u=Jt.min(),h=_s.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(e){return new qh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new qh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new qh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class wB{constructor(e){this.ne=e}}function EB(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:lS(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:u0(r=n.ne,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:c0(r,s.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Qp(e.version)};else{if(!e.isUnknownDocument())return Tt();i.unknownDocument={path:t.path.toArray(),version:Qp(e.version)}}var r,s;return i}function lS(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Qp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Xp(n){const e=new sr(n.seconds,n.nanoseconds);return Jt.fromTimestamp(e)}function Jp(n,e){const t=(e.baseMutations||[]).map(s=>WR(n.ne,s));for(let s=0;s<e.mutations.length-1;++s){const u=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(u.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(s=>WR(n.ne,s)),r=sr.fromMillis(e.localWriteTimeMs);return new KR(e.batchId,r,t,i)}function f0(n){const e=Xp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Xp(n.lastLimboFreeSnapshotVersion):Jt.min();let i;var r;return void 0!==n.query.documents?(rn(1===(r=n.query).documents.length),i=Nl(v_(oB(r.documents[0])))):i=Nl(hB(n.query)),new qh(i,n.targetId,0,n.lastListenSequenceNumber,e,t,_s.fromBase64String(n.resumeToken))}function CB(n,e){const t=Qp(e.snapshotVersion),i=Qp(e.lastLimboFreeSnapshotVersion);let r;r=eS(e.target)?uB(n.ne,e.target):dB(n.ne,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:qp(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function ZR(n){const e=hB({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?k2(e,e.limit,"L"):e}function QR(n,e){return new YR(e.largestBatchId,WR(n.ne,e.overlayMutation))}function IB(n,e){const t=e.path.lastSegment();return[n,ea(e.path.popLast()),t]}function DB(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Qp(i.readTime),documentKey:ea(i.documentKey.path),largestBatchId:i.largestBatchId}}class nG{getBundleMetadata(e,t){return SB(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Xp(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return SB(e).put({bundleId:(i=t).id,createTime:Qp(Ps(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return TB(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:ZR(r.bundledQuery),readTime:Xp(r.readTime)};var r})}saveNamedQuery(e,t){return TB(e).put({name:(i=t).name,readTime:Qp(Ps(i.readTime)),bundledQuery:i.bundledQuery});var i}}function SB(n){return Ns(n,"bundles")}function TB(n){return Ns(n,"namedQueries")}class cS{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new cS(e,t.uid||"")}getOverlay(e,t){return p0(e).get(IB(this.userId,t)).next(i=>i?QR(this.wt,i):null)}getOverlays(e,t){const i=Cu();return Me.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,u)=>{const h=new YR(t,u);r.push(this.ie(e,h))}),Me.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(ea(u.getCollectionPath())));const s=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);s.push(p0(e).W("collectionPathOverlayIndex",h))}),Me.waitFor(s)}getOverlaysForCollection(e,t,i){const r=Cu(),s=ea(t),u=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return p0(e).K("collectionPathOverlayIndex",u).next(h=>{for(const p of h){const y=QR(this.wt,p);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=Cu();let u;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return p0(e).J({index:"collectionGroupOverlayIndex",range:h},(p,y,C)=>{const M=QR(this.wt,y);s.size()<r||M.largestBatchId===u?(s.set(M.getKey(),M),u=M.largestBatchId):C.done()}).next(()=>s)}ie(e,t){return p0(e).put(function(i,r,s){const[u,h,p]=IB(r,s.mutation.key);return{userId:r,collectionPath:h,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:h0(i.ne,s.mutation)}}(this.wt,this.userId,t))}}function p0(n){return Ns(n,"documentOverlays")}class em{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Sr(e.integerValue));else if("doubleValue"in e){const i=Sr(e.doubleValue);isNaN(i)?this.ce(t,13):(this.ce(t,15),Zb(i)?t.ae(0):t.ae(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ce(t,20),"string"==typeof i?t.he(i):(t.he(`${i.seconds||""}`),t.ae(i.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Wp(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?b2(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Tt()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const i=e.fields||{};this.ce(t,55);for(const r of Object.keys(i))this.le(r,t),this.oe(i[r],t)}me(e,t){const i=e.values||[];this.ce(t,50);for(const r of i)this.oe(r,t)}_e(e,t){this.ce(t,37),ft.fromName(e).path.forEach(i=>{this.ce(t,60),this.ge(i,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function iG(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function xB(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=iG(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}em.ye=new em;class rG{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ie(i.value),i=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{const r=t.codePointAt(0);this.Ie(240|r>>>18),this.Ie(128|63&r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r)}}this.Te()}Pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}ve(e){const t=this.Ve(e),i=xB(t);this.Se(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}De(e){const t=this.Ve(e),i=xB(t);this.Se(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class sG{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class oG{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class m0{constructor(){this.Me=new rG,this.Fe=new sG(this.Me),this.$e=new oG(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class tm{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new tm(this.indexId,this.documentKey,this.arrayValue,i)}}function nm(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=MB(n.arrayValue,e.arrayValue),0!==t?t:(t=MB(n.directionalValue,e.directionalValue),0!==t?t:ft.comparator(n.documentKey,e.documentKey)))}function MB(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class aG{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const i=t;i.ht()?this.Ke=i:this.qe.push(i)}}Ge(e){const t=AR(e);if(void 0!==t&&!this.Qe(t))return!1;const i=Hp(e);let r=0,s=0;for(;r<i.length&&this.Qe(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ke){const u=i[r];if(!this.je(this.Ke,u)||!this.We(this.Ue[s++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(s>=this.Ue.length||!this.We(this.Ue[s++],u))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class lG{constructor(){this.ze=new XR}addToCollectionParentIndex(e,t){return this.ze.add(t),Me.resolve()}getCollectionParents(e,t){return Me.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return Me.resolve()}deleteFieldIndex(e,t){return Me.resolve()}getDocumentsMatchingTarget(e,t){return Me.resolve(null)}getIndexType(e,t){return Me.resolve(0)}getFieldIndexes(e,t){return Me.resolve([])}getNextCollectionGroupToUpdate(e){return Me.resolve(null)}getMinOffset(e,t){return Me.resolve(el.min())}getMinOffsetFromCollectionGroup(e,t){return Me.resolve(el.min())}updateCollectionGroup(e,t,i){return Me.resolve()}updateIndexEntries(e,t){return Me.resolve()}}class XR{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Pi(si.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Pi(si.comparator)).toArray()}}const uS=new Uint8Array(0);class cG{constructor(e,t){this.user=e,this.databaseId=t,this.He=new XR,this.Je=new Kh(i=>qp(i),(i,r)=>e0(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const s={collectionId:i,parent:ea(r)};return AB(e).put(s)}return Me.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[o2(t),""],!1,!0);return AB(e).K(r).next(s=>{for(const u of s){if(u.collectionId!==t)break;i.push(Du(u.parent))}return i})}addFieldIndex(e,t){const i=dS(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const s=i.add(r);if(t.indexState){const u=_0(e);return s.next(h=>{u.put(DB(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=dS(e),r=_0(e),s=g0(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=g0(e);let r=!0;const s=new Map;return Me.forEach(this.Ye(t),u=>this.Xe(e,u).next(h=>{r&&(r=!!h),s.set(u,h)})).next(()=>{if(r){let u=Dn();const h=[];return Me.forEach(s,(p,y)=>{var C;et("IndexedDbIndexManager",`Using index ${C=p,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(yt=>`${yt.fieldPath}:${yt.kind}`).join(",")}`} to execute ${qp(t)}`);const M=function(yt,mt){const en=AR(mt);if(void 0===en)return null;for(const tn of tS(yt,en.fieldPath))switch(tn.op){case"array-contains-any":return tn.value.arrayValue.values||[];case"array-contains":return[tn.value]}return null}(y,p),B=function(yt,mt){const en=new Map;for(const tn of Hp(mt))for(const qn of tS(yt,tn.fieldPath))switch(qn.op){case"==":case"in":en.set(tn.fieldPath.canonicalString(),qn.value);break;case"not-in":case"!=":return en.set(tn.fieldPath.canonicalString(),qn.value),Array.from(en.values())}return null}(y,p),ee=function(yt,mt){const en=[];let tn=!0;for(const qn of Hp(mt)){const Fr=0===qn.kind?D2(yt,qn.fieldPath,yt.startAt):S2(yt,qn.fieldPath,yt.startAt);en.push(Fr.value),tn&&(tn=Fr.inclusive)}return new Gh(en,tn)}(y,p),re=function(yt,mt){const en=[];let tn=!0;for(const qn of Hp(mt)){const Fr=0===qn.kind?S2(yt,qn.fieldPath,yt.endAt):D2(yt,qn.fieldPath,yt.endAt);en.push(Fr.value),tn&&(tn=Fr.inclusive)}return new Gh(en,tn)}(y,p),ye=this.Ze(p,y,ee),Te=this.Ze(p,y,re),it=this.tn(p,y,B),pt=this.en(p.indexId,M,ye,ee.inclusive,Te,re.inclusive,it);return Me.forEach(pt,yt=>i.j(yt,t.limit).next(mt=>{mt.forEach(en=>{const tn=ft.fromSegments(en.documentKey);u.has(tn)||(u=u.add(tn),h.push(tn))})}))}).next(()=>h)}return Me.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,i,r,s,u,h){const p=(null!=t?t.length:1)*Math.max(i.length,s.length),y=p/(null!=t?t.length:1),C=[];for(let M=0;M<p;++M){const B=t?this.nn(t[M/y]):uS,ee=this.sn(e,B,i[M%y],r),re=this.rn(e,B,s[M%y],u),ye=h.map(Te=>this.sn(e,B,Te,!0));C.push(...this.createRange(ee,re,ye))}return C}sn(e,t,i,r){const s=new tm(e,ft.empty(),t,i);return r?s:s.Le()}rn(e,t,i,r){const s=new tm(e,ft.empty(),t,i);return r?s.Le():s}Xe(e,t){const i=new aG(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let u=null;for(const h of s)i.Ge(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let i=2;return Me.forEach(this.Ye(t),r=>this.Xe(e,r).next(s=>{s?0!==i&&s.fields.length<function(u){let h=new Pi(Nr.comparator),p=!1;for(const y of u.filters){const C=y;C.field.isKeyField()||("array-contains"===C.op||"array-contains-any"===C.op?p=!0:h=h.add(C.field))}for(const y of u.orderBy)y.field.isKeyField()||(h=h.add(y.field));return h.size+(p?1:0)}(r)&&(i=1):i=0})).next(()=>i)}on(e,t){const i=new m0;for(const r of Hp(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const u=i.Be(r.kind);em.ye.re(s,u)}return i.Oe()}nn(e){const t=new m0;return em.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const i=new m0;return em.ye.re(Kp(this.databaseId,t),i.Be(function(r){const s=Hp(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Oe()}tn(e,t,i){if(null===i)return[];let r=[];r.push(new m0);let s=0;for(const u of Hp(e)){const h=i[s++];for(const p of r)if(this.cn(t,u.fieldPath)&&Xb(h))r=this.an(r,u,h);else{const y=p.Be(u.kind);em.ye.re(h,y)}}return this.hn(r)}Ze(e,t,i){return this.tn(e,t,i.position)}hn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Oe();return t}an(e,t,i){const r=[...e],s=[];for(const u of i.arrayValue.values||[])for(const h of r){const p=new m0;p.seed(h.Oe()),em.ye.re(u,p.Be(t.kind)),s.push(p)}return s}cn(e,t){return!!e.filters.find(i=>i instanceof no&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=dS(e),r=_0(e);return(t?i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.K()).next(s=>{const u=[];return Me.forEach(s,h=>r.get([h.indexId,this.uid]).next(p=>{u.push(function(y,C){const M=C?new Gb(C.sequenceNumber,new el(Xp(C.readTime),new ft(Du(C.documentKey)),C.largestBatchId)):Gb.empty(),B=y.fields.map(([ee,re])=>new YD(Nr.fromServerFormat(ee),re));return new qD(y.indexId,y.collectionGroup,B,M)}(h,p))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:En(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=dS(e),s=_0(e);return this.ln(e).next(u=>r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>Me.forEach(h,p=>s.put(DB(p.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return Me.forEach(t,(r,s)=>{const u=i.get(r.collectionGroup);return(u?Me.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),Me.forEach(h,p=>this.fn(e,r,p).next(y=>{const C=this.dn(s,p);return y.isEqual(C)?Me.resolve():this._n(e,s,p,y,C)}))))})}wn(e,t,i,r){return g0(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(i,t.key),documentKey:t.key.path.toArray()})}mn(e,t,i,r){return g0(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(i,t.key),t.key.path.toArray()])}fn(e,t,i){const r=g0(e);let s=new Pi(nm);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.un(i,t)])},(u,h)=>{s=s.add(new tm(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>s)}dn(e,t){let i=new Pi(nm);const r=this.on(t,e);if(null==r)return i;const s=AR(t);if(null!=s){const u=e.data.field(s.fieldPath);if(Xb(u))for(const h of u.arrayValue.values||[])i=i.add(new tm(t.indexId,e.key,this.nn(h),r))}else i=i.add(new tm(t.indexId,e.key,uS,r));return i}_n(e,t,i,r,s){et("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(h,p,y,C,M){const B=h.getIterator(),ee=p.getIterator();let re=g_(B),ye=g_(ee);for(;re||ye;){let Te=!1,it=!1;if(re&&ye){const pt=y(re,ye);pt<0?it=!0:pt>0&&(Te=!0)}else null!=re?it=!0:Te=!0;Te?(C(ye),ye=g_(ee)):it?(M(re),re=g_(B)):(re=g_(B),ye=g_(ee))}}(r,s,nm,h=>{u.push(this.wn(e,t,i,h))},h=>{u.push(this.mn(e,t,i,h))}),Me.waitFor(u)}ln(e){let t=1;return _0(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,h)=>nm(u,h)).filter((u,h,p)=>!h||0!==nm(u,p[h-1]));const r=[];r.push(e);for(const u of i){const h=nm(u,e),p=nm(u,t);if(0===h)r[0]=e.Le();else if(h>0&&p<0)r.push(u),r.push(u.Le());else if(p>0)break}r.push(t);const s=[];for(let u=0;u<r.length;u+=2)s.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,uS,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,uS,[]]));return s}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(kB)}getMinOffset(e,t){return Me.mapArray(this.Ye(t),i=>this.Xe(e,i).next(r=>r||Tt())).next(kB)}}function AB(n){return Ns(n,"collectionParents")}function g0(n){return Ns(n,"indexEntries")}function dS(n){return Ns(n,"indexConfiguration")}function _0(n){return Ns(n,"indexState")}function kB(n){rn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;kR(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new el(e.readTime,e.documentKey,t)}const RB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ma{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Ma(e,Ma.DEFAULT_COLLECTION_PERCENTILE,Ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function OB(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],u=IDBKeyRange.only(t.batchId);let h=0;const p=i.J({range:u},(C,M,B)=>(h++,B.delete()));s.push(p.next(()=>{rn(1===h)}));const y=[];for(const C of t.mutations){const M=_B(e,C.key.path,t.batchId);s.push(r.delete(M)),y.push(C.key)}return Me.waitFor(s).next(()=>y)}function hS(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Tt();e=n.noDocument}return JSON.stringify(e).length}Ma.DEFAULT_COLLECTION_PERCENTILE=10,Ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ma.DEFAULT=new Ma(41943040,Ma.DEFAULT_COLLECTION_PERCENTILE,Ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ma.DISABLED=new Ma(-1,0,0);class fS{constructor(e,t,i,r){this.userId=e,this.wt=t,this.indexManager=i,this.referenceDelegate=r,this.gn={}}static se(e,t,i,r){rn(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new fS(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yh(e).J({index:"userMutationsIndex",range:i},(r,s,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=T_(e),u=Yh(e);return u.add({}).next(h=>{rn("number"==typeof h);const p=new KR(h,t,i,r),y=function(B,ee,re){const ye=re.baseMutations.map(it=>h0(B.ne,it)),Te=re.mutations.map(it=>h0(B.ne,it));return{userId:ee,batchId:re.batchId,localWriteTimeMs:re.localWriteTime.toMillis(),baseMutations:ye,mutations:Te}}(this.wt,this.userId,p),C=[];let M=new Pi((B,ee)=>En(B.canonicalString(),ee.canonicalString()));for(const B of r){const ee=_B(this.userId,B.key.path,h);M=M.add(B.key.path.popLast()),C.push(u.put(y)),C.push(s.put(ee,V8))}return M.forEach(B=>{C.push(this.indexManager.addToCollectionParentIndex(e,B))}),e.addOnCommittedListener(()=>{this.gn[h]=p.keys()}),Me.waitFor(C).next(()=>p)})}lookupMutationBatch(e,t){return Yh(e).get(t).next(i=>i?(rn(i.userId===this.userId),Jp(this.wt,i)):null)}yn(e,t){return this.gn[t]?Me.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.gn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Yh(e).J({index:"userMutationsIndex",range:r},(u,h,p)=>{h.userId===this.userId&&(rn(h.batchId>=i),s=Jp(this.wt,h)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Yh(e).J({index:"userMutationsIndex",range:t,reverse:!0},(r,s,u)=>{i=s.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yh(e).K("userMutationsIndex",t).next(i=>i.map(r=>Jp(this.wt,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=aS(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return T_(e).J({range:r},(u,h,p)=>{const[y,C,M]=u,B=Du(C);if(y===this.userId&&t.path.isEqual(B))return Yh(e).get(M).next(ee=>{if(!ee)throw Tt();rn(ee.userId===this.userId),s.push(Jp(this.wt,ee))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Pi(En);const r=[];return t.forEach(s=>{const u=aS(this.userId,s.path),h=IDBKeyRange.lowerBound(u),p=T_(e).J({range:h},(y,C,M)=>{const[B,ee,re]=y,ye=Du(ee);B===this.userId&&s.path.isEqual(ye)?i=i.add(re):M.done()});r.push(p)}),Me.waitFor(r).next(()=>this.pn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=aS(this.userId,i),u=IDBKeyRange.lowerBound(s);let h=new Pi(En);return T_(e).J({range:u},(p,y,C)=>{const[M,B,ee]=p,re=Du(B);M===this.userId&&i.isPrefixOf(re)?re.length===r&&(h=h.add(ee)):C.done()}).next(()=>this.pn(e,h))}pn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(Yh(e).get(s).next(u=>{if(null===u)throw Tt();rn(u.userId===this.userId),i.push(Jp(this.wt,u))}))}),Me.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return OB(e.ee,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),Me.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Me.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return T_(e).J({range:i},(s,u,h)=>{if(s[0]===this.userId){const p=Du(s[1]);r.push(p)}else h.done()}).next(()=>{rn(0===r.length)})})}containsKey(e,t){return PB(e,this.userId,t)}Tn(e){return NB(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function PB(n,e,t){const i=aS(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let u=!1;return T_(n).J({range:s,H:!0},(h,p,y)=>{const[C,M,B]=h;C===e&&M===r&&(u=!0),y.done()}).next(()=>u)}function Yh(n){return Ns(n,"mutations")}function T_(n){return Ns(n,"documentMutations")}function NB(n){return Ns(n,"mutationQueues")}class im{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new im(0)}static Rn(){return new im(-1)}}class uG{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const i=new im(t.highestTargetId);return t.highestTargetId=i.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>Jt.fromTimestamp(new sr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Pn(e,r)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(i=>(i.targetCount+=1,this.Vn(t,i),this.Pn(e,i))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>x_(e).delete(t.targetId)).next(()=>this.bn(e)).next(i=>(rn(i.targetCount>0),i.targetCount-=1,this.Pn(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return x_(e).J((u,h)=>{const p=f0(h);p.sequenceNumber<=t&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(e,p)))}).next(()=>Me.waitFor(s)).next(()=>r)}forEachTarget(e,t){return x_(e).J((i,r)=>{const s=f0(r);t(s)})}bn(e){return FB(e).get("targetGlobalKey").next(t=>(rn(null!==t),t))}Pn(e,t){return FB(e).put("targetGlobalKey",t)}vn(e,t){return x_(e).put(CB(this.wt,t))}Vn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=qp(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return x_(e).J({range:r,index:"queryTargetsIndex"},(u,h,p)=>{const y=f0(h);e0(t,y.target)&&(s=y,p.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=Zh(e);return t.forEach(u=>{const h=ea(u.path);r.push(s.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,u))}),Me.waitFor(r)}removeMatchingKeys(e,t,i){const r=Zh(e);return Me.forEach(t,s=>{const u=ea(s.path);return Me.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=Zh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Zh(e);let s=Dn();return r.J({range:i,H:!0},(u,h,p)=>{const y=Du(u[1]),C=new ft(y);s=s.add(C)}).next(()=>s)}containsKey(e,t){const i=ea(t.path),r=IDBKeyRange.bound([i],[o2(i)],!1,!0);let s=0;return Zh(e).J({index:"documentTargetsIndex",H:!0,range:r},([u,h],p,y)=>{0!==u&&(s++,y.done())}).next(()=>s>0)}te(e,t){return x_(e).get(t).next(i=>i?f0(i):null)}}function x_(n){return Ns(n,"targets")}function FB(n){return Ns(n,"targetGlobal")}function Zh(n){return Ns(n,"targetDocuments")}function LB([n,e],[t,i]){const r=En(n,t);return 0===r?En(e,i):r}class dG{constructor(e){this.Sn=e,this.buffer=new Pi(LB),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();LB(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hG{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;et("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Le.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Hh(i)?et("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Uh(i)}yield t.kn(3e5)}))}}class fG{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Me.resolve(Ta.ot);const i=new dG(t);return this.On.forEachTarget(e,r=>i.xn(r.sequenceNumber)).next(()=>this.On.Fn(e,r=>i.xn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.On.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector","Garbage collection skipped; disabled"),Me.resolve(RB)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RB):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let i,r,s,u,h,p,y;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),r=this.params.maximumSequenceNumbersToCollect):r=M,u=Date.now(),this.nthSequenceNumber(e,r))).next(M=>(i=M,h=Date.now(),this.removeTargets(e,i,t))).next(M=>(s=M,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(M=>(y=Date.now(),xR()<=bo.in.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-C}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${s} targets in `+(p-h)+`ms\n\tRemoved ${M} documents in `+(y-p)+`ms\nTotal Duration: ${y-C}ms`),Me.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:M})))}}class pG{constructor(e,t){this.db=e,this.garbageCollector=new fG(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Bn(e){let t=0;return this.Fn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(i,r)=>t(r))}addReference(e,t,i){return pS(e,i)}removeReference(e,t,i){return pS(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return pS(e,t)}Un(e,t){return function(i,r){let s=!1;return NB(i).Y(u=>PB(i,u,r).next(h=>(h&&(s=!0),Me.resolve(!h)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Ln(e,(u,h)=>{if(h<=t){const p=this.Un(e,u).next(y=>{if(!y)return s++,i.getEntry(e,u).next(()=>(i.removeEntry(u,Jt.min()),Zh(e).delete([0,ea(u.path)])))});r.push(p)}}).next(()=>Me.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return pS(e,t)}Ln(e,t){const i=Zh(e);let r,s=Ta.ot;return i.J({index:"documentTargetsIndex"},([u,h],{path:p,sequenceNumber:y})=>{0===u?(s!==Ta.ot&&t(new ft(Du(r)),s),s=y,r=p):s=Ta.ot}).next(()=>{s!==Ta.ot&&t(new ft(Du(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function pS(n,e){return Zh(n).put((i=n.currentSequenceNumber,{targetId:0,path:ea(e.path),sequenceNumber:i}));var i}class VB{constructor(){this.changes=new Kh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ui.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Me.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mG{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return rm(e).put(i)}removeEntry(e,t,i){return rm(e).delete(function(r,s){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],lS(s),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.qn(e,i)))}getEntry(e,t){let i=Ui.newInvalidDocument(t);return rm(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(y0(t))},(r,s)=>{i=this.Kn(t,s)}).next(()=>i)}Gn(e,t){let i={size:0,document:Ui.newInvalidDocument(t)};return rm(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(y0(t))},(r,s)=>{i={document:this.Kn(t,s),size:hS(s)}}).next(()=>i)}getEntries(e,t){let i=xa();return this.Qn(e,t,(r,s)=>{const u=this.Kn(r,s);i=i.insert(r,u)}).next(()=>i)}jn(e,t){let i=xa(),r=new Dr(ft.comparator);return this.Qn(e,t,(s,u)=>{const h=this.Kn(s,u);i=i.insert(s,h),r=r.insert(s,hS(u))}).next(()=>({documents:i,Wn:r}))}Qn(e,t,i){if(t.isEmpty())return Me.resolve();let r=new Pi(HB);t.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(y0(r.first()),y0(r.last())),u=r.getIterator();let h=u.getNext();return rm(e).J({index:"documentKeyIndex",range:s},(p,y,C)=>{const M=ft.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;h&&HB(h,M)<0;)i(h,null),h=u.getNext();h&&h.isEqual(M)&&(i(h,y),h=u.hasNext()?u.getNext():null),h?C.q(y0(h)):C.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),lS(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return rm(e).K(IDBKeyRange.bound(r,s,!0)).next(u=>{let h=xa();for(const p of u){const y=this.Kn(ft.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);h=h.insert(y.key,y)}return h})}getAllFromCollectionGroup(e,t,i,r){let s=xa();const u=UB(t,i),h=UB(t,el.max());return rm(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(p,y,C)=>{const M=this.Kn(ft.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);s=s.insert(M.key,M),s.size===r&&C.done()}).next(()=>s)}newChangeBuffer(e){return new gG(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return jB(e).get("remoteDocumentGlobalKey").next(t=>(rn(!!t),t))}qn(e,t){return jB(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const i=function tG(n,e){let t;if(e.document)t=cB(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ft.fromSegments(e.noDocument.path),r=Xp(e.noDocument.readTime);t=Ui.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Tt();{const i=ft.fromSegments(e.unknownDocument.path),r=Xp(e.unknownDocument.version);t=Ui.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new sr(i[0],i[1]);return Jt.fromTimestamp(r)}(e.readTime)),t}(this.wt,t);if(!i.isNoDocument()||!i.version.isEqual(Jt.min()))return i}return Ui.newInvalidDocument(e)}}function BB(n){return new mG(n)}class gG extends VB{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new Kh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Pi((s,u)=>En(s.canonicalString(),u.canonicalString()));return this.changes.forEach((s,u)=>{const h=this.Hn.get(s);if(t.push(this.zn.removeEntry(e,s,h.readTime)),u.isValidDocument()){const p=EB(this.zn.wt,u);r=r.add(s.path.popLast()),i+=hS(p)-h.size,t.push(this.zn.addEntry(e,s,p))}else if(i-=h.size,this.trackRemovals){const p=EB(this.zn.wt,u.convertToNoDocument(Jt.min()));t.push(this.zn.addEntry(e,s,p))}}),r.forEach(s=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.zn.updateMetadata(e,i)),Me.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(i=>(this.Hn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:i,Wn:r})=>(r.forEach((s,u)=>{this.Hn.set(s,{size:u,readTime:i.get(s).readTime})}),i))}}function jB(n){return Ns(n,"remoteDocumentGlobal")}function rm(n){return Ns(n,"remoteDocumentsV14")}function y0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function UB(n,e){const t=e.documentKey.path.toArray();return[n,lS(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function HB(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=En(t[s],i[s]),r)return r;return r=En(t.length,i.length),r||(r=En(t[t.length-2],i[i.length-2]),r||En(t[t.length-1],i[i.length-1]))}class _G{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class $B{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&r0(i.mutation,r,tl.empty(),sr.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Dn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Dn()){const r=Cu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let u=s0();return s.forEach((h,p)=>{u=u.insert(h,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Cu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Dn()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,i,r){let s=xa();const u=o0(),h=o0();return t.forEach((p,y)=>{const C=i.get(y.key);r.has(y.key)&&(void 0===C||C.mutation instanceof Dd)?s=s.insert(y.key,y):void 0!==C&&(u.set(y.key,C.mutation.getFieldMask()),r0(C.mutation,y,C.mutation.getFieldMask(),sr.now()))}),this.recalculateAndSaveOverlays(e,s).next(p=>(p.forEach((y,C)=>u.set(y,C)),t.forEach((y,C)=>{var M;return h.set(y,new _G(C,null!==(M=u.get(y))&&void 0!==M?M:null))}),h))}recalculateAndSaveOverlays(e,t){const i=o0();let r=new Dr((u,h)=>u-h),s=Dn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(p=>{const y=t.get(p);if(null===y)return;let C=i.get(p)||tl.empty();C=h.applyToLocalView(y,C),i.set(p,C);const M=(r.get(h.batchId)||Dn()).add(p);r=r.insert(h.batchId,M)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),y=p.key,C=p.value,M=X2();C.forEach(B=>{if(!s.has(B)){const ee=$2(t.get(B),i.get(B));null!==ee&&M.set(B,ee),s=s.add(B)}}),u.push(this.documentOverlayCache.saveOverlays(e,y,M))}return Me.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return ft.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):BR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const u=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):Me.resolve(Cu());let h=-1,p=s;return u.next(y=>Me.forEach(y,(C,M)=>(h<M.largestBatchId&&(h=M.largestBatchId),s.get(C)?Me.resolve():this.getBaseDocument(e,C,M).next(B=>{p=p.insert(C,B)}))).next(()=>this.populateOverlays(e,y,s)).next(()=>this.computeViews(e,p,y,Dn())).next(C=>({batchId:h,changes:Q2(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ft(t)).next(i=>{let r=s0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=s0();return this.indexManager.getCollectionParents(e,r).next(u=>Me.forEach(u,h=>{const p=(y=t,C=h.child(r),new Id(C,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,C;return this.getDocumentsMatchingCollectionQuery(e,p,i).next(y=>{y.forEach((C,M)=>{s=s.insert(C,M)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(s=>{s.forEach((h,p)=>{const y=p.getKey();null===r.get(y)&&(r=r.insert(y,Ui.newInvalidDocument(y)))});let u=s0();return r.forEach((h,p)=>{const y=s.get(h);void 0!==y&&r0(y.mutation,p,tl.empty(),sr.now()),UR(t,p)&&(u=u.insert(h,p))}),u})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):Me.resolve(Ui.newInvalidDocument(t))}}class yG{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return Me.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var i;return this.Jn.set(t.id,{id:(i=t).id,version:i.version,createTime:Ps(i.createTime)}),Me.resolve()}getNamedQuery(e,t){return Me.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(i=t).name,query:ZR(i.bundledQuery),readTime:Ps(i.readTime)}),Me.resolve();var i}}class vG{constructor(){this.overlays=new Dr(ft.comparator),this.Xn=new Map}getOverlay(e,t){return Me.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Cu();return Me.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ie(e,t,s)}),Me.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Xn.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(i)),Me.resolve()}getOverlaysForCollection(e,t,i){const r=Cu(),s=t.length+1,u=new ft(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const p=h.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return Me.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Dr((y,C)=>y-C);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let C=s.get(y.largestBatchId);null===C&&(C=Cu(),s=s.insert(y.largestBatchId,C)),C.set(y.getKey(),y)}}const h=Cu(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,C)=>h.set(y,C)),!(h.size()>=r)););return Me.resolve(h)}ie(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.Xn.get(r.largestBatchId).delete(i.key);this.Xn.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new YR(t,i));let s=this.Xn.get(t);void 0===s&&(s=Dn(),this.Xn.set(t,s)),this.Xn.set(t,s.add(i.key))}}class JR{constructor(){this.Zn=new Pi(Fs.ts),this.es=new Pi(Fs.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const i=new Fs(e,t);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.rs(new Fs(e,t))}os(e,t){e.forEach(i=>this.removeReference(i,t))}us(e){const t=new ft(new si([])),i=new Fs(t,e),r=new Fs(t,e+1),s=[];return this.es.forEachInRange([i,r],u=>{this.rs(u),s.push(u.key)}),s}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new ft(new si([])),i=new Fs(t,e),r=new Fs(t,e+1);let s=Dn();return this.es.forEachInRange([i,r],u=>{s=s.add(u.key)}),s}containsKey(e){const t=new Fs(e,0),i=this.Zn.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Fs{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return ft.comparator(e.key,t.key)||En(e.ls,t.ls)}static ns(e,t){return En(e.ls,t.ls)||ft.comparator(e.key,t.key)}}class bG{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Pi(Fs.ts)}checkEmpty(e){return Me.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.fs;this.fs++;const u=new KR(s,t,i,r);this.mutationQueue.push(u);for(const h of r)this.ds=this.ds.add(new Fs(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Me.resolve(u)}lookupMutationBatch(e,t){return Me.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ws(t+1),s=r<0?0:r;return Me.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return Me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Fs(t,0),r=new Fs(t,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([i,r],u=>{const h=this._s(u.ls);s.push(h)}),Me.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Pi(En);return t.forEach(r=>{const s=new Fs(r,0),u=new Fs(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,u],h=>{i=i.add(h.ls)})}),Me.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;ft.isDocumentKey(s)||(s=s.child(""));const u=new Fs(new ft(s),0);let h=new Pi(En);return this.ds.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(h=h.add(p.ls)),!0)},u),Me.resolve(this.gs(h))}gs(e){const t=[];return e.forEach(i=>{const r=this._s(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){rn(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return Me.forEach(t.mutations,r=>{const s=new Fs(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=i})}In(e){}containsKey(e,t){const i=new Fs(t,0),r=this.ds.firstAfterOrEqual(i);return Me.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Me.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wG{constructor(e){this.ps=e,this.docs=new Dr(ft.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,u=this.ps(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Me.resolve(i?i.document.mutableCopy():Ui.newInvalidDocument(t))}getEntries(e,t){let i=xa();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ui.newInvalidDocument(r))}),Me.resolve(i)}getAllFromCollection(e,t,i){let r=xa();const s=new ft(t.child("")),u=this.docs.getIteratorFrom(s);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||kR(l2(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return Me.resolve(r)}getAllFromCollectionGroup(e,t,i,r){Tt()}Is(e,t){return Me.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new EG(this)}getSize(e){return Me.resolve(this.size)}}class EG extends VB{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.zn.addEntry(e,r)):this.zn.removeEntry(i)}),Me.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class CG{constructor(e){this.persistence=e,this.Ts=new Kh(t=>qp(t),e0),this.lastRemoteSnapshotVersion=Jt.min(),this.highestTargetId=0,this.Es=0,this.As=new JR,this.targetCount=0,this.Rs=im.An()}forEachTarget(e,t){return this.Ts.forEach((i,r)=>t(r)),Me.resolve()}getLastRemoteSnapshotVersion(e){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Me.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Es&&(this.Es=t),Me.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new im(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,Me.resolve()}updateTargetData(e,t){return this.vn(t),Me.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Me.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Ts.forEach((u,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.Ts.delete(u),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),Me.waitFor(s).next(()=>r)}getTargetCount(e){return Me.resolve(this.targetCount)}getTargetData(e,t){const i=this.Ts.get(t)||null;return Me.resolve(i)}addMatchingKeys(e,t,i){return this.As.ss(t,i),Me.resolve()}removeMatchingKeys(e,t,i){this.As.os(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(u=>{s.push(r.markPotentiallyOrphaned(e,u))}),Me.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),Me.resolve()}getMatchingKeysForTargetId(e,t){const i=this.As.hs(t);return Me.resolve(i)}containsKey(e,t){return Me.resolve(this.As.containsKey(t))}}class zB{constructor(e,t){this.bs={},this.overlays={},this.Ps=new Ta(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new CG(this),this.indexManager=new lG,this.remoteDocumentCache=new wG(i=>this.referenceDelegate.Ss(i)),this.wt=new wB(t),this.Ds=new yG(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vG,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.bs[e.toKey()];return i||(i=new bG(t,this.referenceDelegate),this.bs[e.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,i){et("MemoryPersistence","Starting transaction:",e);const r=new IG(this.Ps.next());return this.referenceDelegate.Cs(),i(r).next(s=>this.referenceDelegate.xs(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ns(e,t){return Me.or(Object.values(this.bs).map(i=>()=>i.containsKey(e,t)))}}class IG extends u2{constructor(e){super(),this.currentSequenceNumber=e}}class mS{constructor(e){this.persistence=e,this.ks=new JR,this.Os=null}static Ms(e){return new mS(e)}get Fs(){if(this.Os)return this.Os;throw Tt()}addReference(e,t,i){return this.ks.addReference(i,t),this.Fs.delete(i.toString()),Me.resolve()}removeReference(e,t,i){return this.ks.removeReference(i,t),this.Fs.add(i.toString()),Me.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),Me.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(r=>this.Fs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Fs.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.Fs,i=>{const r=ft.fromPath(i);return this.$s(e,r).next(s=>{s||t.removeEntry(r,Jt.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(i=>{i?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return Me.or([()=>Me.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class DG{constructor(e){this.wt=e}O(e,t,i,r){const s=new ZD("createOrUpgrade",t);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gB,{unique:!0}),h.createObjectStore("documentMutations"),WB(e),function(h){h.createObjectStore("remoteDocuments")}(e));let u=Me.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),WB(e)),u=u.next(()=>function(h){const p=h.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Jt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",y)}(s))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,p){return p.store("mutations").K().next(y=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gB,{unique:!0});const C=p.store("mutations"),M=y.map(B=>C.put(B));return Me.waitFor(M)})}(e,s))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Bs(s))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(s)))),i<7&&r>=7&&(u=u.next(()=>this.Us(s))),i<8&&r>=8&&(u=u.next(()=>this.qs(e,s))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.Ks(s))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:Z8});p.createIndex("collectionPathOverlayIndex",Q8,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",X8,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(h){const p=h.createObjectStore("remoteDocumentsV14",{keyPath:B8});p.createIndex("documentKeyIndex",j8),p.createIndex("collectionGroupIndex",U8)}(e)).next(()=>this.Gs(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.Qs(e,s))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:G8}).createIndex("sequenceNumberIndex",K8,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:q8}).createIndex("documentKeyIndex",Y8,{unique:!1})}(e))),u}Ls(e){let t=0;return e.store("remoteDocuments").J((i,r)=>{t+=hS(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Bs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.K().next(r=>Me.forEach(r,s=>{const u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.K("userMutationsIndex",u).next(h=>Me.forEach(h,p=>{rn(p.userId===s.userId);const y=Jp(this.wt,p);return OB(e,s.userId,y).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.J((u,h)=>{const p=new si(u),y=[0,ea(p)];s.push(t.get(y).next(C=>C?Me.resolve():t.put({targetId:0,path:ea(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Me.waitFor(s))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:W8});const i=t.store("collectionParents"),r=new XR,s=u=>{if(r.add(u)){const h=u.lastSegment(),p=u.popLast();return i.put({collectionId:h,parent:ea(p)})}};return t.store("remoteDocuments").J({H:!0},(u,h)=>{const p=new si(u);return s(p.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([u,h,p],y)=>{const C=Du(h);return s(C.popLast())}))}Ks(e){const t=e.store("targets");return t.J((i,r)=>{const s=f0(r),u=CB(this.wt,s);return t.put(u)})}Gs(e,t){const i=t.store("remoteDocuments"),r=[];return i.J((s,u)=>{const h=t.store("remoteDocumentsV14"),p=(y=u,y.document?new ft(si.fromString(y.document.name).popFirst(5)):y.noDocument?ft.fromSegments(y.noDocument.path):y.unknownDocument?ft.fromSegments(y.unknownDocument.path):Tt()).path.toArray();var y;const C={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(C))}).next(()=>Me.waitFor(r))}Qs(e,t){const i=t.store("mutations"),r=BB(this.wt),s=new zB(mS.Ms,this.wt.ne);return i.K().next(u=>{const h=new Map;return u.forEach(p=>{var y;let C=null!==(y=h.get(p.userId))&&void 0!==y?y:Dn();Jp(this.wt,p).keys().forEach(M=>C=C.add(M)),h.set(p.userId,C)}),Me.forEach(h,(p,y)=>{const C=new Rs(y),M=cS.se(this.wt,C),B=s.getIndexManager(C),ee=fS.se(C,this.wt,B,s.referenceDelegate);return new $B(r,ee,M,B).recalculateAndSaveOverlaysForDocumentKeys(new GR(t,Ta.ot),p).next()})})}}function WB(n){n.createObjectStore("targetDocuments",{keyPath:$8}).createIndex("documentTargetsIndex",z8,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",H8,{unique:!0}),n.createObjectStore("targetGlobal")}const eO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class tO{constructor(e,t,i,r,s,u,h,p,y,C,M=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.js=s,this.window=u,this.document=h,this.Ws=y,this.zs=C,this.Hs=M,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=B=>Promise.resolve(),!tO.V())throw new qe(Ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pG(this,r),this.ei=t+"main",this.wt=new wB(p),this.ni=new kc(this.ei,this.Hs,new DG(this.wt)),this.Vs=new uG(this.referenceDelegate,this.wt),this.remoteDocumentCache=BB(this.wt),this.Ds=new nG,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===C&&Qr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new qe(Ne.FAILED_PRECONDITION,eO);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new Ta(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var i=(0,Le.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,Le.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,Le.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gS(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(Hh(e))return et("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return et("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return v0(e).get("owner").next(t=>Me.resolve(this.di(t)))}_i(e){return gS(e).delete(this.clientId)}wi(){var e=this;return(0,Le.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ns(i,"clientMetadata");return r.K().next(s=>{const u=e.gi(s,18e5),h=s.filter(p=>-1===u.indexOf(p));return Me.forEach(h,p=>r.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(e.si)for(const i of t)e.si.removeItem(e.yi(i.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?Me.resolve(!0):v0(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new qe(Ne.FAILED_PRECONDITION,eO);return!1}}return!(!this.networkEnabled||!this.inForeground)||gS(e).K().next(i=>void 0===this.gi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&et("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Le.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new GR(t,Ta.ot);return e.li(i).next(()=>e._i(i))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(i=>this.mi(i.updateTimeMs,t)&&!this.pi(i.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>gS(e).K().next(t=>this.gi(t,18e5).map(i=>i.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return fS.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new cG(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return cS.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,i){et("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(u=this.Hs)?eG:14===u?bB:13===u?vB:12===u?J8:11===u?yB:void Tt();var u;let h;return this.ni.runTransaction(e,r,s,p=>(h=new GR(p,this.Ps?this.Ps.next():Ta.ot),"readwrite-primary"===t?this.ai(h).next(y=>!!y||this.hi(h)).next(y=>{if(!y)throw Qr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new qe(Ne.FAILED_PRECONDITION,c2);return i(h)}).next(y=>this.fi(h).next(()=>y)):this.bi(h).next(()=>i(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}bi(e){return v0(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new qe(Ne.FAILED_PRECONDITION,eO)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return v0(e).put("owner",t)}static V(){return kc.V()}li(e){const t=v0(e);return t.get("owner").next(i=>this.di(i)?(et("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Me.resolve())}mi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Qr(`Detected an update time that is in the future: ${e} > ${i}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,X.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const i=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return et("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Qr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Qr("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function v0(n){return Ns(n,"owner")}function gS(n){return Ns(n,"clientMetadata")}function nO(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class iO{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Pi=i,this.vi=r}static Vi(e,t){let i=Dn(),r=Dn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new iO(e,t.fromCache,i,r)}}class GB{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ci(e,t).next(s=>s||this.xi(e,t,r,i)).next(s=>s||this.Ni(e,t))}Ci(e,t){return Me.resolve(null)}xi(e,t,i,r){return function u8(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Jt.min())?this.Ni(e,t):this.Di.getDocuments(e,i).next(s=>{const u=this.ki(t,s);return this.Oi(t,u,i,r)?this.Ni(e,t):(xR()<=bo.in.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jR(t)),this.Mi(e,u,t,a2(r,-1)))})}ki(e,t){let i=new Pi(P2(e));return t.forEach((r,s)=>{UR(e,s)&&(i=i.add(s))}),i}Oi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ni(e,t){return xR()<=bo.in.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",jR(t)),this.Di.getDocumentsMatchingQuery(e,t,el.min())}Mi(e,t,i,r){return this.Di.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(u=>{s=s.insert(u.key,u)}),s))}}class SG{constructor(e,t,i,r){this.persistence=e,this.Fi=t,this.wt=r,this.$i=new Dr(En),this.Bi=new Kh(s=>qp(s),e0),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(i)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $B(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function KB(n,e,t,i){return new SG(n,e,t,i)}function qB(n,e){return rO.apply(this,arguments)}function rO(){return rO=(0,Le.Z)(function*(n,e){const t=_t(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.qi(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const u=[],h=[];let p=Dn();for(const y of r){u.push(y.batchId);for(const C of y.mutations)p=p.add(C.key)}for(const y of s){h.push(y.batchId);for(const C of y.mutations)p=p.add(C.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ki:y,removedBatchIds:u,addedBatchIds:h}))})})}),rO.apply(this,arguments)}function TG(n,e){const t=_t(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Ui.newChangeBuffer({trackRemovals:!0});return function(u,h,p,y){const C=p.batch,M=C.keys();let B=Me.resolve();return M.forEach(ee=>{B=B.next(()=>y.getEntry(h,ee)).next(re=>{const ye=p.docVersions.get(ee);rn(null!==ye),re.version.compareTo(ye)<0&&(C.applyToRemoteDocument(re,p),re.isValidDocument()&&(re.setReadTime(p.commitVersion),y.addEntry(re)))})}),B.next(()=>u.mutationQueue.removeMutationBatch(h,C))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Dn();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function YB(n){const e=_t(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function xG(n,e){const t=_t(n),i=e.snapshotVersion;let r=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=t.Ui.newChangeBuffer({trackRemovals:!0});r=t.$i;const h=[];e.targetChanges.forEach((C,M)=>{const B=r.get(M);if(!B)return;h.push(t.Vs.removeMatchingKeys(s,C.removedDocuments,M).next(()=>t.Vs.addMatchingKeys(s,C.addedDocuments,M)));let ee=B.withSequenceNumber(s.currentSequenceNumber);var re,ye,Te;e.targetMismatches.has(M)?ee=ee.withResumeToken(_s.EMPTY_BYTE_STRING,Jt.min()).withLastLimboFreeSnapshotVersion(Jt.min()):C.resumeToken.approximateByteSize()>0&&(ee=ee.withResumeToken(C.resumeToken,i)),r=r.insert(M,ee),ye=ee,Te=C,(0===(re=B).resumeToken.approximateByteSize()||ye.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=3e8||Te.addedDocuments.size+Te.modifiedDocuments.size+Te.removedDocuments.size>0)&&h.push(t.Vs.updateTargetData(s,ee))});let p=xa(),y=Dn();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,C))}),h.push(ZB(s,u,e.documentUpdates).next(C=>{p=C.Gi,y=C.Qi})),!i.isEqual(Jt.min())){const C=t.Vs.getLastRemoteSnapshotVersion(s).next(M=>t.Vs.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(C)}return Me.waitFor(h).next(()=>u.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,p,y)).next(()=>p)}).then(s=>(t.$i=r,s))}function ZB(n,e,t){let i=Dn(),r=Dn();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let u=xa();return t.forEach((h,p)=>{const y=s.get(h);p.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(h)),p.isNoDocument()&&p.version.isEqual(Jt.min())?(e.removeEntry(h,p.readTime),u=u.insert(h,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||0===p.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(p),u=u.insert(h,p)):et("LocalStore","Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",p.version)}),{Gi:u,Qi:r}})}function MG(n,e){const t=_t(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function M_(n,e){const t=_t(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Vs.getTargetData(i,e).next(s=>s?(r=s,Me.resolve(r)):t.Vs.allocateTargetId(i).next(u=>(r=new qh(e,u,0,i.currentSequenceNumber),t.Vs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.$i.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.$i=t.$i.insert(i.targetId,i),t.Bi.set(e,i.targetId)),i})}function A_(n,e,t){return sO.apply(this,arguments)}function sO(){return sO=(0,Le.Z)(function*(n,e,t){const i=_t(n),r=i.$i.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Hh(u))throw u;et("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.$i=i.$i.remove(e),i.Bi.delete(r.target)}),sO.apply(this,arguments)}function _S(n,e,t){const i=_t(n);let r=Jt.min(),s=Dn();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,p,y){const C=_t(h),M=C.Bi.get(y);return void 0!==M?Me.resolve(C.$i.get(M)):C.Vs.getTargetData(p,y)}(i,u,Nl(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(u,h.targetId).next(p=>{s=p})}).next(()=>i.Fi.getDocumentsMatchingQuery(u,e,t?r:Jt.min(),t?s:Dn())).next(h=>(JB(i,O2(e),h),{documents:h,ji:s})))}function QB(n,e){const t=_t(n),i=_t(t.Vs),r=t.$i.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.te(s,e).next(u=>u?u.target:null))}function XB(n,e){const t=_t(n),i=t.Li.get(e)||Jt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Ui.getAllFromCollectionGroup(r,e,a2(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(JB(t,e,r),r))}function JB(n,e,t){let i=Jt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Li.set(e,i)}function oO(){return oO=(0,Le.Z)(function*(n,e,t,i){const r=_t(n);let s=Dn(),u=xa();for(const y of t){const C=e.Wi(y.metadata.name);y.document&&(s=s.add(C));const M=e.zi(y);M.setReadTime(e.Hi(y.metadata.readTime)),u=u.insert(C,M)}const h=r.Ui.newChangeBuffer({trackRemovals:!0}),p=yield M_(r,(y=i,Nl(v_(si.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>ZB(y,h,u).next(C=>(h.apply(y),C)).next(C=>r.Vs.removeMatchingKeysForTargetId(y,p.targetId).next(()=>r.Vs.addMatchingKeys(y,s,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,C.Gi,C.Qi)).next(()=>C.Gi)))}),oO.apply(this,arguments)}function kG(n,e){return aO.apply(this,arguments)}function aO(){return aO=(0,Le.Z)(function*(n,e,t=Dn()){const i=yield M_(n,Nl(ZR(e.bundledQuery))),r=_t(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const u=Ps(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ds.saveNamedQuery(s,e);const h=i.withResumeToken(_s.EMPTY_BYTE_STRING,u);return r.$i=r.$i.insert(h.targetId,h),r.Vs.updateTargetData(s,h).next(()=>r.Vs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Vs.addMatchingKeys(s,t,i.targetId)).next(()=>r.Ds.saveNamedQuery(s,e))})}),aO.apply(this,arguments)}function ej(n,e){return`firestore_clients_${n}_${e}`}function tj(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function lO(n,e){return`firestore_targets_${n}_${e}`}class yS{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ji(e,t,i){const r=JSON.parse(i);let s,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new qe(r.error.code,r.error.message))),u?new yS(e,t,r.state,s):(Qr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class b0{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ji(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new qe(i.error.code,i.error.message))),s?new b0(e,i.state,r):(Qr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vS{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=sS();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=g2(i.activeTargetIds[u]),s=s.add(i.activeTargetIds[u]);return r?new vS(e,s):(Qr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class cO{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new cO(t.clientId,t.onlineState):(Qr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class uO{constructor(){this.activeTargetIds=sS()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dO{constructor(e,t,i,r,s){this.window=e,this.js=t,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Dr(En),this.started=!1,this.ir=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.rr=ej(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new uO),this.cr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Le.Z)(function*(){const t=yield e.syncEngine.Ri();for(const r of t){if(r===e.tr)continue;const s=e.getItem(ej(e.persistenceKey,r));if(s){const u=vS.Ji(r,s);u&&(e.sr=e.sr.insert(u.clientId,u))}}e._r();const i=e.storage.getItem(e.lr);if(i){const r=e.wr(i);r&&e.mr(r)}for(const r of e.ir)e.nr(r);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,i){this.yr(e,t,i),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(lO(this.persistenceKey,e));if(i){const r=b0.Ji(e,i);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(lO(this.persistenceKey,e))}updateQueryState(e,t,i){this.Tr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.pr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return et("SharedClientState","READ",e,t),t}setItem(e,t){et("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){et("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(et("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void Qr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Le.Z)(function*(){if(t.started){if(null!==i.key)if(t.cr.test(i.key)){if(null==i.newValue){const r=t.Rr(i.key);return t.br(r,null)}{const r=t.Pr(i.key,i.newValue);if(r)return t.br(r.clientId,r)}}else if(t.ar.test(i.key)){if(null!==i.newValue){const r=t.vr(i.key,i.newValue);if(r)return t.Vr(r)}}else if(t.hr.test(i.key)){if(null!==i.newValue){const r=t.Sr(i.key,i.newValue);if(r)return t.Dr(r)}}else if(i.key===t.lr){if(null!==i.newValue){const r=t.wr(i.newValue);if(r)return t.mr(r)}}else if(i.key===t.ur){const r=function(s){let u=Ta.ot;if(null!=s)try{const h=JSON.parse(s);rn("number"==typeof h),u=h}catch(h){Qr("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==Ta.ot&&t.sequenceNumberHandler(r)}else if(i.key===t.dr){const r=t.Cr(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Nr(s)))}}else t.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,i){const r=new yS(this.currentUser,e,t,i),s=tj(this.persistenceKey,this.currentUser,e);this.setItem(s,r.Yi())}pr(e){const t=tj(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,i){const r=lO(this.persistenceKey,e),s=new b0(e,t,i);this.setItem(r,s.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const i=this.Rr(e);return vS.Ji(i,t)}vr(e,t){const i=this.ar.exec(e),r=Number(i[1]);return yS.Ji(new Rs(void 0!==i[2]?i[2]:null),r,t)}Sr(e,t){const i=this.hr.exec(e),r=Number(i[1]);return b0.Ji(r,t)}wr(e){return cO.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,Le.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);et("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const i=t?this.sr.insert(e,t):this.sr.remove(e),r=this.gr(this.sr),s=this.gr(i),u=[],h=[];return s.forEach(p=>{r.has(p)||u.push(p)}),r.forEach(p=>{s.has(p)||h.push(p)}),this.syncEngine.Mr(u,h).then(()=>{this.sr=i})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=sS();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class nj{constructor(){this.Fr=new uO,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,i){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new uO,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class RG{Br(e){}shutdown(){}}class ij{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const OG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class PG{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class NG extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,i,r,s){const u=this.oo(e,t);et("RestConnection","Sending: ",u,i);const h={};return this.uo(h,r,s),this.co(e,u,h,i).then(p=>(et("RestConnection","Received: ",p),p),p=>{throw zb("RestConnection",`${e} failed with error: `,p,"url: ",u,"request:",i),p})}ao(e,t,i,r,s,u){return this.ro(e,t,i,r,s)}uo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+p_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}oo(e,t){return`${this.so}/v1/${t}:${OG[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,i,r){return new Promise((s,u)=>{const h=new O4;h.listenOnce(A4.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case TR.NO_ERROR:const y=h.getResponseJson();et("Connection","XHR received:",JSON.stringify(y)),s(y);break;case TR.TIMEOUT:et("Connection",'RPC "'+e+'" timed out'),u(new qe(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case TR.HTTP_ERROR:const C=h.getStatus();if(et("Connection",'RPC "'+e+'" failed with status:',C,"response text:",h.getResponseText()),C>0){const M=h.getResponseJson().error;if(M&&M.status&&M.message){const B=function(ee){const re=ee.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf(re)>=0?re:Ne.UNKNOWN}(M.status);u(new qe(B,M.message))}else u(new qe(Ne.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new qe(Ne.UNAVAILABLE,"Connection failed."));break;default:Tt()}}finally{et("Connection",'RPC "'+e+'" completed.')}});const p=JSON.stringify(r);h.send(t,"POST",p,i,15)})}ho(e,t,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=x4(),u=M4(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new R4({})),this.uo(h.initMessageHeaders,t,i),(0,X.uI)()||(0,X.b$)()||(0,X.d)()||(0,X.w1)()||(0,X.Mn)()||(0,X.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");et("Connection","Creating WebChannel: "+p,h);const y=s.createWebChannel(p,h);let C=!1,M=!1;const B=new PG({jr:re=>{M?et("Connection","Not sending because WebChannel is closed:",re):(C||(et("Connection","Opening WebChannel transport."),y.open(),C=!0),et("Connection","WebChannel sending:",re),y.send(re))},Wr:()=>y.close()}),ee=(re,ye,Te)=>{re.listen(ye,it=>{try{Te(it)}catch(pt){setTimeout(()=>{throw pt},0)}})};return ee(y,KD.EventType.OPEN,()=>{M||et("Connection","WebChannel transport opened.")}),ee(y,KD.EventType.CLOSE,()=>{M||(M=!0,et("Connection","WebChannel transport closed"),B.eo())}),ee(y,KD.EventType.ERROR,re=>{M||(M=!0,zb("Connection","WebChannel transport errored:",re),B.eo(new qe(Ne.UNAVAILABLE,"The operation could not be completed")))}),ee(y,KD.EventType.MESSAGE,re=>{var ye;if(!M){const Te=re.data[0];rn(!!Te);const it=Te,pt=it.error||(null===(ye=it[0])||void 0===ye?void 0:ye.error);if(pt){et("Connection","WebChannel received error:",pt);const yt=pt.status;let mt=function(tn){const qn=Xr[tn];if(void 0!==qn)return Y2(qn)}(yt),en=pt.message;void 0===mt&&(mt=Ne.INTERNAL,en="Unknown error status: "+yt+" with message "+pt.message),M=!0,B.eo(new qe(mt,en)),y.close()}else et("Connection","WebChannel received:",Te),B.no(Te)}}),ee(u,k4.STAT_EVENT,re=>{re.stat===e2.PROXY?et("Connection","Detected buffering proxy"):re.stat===e2.NOPROXY&&et("Connection","Detected no buffering proxy")}),setTimeout(()=>{B.Zr()},0),B}}function rj(){return typeof window<"u"?window:null}function bS(){return typeof document<"u"?document:null}function w0(n){return new S8(n,!0)}class hO{constructor(e,t,i=1e3,r=1.5,s=6e4){this.js=e,this.timerId=t,this.lo=i,this.fo=r,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,t-i);r>0&&et("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class sj{constructor(e,t,i,r,s,u,h,p){this.js=e,this.Ao=i,this.Ro=r,this.bo=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new hO(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,Le.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,Le.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var i=this;return(0,Le.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==e?i.So.reset():t&&t.code===Ne.RESOURCE_EXHAUSTED?(Qr(t.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):t&&t.code===Ne.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===t&&this.Uo(i,r)},i=>{e(()=>{const r=new qe(Ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(e,t){const i=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var e=this;this.state=5,this.So.Io((0,Le.Z)(function*(){e.state=0,e.start()}))}qo(e){return et("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FG extends sj{constructor(e,t,i,r,s,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.wt=s}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function M8(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:Tt(),r=e.targetChange.targetIds||[],s=function(p,y){return p.dt?(rn(void 0===y||"string"==typeof y),_s.fromBase64String(y||"")):(rn(void 0===y||y instanceof Uint8Array),_s.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const y=void 0===p.code?Ne.UNKNOWN:Y2(p.code);return new qe(y,p.message||"")}(u);t=new eB(i,r,s,h||null)}else if("documentChange"in e){const i=e.documentChange,r=Iu(n,i.document.name),s=Ps(i.document.updateTime),u=new to({mapValue:{fields:i.document.fields}}),h=Ui.newFoundDocument(r,s,u);t=new oS(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const i=e.documentDelete,r=Iu(n,i.document),s=i.readTime?Ps(i.readTime):Jt.min(),u=Ui.newNoDocument(r,s);t=new oS([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=Iu(n,i.document);t=new oS([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Tt();{const i=e.filter,s=new y8(i.count||0);t=new J2(i.targetId,s)}}var p;return t}(this.wt,e),i=function(r){if(!("targetChange"in r))return Jt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Jt.min():s.readTime?Ps(s.readTime):Jt.min()}(e);return this.listener.Go(t,i)}Qo(e){const t={};t.database=d0(this.wt),t.addTarget=function(r,s){let u;const h=s.target;return u=eS(h)?{documents:uB(r,h)}:{query:dB(r,h)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?u.resumeToken=rB(r,s.resumeToken):s.snapshotVersion.compareTo(Jt.min())>0&&(u.readTime=c0(r,s.snapshotVersion.toTimestamp())),u}(this.wt,e);const i=function k8(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Tt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Mo(t)}jo(e){const t={};t.database=d0(this.wt),t.removeTarget=e,this.Mo(t)}}class LG extends sj{constructor(e,t,i,r,s,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.wt=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(rn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function A8(n,e){return n&&n.length>0?(rn(void 0!==e),n.map(t=>function(i,r){let s=Ps(i.updateTime?i.updateTime:r);return s.isEqual(Jt.min())&&(s=Ps(r)),new m8(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Ps(e.commitTime);return this.listener.Jo(i,t)}return rn(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=d0(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>h0(this.wt,i))};this.Mo(t)}}class VG extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=i,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new qe(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.bo.ro(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new qe(Ne.UNKNOWN,r.toString())})}ao(e,t,i,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.bo.ao(e,t,i,s,u,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new qe(Ne.UNKNOWN,s.toString())})}terminate(){this.Zo=!0}}class BG{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Qr(t),this.su=!1):et("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class jG{constructor(e,t,i,r,s){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(h=>{i.enqueueAndForget((0,Le.Z)(function*(){var p;Qh(u)&&(et("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,Le.Z)(function*(y){const C=_t(y);C.lu.add(4),yield k_(C),C._u.set("Unknown"),C.lu.delete(4),yield E0(C)}),function(y){return p.apply(this,arguments)})(u))}))}),this._u=new BG(i,r)}}function E0(n){return fO.apply(this,arguments)}function fO(){return fO=(0,Le.Z)(function*(n){if(Qh(n))for(const e of n.fu)yield e(!0)}),fO.apply(this,arguments)}function k_(n){return pO.apply(this,arguments)}function pO(){return pO=(0,Le.Z)(function*(n){for(const e of n.fu)yield e(!1)}),pO.apply(this,arguments)}function wS(n,e){const t=_t(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),_O(t)?gO(t):O_(t).Co()&&mO(t,e))}function C0(n,e){const t=_t(n),i=O_(t);t.hu.delete(e),i.Co()&&oj(t,e),0===t.hu.size&&(i.Co()?i.ko():Qh(t)&&t._u.set("Unknown"))}function mO(n,e){n.wu.Nt(e.targetId),O_(n).Qo(e)}function oj(n,e){n.wu.Nt(e),O_(n).jo(e)}function gO(n){n.wu=new C8({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),O_(n).start(),n._u.iu()}function _O(n){return Qh(n)&&!O_(n).Do()&&n.hu.size>0}function Qh(n){return 0===_t(n).lu.size}function aj(n){n.wu=void 0}function UG(n){return yO.apply(this,arguments)}function yO(){return yO=(0,Le.Z)(function*(n){n.hu.forEach((e,t)=>{mO(n,e)})}),yO.apply(this,arguments)}function HG(n,e){return vO.apply(this,arguments)}function vO(){return vO=(0,Le.Z)(function*(n,e){aj(n),_O(n)?(n._u.uu(e),gO(n)):n._u.set("Unknown")}),vO.apply(this,arguments)}function $G(n,e,t){return bO.apply(this,arguments)}function bO(){return bO=(0,Le.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof eB&&2===e.state&&e.cause)try{yield(i=(0,Le.Z)(function*(r,s){const u=s.cause;for(const h of s.targetIds)r.hu.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.hu.delete(h),r.wu.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){et("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield ES(n,i)}else if(e instanceof oS?n.wu.Ut(e):e instanceof J2?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(Jt.min()))try{const i=yield YB(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const u=r.wu.Yt(s);return u.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=r.hu.get(p);y&&r.hu.set(p,y.withResumeToken(h.resumeToken,s))}}),u.targetMismatches.forEach(h=>{const p=r.hu.get(h);if(!p)return;r.hu.set(h,p.withResumeToken(_s.EMPTY_BYTE_STRING,p.snapshotVersion)),oj(r,h);const y=new qh(p.target,h,1,p.sequenceNumber);mO(r,y)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){et("RemoteStore","Failed to raise snapshot:",i),yield ES(n,i)}var i}),bO.apply(this,arguments)}function ES(n,e,t){return wO.apply(this,arguments)}function wO(){return wO=(0,Le.Z)(function*(n,e,t){if(!Hh(e))throw e;n.lu.add(1),yield k_(n),n._u.set("Offline"),t||(t=()=>YB(n.localStore)),n.asyncQueue.enqueueRetryable((0,Le.Z)(function*(){et("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield E0(n)}))}),wO.apply(this,arguments)}function lj(n,e){return e().catch(t=>ES(n,t,e))}function R_(n){return EO.apply(this,arguments)}function EO(){return EO=(0,Le.Z)(function*(n){const e=_t(n),t=Xh(e);let i=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;zG(e);)try{const r=yield MG(e.localStore,i);if(null===r){0===e.au.length&&t.ko();break}i=r.batchId,WG(e,r)}catch(r){yield ES(e,r)}cj(e)&&uj(e)}),EO.apply(this,arguments)}function zG(n){return Qh(n)&&n.au.length<10}function WG(n,e){n.au.push(e);const t=Xh(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function cj(n){return Qh(n)&&!Xh(n).Do()&&n.au.length>0}function uj(n){Xh(n).start()}function GG(n){return CO.apply(this,arguments)}function CO(){return CO=(0,Le.Z)(function*(n){Xh(n).Xo()}),CO.apply(this,arguments)}function KG(n){return IO.apply(this,arguments)}function IO(){return IO=(0,Le.Z)(function*(n){const e=Xh(n);for(const t of n.au)e.Ho(t.mutations)}),IO.apply(this,arguments)}function qG(n,e,t){return DO.apply(this,arguments)}function DO(){return DO=(0,Le.Z)(function*(n,e,t){const i=n.au.shift(),r=qR.from(i,e,t);yield lj(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield R_(n)}),DO.apply(this,arguments)}function YG(n,e){return SO.apply(this,arguments)}function SO(){return SO=(0,Le.Z)(function*(n,e){var t;e&&Xh(n).zo&&(yield(t=(0,Le.Z)(function*(i,r){if(q2(s=r.code)&&s!==Ne.ABORTED){const u=i.au.shift();Xh(i).No(),yield lj(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield R_(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),cj(n)&&uj(n)}),SO.apply(this,arguments)}function dj(n,e){return TO.apply(this,arguments)}function TO(){return TO=(0,Le.Z)(function*(n,e){const t=_t(n);t.asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials");const i=Qh(t);t.lu.add(3),yield k_(t),i&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield E0(t)}),TO.apply(this,arguments)}function xO(n,e){return MO.apply(this,arguments)}function MO(){return MO=(0,Le.Z)(function*(n,e){const t=_t(n);e?(t.lu.delete(2),yield E0(t)):e||(t.lu.add(2),yield k_(t),t._u.set("Unknown"))}),MO.apply(this,arguments)}function O_(n){return n.mu||(n.mu=function(e,t,i){const r=_t(e);return r.tu(),new FG(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:UG.bind(null,n),Jr:HG.bind(null,n),Go:$G.bind(null,n)}),n.fu.push(function(){var e=(0,Le.Z)(function*(t){t?(n.mu.No(),_O(n)?gO(n):n._u.set("Unknown")):(yield n.mu.stop(),aj(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Xh(n){return n.gu||(n.gu=function(e,t,i){const r=_t(e);return r.tu(),new LG(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:GG.bind(null,n),Jr:YG.bind(null,n),Yo:KG.bind(null,n),Jo:qG.bind(null,n)}),n.fu.push(function(){var e=(0,Le.Z)(function*(t){t?(n.gu.No(),yield R_(n)):(yield n.gu.stop(),n.au.length>0&&(et("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class AO{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,s){const u=Date.now()+i,h=new AO(e,t,u,r,s);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qe(Ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function P_(n,e){if(Qr("AsyncQueue",`${e}: ${n}`),Hh(n))return new qe(Ne.UNAVAILABLE,`${e}: ${n}`);throw n}class N_{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ft.comparator(t.key,i.key):(t,i)=>ft.comparator(t.key,i.key),this.keyedMap=s0(),this.sortedSet=new Dr(this.comparator)}static emptySet(e){return new N_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof N_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new N_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class hj{constructor(){this.yu=new Dr(ft.comparator)}track(e){const t=e.doc.key,i=this.yu.get(t);i?0!==e.type&&3===i.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==i.type?this.yu=this.yu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.yu=this.yu.remove(t):1===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Tt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,i)=>{e.push(i)}),e}}class F_{constructor(e,t,i,r,s,u,h,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=p}static fromInitialDocuments(e,t,i,r){const s=[];return t.forEach(u=>{s.push({type:0,doc:u})}),new F_(e,t,N_.emptySet(t),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&t0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class ZG{constructor(){this.Iu=void 0,this.listeners=[]}}class QG{constructor(){this.queries=new Kh(e=>R2(e),t0),this.onlineState="Unknown",this.Tu=new Set}}function kO(n,e){return RO.apply(this,arguments)}function RO(){return RO=(0,Le.Z)(function*(n,e){const t=_t(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new ZG),r)try{s.Iu=yield t.onListen(i)}catch(u){const h=P_(u,`Initialization of query '${jR(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,s),s.listeners.push(e),e.Eu(t.onlineState),s.Iu&&e.Au(s.Iu)&&NO(t)}),RO.apply(this,arguments)}function OO(n,e){return PO.apply(this,arguments)}function PO(){return PO=(0,Le.Z)(function*(n,e){const t=_t(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const u=s.listeners.indexOf(e);u>=0&&(s.listeners.splice(u,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),PO.apply(this,arguments)}function XG(n,e){const t=_t(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const h of u.listeners)h.Au(r)&&(i=!0);u.Iu=r}}i&&NO(t)}function JG(n,e,t){const i=_t(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function NO(n){n.Tu.forEach(e=>{e.next()})}class FO{constructor(e,t,i){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new F_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=F_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class e5{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class fj{constructor(e){this.wt=e}Wi(e){return Iu(this.wt,e)}zi(e){return e.metadata.exists?cB(this.wt,e.document,!1):Ui.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return Ps(e)}}class t5{constructor(e,t,i){this.xu=e,this.localStore=t,this.wt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=pj(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=si.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,i=new fj(this.wt);for(const r of e)if(r.metadata.queries){const s=i.Wi(r.metadata.name);for(const u of r.metadata.queries){const h=(t.get(u)||Dn()).add(s);t.set(u,h)}}return t}complete(){var e=this;return(0,Le.Z)(function*(){const t=yield function AG(n,e,t,i){return oO.apply(this,arguments)}(e.localStore,new fj(e.wt),e.documents,e.xu.id),i=e.ku(e.documents);for(const r of e.queries)yield kG(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function pj(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class mj{constructor(e){this.key=e}}class gj{constructor(e){this.key=e}}class _j{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Dn(),this.mutatedKeys=Dn(),this.Lu=P2(e),this.Uu=new N_(this.Lu)}get qu(){return this.Fu}Ku(e,t){const i=t?t.Gu:new hj,r=t?t.Uu:this.Uu;let s=t?t.mutatedKeys:this.mutatedKeys,u=r,h=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((C,M)=>{const B=r.get(C),ee=UR(this.query,M)?M:null,re=!!B&&this.mutatedKeys.has(B.key),ye=!!ee&&(ee.hasLocalMutations||this.mutatedKeys.has(ee.key)&&ee.hasCommittedMutations);let Te=!1;B&&ee?B.data.isEqual(ee.data)?re!==ye&&(i.track({type:3,doc:ee}),Te=!0):this.Qu(B,ee)||(i.track({type:2,doc:ee}),Te=!0,(p&&this.Lu(ee,p)>0||y&&this.Lu(ee,y)<0)&&(h=!0)):!B&&ee?(i.track({type:0,doc:ee}),Te=!0):B&&!ee&&(i.track({type:1,doc:B}),Te=!0,(p||y)&&(h=!0)),Te&&(ee?(u=u.add(ee),s=ye?s.add(C):s.delete(C)):(u=u.delete(C),s=s.delete(C)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const C="F"===this.query.limitType?u.last():u.first();u=u.delete(C.key),s=s.delete(C.key),i.track({type:1,doc:C})}return{Uu:u,Gu:i,Oi:h,mutatedKeys:s}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const s=e.Gu.pu();s.sort((y,C)=>function(M,B){const ee=re=>{switch(re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt()}};return ee(M)-ee(B)}(y.type,C.type)||this.Lu(y.doc,C.doc)),this.ju(i);const u=t?this.Wu():[],h=0===this.Bu.size&&this.current?1:0,p=h!==this.$u;return this.$u=h,0!==s.length||p?{snapshot:new F_(this.query,e.Uu,r,s,e.mutatedKeys,0===h,p,!1),zu:u}:{zu:u}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new hj,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Dn(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const t=[];return e.forEach(i=>{this.Bu.has(i)||t.push(new gj(i))}),this.Bu.forEach(i=>{e.has(i)||t.push(new mj(i))}),t}Ju(e){this.Fu=e.ji,this.Bu=Dn();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return F_.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class n5{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class r5{constructor(e){this.key=e,this.Xu=!1}}class s5{constructor(e,t,i,r,s,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.Zu={},this.tc=new Kh(h=>R2(h),t0),this.ec=new Map,this.nc=new Set,this.sc=new Dr(ft.comparator),this.ic=new Map,this.rc=new JR,this.oc={},this.uc=new Map,this.cc=im.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function o5(n,e){return LO.apply(this,arguments)}function LO(){return LO=(0,Le.Z)(function*(n,e){const t=a1(n);let i,r;const s=t.tc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.Yu();else{const u=yield M_(t.localStore,Nl(e));t.isPrimaryClient&&wS(t.remoteStore,u);const h=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield VO(t,e,i,"current"===h)}return r}),LO.apply(this,arguments)}function VO(n,e,t,i){return BO.apply(this,arguments)}function BO(){return BO=(0,Le.Z)(function*(n,e,t,i){n.hc=(C,M,B)=>{return(ee=(0,Le.Z)(function*(re,ye,Te,it){let pt=ye.view.Ku(Te);pt.Oi&&(pt=yield _S(re.localStore,ye.query,!1).then(({documents:en})=>ye.view.Ku(en,pt)));const yt=it&&it.targetChanges.get(ye.targetId),mt=ye.view.applyChanges(pt,re.isPrimaryClient,yt);return YO(re,ye.targetId,mt.zu),mt.snapshot}),function(re,ye,Te,it){return ee.apply(this,arguments)})(n,C,M,B);var ee};const r=yield _S(n.localStore,e,!0),s=new _j(e,r.ji),u=s.Ku(r.documents),h=l0.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),p=s.applyChanges(u,n.isPrimaryClient,h);YO(n,t,p.zu);const y=new n5(e,t,s);return n.tc.set(e,y),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),p.snapshot}),BO.apply(this,arguments)}function a5(n,e){return jO.apply(this,arguments)}function jO(){return jO=(0,Le.Z)(function*(n,e){const t=_t(n),i=t.tc.get(e),r=t.ec.get(i.targetId);if(r.length>1)return t.ec.set(i.targetId,r.filter(s=>!t0(s,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield A_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),C0(t.remoteStore,i.targetId),L_(t,i.targetId)}).catch(Uh))):(L_(t,i.targetId),yield A_(t.localStore,i.targetId,!0))}),jO.apply(this,arguments)}function UO(){return UO=(0,Le.Z)(function*(n,e,t){const i=l1(n);try{const r=yield function(s,u){const h=_t(s),p=sr.now(),y=u.reduce((B,ee)=>B.add(ee.key),Dn());let C,M;return h.persistence.runTransaction("Locally write mutations","readwrite",B=>{let ee=xa(),re=Dn();return h.Ui.getEntries(B,y).next(ye=>{ee=ye,ee.forEach((Te,it)=>{it.isValidDocument()||(re=re.add(Te))})}).next(()=>h.localDocuments.getOverlayedDocuments(B,ee)).next(ye=>{C=ye;const Te=[];for(const it of u){const pt=_8(it,C.get(it.key).overlayedDocument);null!=pt&&Te.push(new Dd(it.key,pt,C2(pt.value.mapValue),mr.exists(!0)))}return h.mutationQueue.addMutationBatch(B,p,Te,u)}).next(ye=>{M=ye;const Te=ye.applyToLocalDocumentSet(C,re);return h.documentOverlayCache.saveOverlays(B,ye.batchId,Te)})}).then(()=>({batchId:M.batchId,changes:Q2(C)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,u,h){let p=s.oc[s.currentUser.toKey()];p||(p=new Dr(En)),p=p.insert(u,h),s.oc[s.currentUser.toKey()]=p}(i,r.batchId,t),yield Sd(i,r.changes),yield R_(i.remoteStore)}catch(r){const s=P_(r,"Failed to persist write");t.reject(s)}}),UO.apply(this,arguments)}function yj(n,e){return HO.apply(this,arguments)}function HO(){return HO=(0,Le.Z)(function*(n,e){const t=_t(n);try{const i=yield xG(t.localStore,e);e.targetChanges.forEach((r,s)=>{const u=t.ic.get(s);u&&(rn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.Xu=!0:r.modifiedDocuments.size>0?rn(u.Xu):r.removedDocuments.size>0&&(rn(u.Xu),u.Xu=!1))}),yield Sd(t,i,e)}catch(i){yield Uh(i)}}),HO.apply(this,arguments)}function vj(n,e,t){const i=_t(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.tc.forEach((s,u)=>{const h=u.view.Eu(e);h.snapshot&&r.push(h.snapshot)}),function(s,u){const h=_t(s);h.onlineState=u;let p=!1;h.queries.forEach((y,C)=>{for(const M of C.listeners)M.Eu(u)&&(p=!0)}),p&&NO(h)}(i.eventManager,e),r.length&&i.Zu.Go(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function c5(n,e,t){return $O.apply(this,arguments)}function $O(){return $O=(0,Le.Z)(function*(n,e,t){const i=_t(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ic.get(e),s=r&&r.key;if(s){let u=new Dr(ft.comparator);u=u.insert(s,Ui.newNoDocument(s,Jt.min()));const h=Dn().add(s),p=new a0(Jt.min(),new Map,new Pi(En),u,h);yield yj(i,p),i.sc=i.sc.remove(s),i.ic.delete(e),ZO(i)}else yield A_(i.localStore,e,!1).then(()=>L_(i,e,t)).catch(Uh)}),$O.apply(this,arguments)}function u5(n,e){return zO.apply(this,arguments)}function zO(){return zO=(0,Le.Z)(function*(n,e){const t=_t(n),i=e.batch.batchId;try{const r=yield TG(t.localStore,e);qO(t,i,null),KO(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Sd(t,r)}catch(r){yield Uh(r)}}),zO.apply(this,arguments)}function d5(n,e,t){return WO.apply(this,arguments)}function WO(){return WO=(0,Le.Z)(function*(n,e,t){const i=_t(n);try{const r=yield function(s,u){const h=_t(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.mutationQueue.lookupMutationBatch(p,u).next(C=>(rn(null!==C),y=C.keys(),h.mutationQueue.removeMutationBatch(p,C))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>h.localDocuments.getDocuments(p,y))})}(i.localStore,e);qO(i,e,t),KO(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Sd(i,r)}catch(r){yield Uh(r)}}),WO.apply(this,arguments)}function GO(){return GO=(0,Le.Z)(function*(n,e){const t=_t(n);Qh(t.remoteStore)||et("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const u=_t(s);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===i)return void e.resolve();const r=t.uc.get(i)||[];r.push(e),t.uc.set(i,r)}catch(i){const r=P_(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),GO.apply(this,arguments)}function KO(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function qO(n,e,t){const i=_t(n);let r=i.oc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.oc[i.currentUser.toKey()]=r}}function L_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ec.get(e))n.tc.delete(i),t&&n.Zu.lc(i,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(i=>{n.rc.containsKey(i)||bj(n,i)})}function bj(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(C0(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),ZO(n))}function YO(n,e,t){for(const i of t)i instanceof mj?(n.rc.addReference(i.key,e),f5(n,i)):i instanceof gj?(et("SyncEngine","Document no longer in limbo: "+i.key),n.rc.removeReference(i.key,e),n.rc.containsKey(i.key)||bj(n,i.key)):Tt()}function f5(n,e){const t=e.key,i=t.path.canonicalString();n.sc.get(t)||n.nc.has(i)||(et("SyncEngine","New document in limbo: "+t),n.nc.add(i),ZO(n))}function ZO(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new ft(si.fromString(e)),i=n.cc.next();n.ic.set(i,new r5(t)),n.sc=n.sc.insert(t,i),wS(n.remoteStore,new qh(Nl(v_(t.path)),i,2,Ta.ot))}}function Sd(n,e,t){return QO.apply(this,arguments)}function QO(){return QO=(0,Le.Z)(function*(n,e,t){const i=_t(n),r=[],s=[],u=[];var h;i.tc.isEmpty()||(i.tc.forEach((h,p)=>{u.push(i.hc(p,e,t).then(y=>{if(y){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,y.fromCache?"not-current":"current"),r.push(y);const C=iO.Vi(p.targetId,y);s.push(C)}}))}),yield Promise.all(u),i.Zu.Go(r),yield(h=(0,Le.Z)(function*(p,y){const C=_t(p);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>Me.forEach(y,B=>Me.forEach(B.Pi,ee=>C.persistence.referenceDelegate.addReference(M,B.targetId,ee)).next(()=>Me.forEach(B.vi,ee=>C.persistence.referenceDelegate.removeReference(M,B.targetId,ee)))))}catch(M){if(!Hh(M))throw M;et("LocalStore","Failed to update sequence numbers: "+M)}for(const M of y){const B=M.targetId;if(!M.fromCache){const ee=C.$i.get(B),ye=ee.withLastLimboFreeSnapshotVersion(ee.snapshotVersion);C.$i=C.$i.insert(B,ye)}}}),function(p,y){return h.apply(this,arguments)})(i.localStore,s))}),QO.apply(this,arguments)}function p5(n,e){return XO.apply(this,arguments)}function XO(){return XO=(0,Le.Z)(function*(n,e){const t=_t(n);if(!t.currentUser.isEqual(e)){et("SyncEngine","User change. New user:",e.toKey());const i=yield qB(t.localStore,e);t.currentUser=e,(r=t).uc.forEach(u=>{u.forEach(h=>{h.reject(new qe(Ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.uc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Sd(t,i.Ki)}var r}),XO.apply(this,arguments)}function m5(n,e){const t=_t(n),i=t.ic.get(e);if(i&&i.Xu)return Dn().add(i.key);{let r=Dn();const s=t.ec.get(e);if(!s)return r;for(const u of s){const h=t.tc.get(u);r=r.unionWith(h.view.qu)}return r}}function g5(n,e){return JO.apply(this,arguments)}function JO(){return JO=(0,Le.Z)(function*(n,e){const t=_t(n),i=yield _S(t.localStore,e.query,!0),r=e.view.Ju(i);return t.isPrimaryClient&&YO(t,e.targetId,r.zu),r}),JO.apply(this,arguments)}function _5(n,e){return e1.apply(this,arguments)}function e1(){return e1=(0,Le.Z)(function*(n,e){const t=_t(n);return XB(t.localStore,e).then(i=>Sd(t,i))}),e1.apply(this,arguments)}function y5(n,e,t,i){return t1.apply(this,arguments)}function t1(){return t1=(0,Le.Z)(function*(n,e,t,i){const r=_t(n),s=yield function(u,h){const p=_t(u),y=_t(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",C=>y.yn(C,h).next(M=>M?p.localDocuments.getDocuments(C,M):Me.resolve(null)))}(r.localStore,e);var h;null!==s?("pending"===t?yield R_(r.remoteStore):"acknowledged"===t||"rejected"===t?(qO(r,e,i||null),KO(r,e),h=e,_t(_t(r.localStore).mutationQueue).In(h)):Tt(),yield Sd(r,s)):et("SyncEngine","Cannot apply mutation batch with id: "+e)}),t1.apply(this,arguments)}function n1(){return n1=(0,Le.Z)(function*(n,e){const t=_t(n);if(a1(t),l1(t),!0===e&&!0!==t.ac){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield wj(t,i.toArray());t.ac=!0,yield xO(t.remoteStore,!0);for(const s of r)wS(t.remoteStore,s)}else if(!1===e&&!1!==t.ac){const i=[];let r=Promise.resolve();t.ec.forEach((s,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(L_(t,u),A_(t.localStore,u,!0))),C0(t.remoteStore,u)}),yield r,yield wj(t,i),function(s){const u=_t(s);u.ic.forEach((h,p)=>{C0(u.remoteStore,p)}),u.rc.cs(),u.ic=new Map,u.sc=new Dr(ft.comparator)}(t),t.ac=!1,yield xO(t.remoteStore,!1)}}),n1.apply(this,arguments)}function wj(n,e,t){return r1.apply(this,arguments)}function r1(){return r1=(0,Le.Z)(function*(n,e,t){const i=_t(n),r=[],s=[];for(const u of e){let h;const p=i.ec.get(u);if(p&&0!==p.length){h=yield M_(i.localStore,Nl(p[0]));for(const y of p){const C=i.tc.get(y),M=yield g5(i,C);M.snapshot&&s.push(M.snapshot)}}else{const y=yield QB(i.localStore,u);h=yield M_(i.localStore,y),yield VO(i,Ej(y),u,!1)}r.push(h)}return i.Zu.Go(s),r}),r1.apply(this,arguments)}function Ej(n){return A2(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function b5(n){const e=_t(n);return _t(_t(e.localStore).persistence).Ri()}function w5(n,e,t,i){return s1.apply(this,arguments)}function s1(){return s1=(0,Le.Z)(function*(n,e,t,i){const r=_t(n);if(r.ac)return void et("SyncEngine","Ignoring unexpected query state notification.");const s=r.ec.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const u=yield XB(r.localStore,O2(s[0])),h=a0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Sd(r,u,h);break}case"rejected":yield A_(r.localStore,e,!0),L_(r,e,i);break;default:Tt()}}),s1.apply(this,arguments)}function E5(n,e,t){return o1.apply(this,arguments)}function o1(){return o1=(0,Le.Z)(function*(n,e,t){const i=a1(n);if(i.ac){for(const r of e){if(i.ec.has(r)){et("SyncEngine","Adding an already active target "+r);continue}const s=yield QB(i.localStore,r),u=yield M_(i.localStore,s);yield VO(i,Ej(s),u.targetId,!1),wS(i.remoteStore,u)}for(const r of t)i.ec.has(r)&&(yield A_(i.localStore,r,!1).then(()=>{C0(i.remoteStore,r),L_(i,r)}).catch(Uh))}}),o1.apply(this,arguments)}function a1(n){const e=_t(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c5.bind(null,e),e.Zu.Go=XG.bind(null,e.eventManager),e.Zu.lc=JG.bind(null,e.eventManager),e}function l1(n){const e=_t(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d5.bind(null,e),e}class Cj{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Le.Z)(function*(){t.wt=w0(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return KB(this.persistence,new GB,e.initialUser,this.wt)}_c(e){return new zB(mS.Ms,this.wt)}dc(e){return new nj}terminate(){var e=this;return(0,Le.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ij extends Cj{constructor(e,t,i){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Le.Z)(function*(){yield t().call(i,e),yield i.yc.initialize(i,e),yield l1(i.yc.syncEngine),yield R_(i.yc.remoteStore),yield i.persistence.ci(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return KB(this.persistence,new GB,e.initialUser,this.wt)}mc(e,t){return new hG(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const i=new K4(t,this.persistence);return new G4(e.asyncQueue,i)}_c(e){const t=nO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ma.withCacheSize(this.cacheSizeBytes):Ma.DEFAULT;return new tO(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,rj(),bS(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new nj}}class I5 extends Ij{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Le.Z)(function*(){yield t().call(i,e);const r=i.yc.syncEngine;i.sharedClientState instanceof dO&&(i.sharedClientState.syncEngine={kr:y5.bind(null,r),Or:w5.bind(null,r),Mr:E5.bind(null,r),Ri:b5.bind(null,r),Nr:_5.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.ci(function(){var s=(0,Le.Z)(function*(u){yield function v5(n,e){return n1.apply(this,arguments)}(i.yc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return s.apply(this,arguments)}}())})()}dc(e){const t=rj();if(!dO.V(t))throw new qe(Ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=nO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dO(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class c1{initialize(e,t){var i=this;return(0,Le.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>vj(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=p5.bind(null,i.syncEngine),yield xO(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new QG}createDatastore(e){const t=w0(e.databaseInfo.databaseId),i=new NG(e.databaseInfo);return new VG(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=h=>vj(this.syncEngine,h,0),u=ij.V()?new ij:new RG,new jG(t,i,r,s,u);var t,i,r,s,u}createSyncEngine(e,t){return function(i,r,s,u,h,p,y){const C=new s5(i,r,s,u,h,p);return y&&(C.ac=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Le.Z)(function*(t){const i=_t(t);et("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield k_(i),i.du.shutdown(),i._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Dj(n,e=10240){let t=0;return{read:()=>(0,Le.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Le.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class CS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class D5{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new Os,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,Le.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,Le.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,Le.Z)(function*(){const t=yield e.bc();if(null===t)return null;const i=e.Ac.decode(t),r=Number(i);isNaN(r)&&e.Pc(`length string (${i}) is not valid number`);const s=yield e.vc(r);return new e5(JSON.parse(s),t.length+r)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,Le.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}vc(e){var t=this;return(0,Le.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const i=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,Le.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class S5{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Le.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new qe(Ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Le.Z)(function*(s,u){const h=_t(s),p=d0(h.wt)+"/documents",y={documents:u.map(ee=>u0(h.wt,ee))},C=yield h.ao("BatchGetDocuments",p,y,u.length),M=new Map;C.forEach(ee=>{const re=function x8(n,e){return"found"in e?function(t,i){rn(!!i.found);const r=Iu(t,i.found.name),s=Ps(i.found.updateTime),u=new to({mapValue:{fields:i.found.fields}});return Ui.newFoundDocument(r,s,u)}(n,e):"missing"in e?function(t,i){rn(!!i.missing),rn(!!i.readTime);const r=Iu(t,i.missing),s=Ps(i.readTime);return Ui.newNoDocument(r,s)}(n,e):Tt()}(h.wt,ee);M.set(re.key.toString(),re)});const B=[];return u.forEach(ee=>{const re=M.get(ee.toString());rn(!!re),B.push(re)}),B}),function(s,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new I_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Le.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=ft.fromPath(r);e.mutations.push(new HR(s,e.precondition(s)))}),yield(i=(0,Le.Z)(function*(r,s){const u=_t(r),h=d0(u.wt)+"/documents",p={writes:s.map(y=>h0(u.wt,y))};yield u.ro("Commit",h,p)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Tt();t=Jt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new qe(Ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?mr.updateTime(t):mr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Jt.min()))throw new qe(Ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mr.updateTime(t)}return mr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class T5{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Dc=i.maxAttempts,this.So=new hO(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,Le.Z)(function*(){const t=new S5(e.datastore),i=e.xc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Nc(s)}))}).catch(r=>{e.Nc(r)})}))}xc(e){try{const t=this.updateFunction(e);return!Yb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!q2(t)}return!1}}class x5{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Rs.UNAUTHENTICATED,this.clientId=s2.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,Le.Z)(function*(h){et("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(et("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,Le.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new qe(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Le.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=P_(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function Sj(n,e){return u1.apply(this,arguments)}function u1(){return u1=(0,Le.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Le.Z)(function*(s){i.isEqual(s)||(yield qB(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),u1.apply(this,arguments)}function Tj(n,e){return d1.apply(this,arguments)}function d1(){return d1=(0,Le.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield h1(n);et("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>dj(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>dj(e.remoteStore,s)),n.onlineComponents=e}),d1.apply(this,arguments)}function h1(n){return f1.apply(this,arguments)}function f1(){return f1=(0,Le.Z)(function*(n){return n.offlineComponents||(et("FirestoreClient","Using default OfflineComponentProvider"),yield Sj(n,new Cj)),n.offlineComponents}),f1.apply(this,arguments)}function IS(n){return p1.apply(this,arguments)}function p1(){return p1=(0,Le.Z)(function*(n){return n.onlineComponents||(et("FirestoreClient","Using default OnlineComponentProvider"),yield Tj(n,new c1)),n.onlineComponents}),p1.apply(this,arguments)}function xj(n){return h1(n).then(e=>e.persistence)}function m1(n){return h1(n).then(e=>e.localStore)}function Mj(n){return IS(n).then(e=>e.remoteStore)}function g1(n){return IS(n).then(e=>e.syncEngine)}function V_(n){return _1.apply(this,arguments)}function _1(){return _1=(0,Le.Z)(function*(n){const e=yield IS(n),t=e.eventManager;return t.onListen=o5.bind(null,e.syncEngine),t.onUnlisten=a5.bind(null,e.syncEngine),t}),_1.apply(this,arguments)}function Aj(n,e,t={}){const i=new Os;return n.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return function(r,s,u,h,p){const y=new CS({next:M=>{s.enqueueAndForget(()=>OO(r,C));const B=M.docs.has(u);!B&&M.fromCache?p.reject(new qe(Ne.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&M.fromCache&&h&&"server"===h.source?p.reject(new qe(Ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(M)},error:M=>p.reject(M)}),C=new FO(v_(u.path),y,{includeMetadataChanges:!0,Du:!0});return kO(r,C)}(yield V_(n),n.asyncQueue,e,t,i)})),i.promise}function kj(n,e,t={}){const i=new Os;return n.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return function(r,s,u,h,p){const y=new CS({next:M=>{s.enqueueAndForget(()=>OO(r,C)),M.fromCache&&"server"===h.source?p.reject(new qe(Ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(M)},error:M=>p.reject(M)}),C=new FO(u,y,{includeMetadataChanges:!0,Du:!0});return kO(r,C)}(yield V_(n),n.asyncQueue,e,t,i)})),i.promise}const Rj=new Map;function y1(n,e,t){if(!t)throw new qe(Ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Oj(n,e,t,i){if(!0===e&&!0===i)throw new qe(Ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Pj(n){if(!ft.isDocumentKey(n))throw new qe(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Nj(n){if(ft.isDocumentKey(n))throw new qe(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function DS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Tt()}function Qn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new qe(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=DS(n);throw new qe(Ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Fj(n,e){if(e<=0)throw new qe(Ne.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Lj{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new qe(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new qe(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Oj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class I0{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lj({}),this._settingsFrozen=!1,e instanceof Cd?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new qe(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cd(r.options.projectId)}(e))}get app(){if(!this._app)throw new qe(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new qe(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lj(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new F4;switch(t.type){case"gapi":const i=t.client;return rn(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new j4(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new qe(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Rj.get(e);t&&(et("ComponentProvider","Removing Datastore"),Rj.delete(e),t.terminate())}(this),Promise.resolve()}}class Yi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Su(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yi(this.firestore,e,this._key)}}class To{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new To(this.firestore,e,this._query)}}class Su extends To{constructor(e,t,i){super(e,t,v_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yi(this.firestore,null,new ft(e))}withConverter(e){return new Su(this.firestore,e,this._path)}}function Vj(n,e,...t){if(n=(0,X.m9)(n),y1("collection","path",e),n instanceof I0){const i=si.fromString(e,...t);return Nj(i),new Su(n,null,i)}{if(!(n instanceof Yi||n instanceof Su))throw new qe(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(si.fromString(e,...t));return Nj(i),new Su(n.firestore,null,i)}}function SS(n,e,...t){if(n=(0,X.m9)(n),1===arguments.length&&(e=s2.I()),y1("doc","path",e),n instanceof I0){const i=si.fromString(e,...t);return Pj(i),new Yi(n,null,new ft(i))}{if(!(n instanceof Yi||n instanceof Su))throw new qe(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(si.fromString(e,...t));return Pj(i),new Yi(n.firestore,n instanceof Su?n.converter:null,new ft(i))}}function Bj(n,e){return n=(0,X.m9)(n),e=(0,X.m9)(e),(n instanceof Yi||n instanceof Su)&&(e instanceof Yi||e instanceof Su)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function jj(n,e){return n=(0,X.m9)(n),e=(0,X.m9)(e),n instanceof To&&e instanceof To&&n.firestore===e.firestore&&t0(n._query,e._query)&&n.converter===e.converter}class B5{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new hO(this,"async_queue_retry"),this.Kc=()=>{const t=bS();t&&et("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=bS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=bS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new Os;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,Le.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!Hh(t))throw t;et("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(i=>{throw this.Bc=i,this.Lc=!1,Qr("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Oc=t,t}enqueueAfterDelay(e,t,i){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const r=AO.createAndSchedule(this,e,t,i,s=>this.Wc(s));return this.$c.push(r),r}Gc(){this.Bc&&Tt()}verifyOperationInProgress(){}zc(){var e=this;return(0,Le.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function v1(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class j5{constructor(){this._progressObserver={},this._taskCompletionResolver=new Os,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class or extends I0{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new B5,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Uj(this),this._firestoreClient.terminate()}}function Jr(n){return n._firestoreClient||Uj(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Uj(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Z4(n._databaseId,s,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new x5(n._authCredentials,n._appCheckCredentials,n._queue,i)}function Hj(n,e,t){const i=new Os;return n.asyncQueue.enqueue((0,Le.Z)(function*(){try{yield Sj(n,t),yield Tj(n,e),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(u=s).name?u.code===Ne.FAILED_PRECONDITION||u.code===Ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw s;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var u})).then(()=>i.promise)}function $j(n){if(n._initialized||n._terminated)throw new qe(Ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Td{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new qe(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Tu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tu(_s.fromBase64String(e))}catch(t){throw new qe(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Tu(_s.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sm{constructor(e){this._methodName=e}}class TS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new qe(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new qe(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return En(this._lat,e._lat)||En(this._long,e._long)}}const Z5=/^__.*__$/;class Q5{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Dd(e,this.data,this.fieldMask,t,this.fieldTransforms):new C_(e,this.data,t,this.fieldTransforms)}}class zj{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Dd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Wj(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt()}}class xS{constructor(e,t,i,r,s,u){this.settings=e,this.databaseId=t,this.wt=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Xc(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new xS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:i,na:!1});return r.sa(e),r}ia(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:i,na:!1});return r.Xc(),r}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return kS(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(Wj(this.Zc)&&Z5.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class X5{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=i||w0(e)}aa(e,t,i,r=!1){return new xS({Zc:e,methodName:t,ca:i,path:Nr.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function om(n){const e=n._freezeSettings(),t=w0(n._databaseId);return new X5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function MS(n,e,t,i,r,s={}){const u=n.aa(s.merge||s.mergeFields?2:0,e,t,r);C1("Data must be an object, but it was:",u,i);const h=qj(i,u);let p,y;if(s.merge)p=new tl(u.fieldMask),y=u.fieldTransforms;else if(s.mergeFields){const C=[];for(const M of s.mergeFields){const B=I1(e,M,t);if(!u.contains(B))throw new qe(Ne.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);Zj(C,B)||C.push(B)}p=new tl(C),y=u.fieldTransforms.filter(M=>p.covers(M.field))}else p=null,y=u.fieldTransforms;return new Q5(new to(h),p,y)}class D0 extends sm{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof D0}}function Gj(n,e,t){return new xS({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class b1 extends sm{_toFieldTransform(e){return new n0(e.path,new w_)}isEqual(e){return e instanceof b1}}class J5 extends sm{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=Gj(this,e,!0),i=this.ha.map(s=>am(s,t)),r=new Yp(i);return new n0(e.path,r)}isEqual(e){return this===e}}class eK extends sm{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=Gj(this,e,!0),i=this.ha.map(s=>am(s,t)),r=new Zp(i);return new n0(e.path,r)}isEqual(e){return this===e}}class tK extends sm{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new E_(e.wt,L2(e.wt,this.la));return new n0(e.path,t)}isEqual(e){return this===e}}function w1(n,e,t,i){const r=n.aa(1,e,t);C1("Data must be an object, but it was:",r,i);const s=[],u=to.empty();zp(i,(p,y)=>{const C=AS(e,p,t);y=(0,X.m9)(y);const M=r.ia(C);if(y instanceof D0)s.push(C);else{const B=am(y,M);null!=B&&(s.push(C),u.set(C,B))}});const h=new tl(s);return new zj(u,h,r.fieldTransforms)}function E1(n,e,t,i,r,s){const u=n.aa(1,e,t),h=[I1(e,i,t)],p=[r];if(s.length%2!=0)throw new qe(Ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<s.length;B+=2)h.push(I1(e,s[B])),p.push(s[B+1]);const y=[],C=to.empty();for(let B=h.length-1;B>=0;--B)if(!Zj(y,h[B])){const ee=h[B];let re=p[B];re=(0,X.m9)(re);const ye=u.ia(ee);if(re instanceof D0)y.push(ee);else{const Te=am(re,ye);null!=Te&&(y.push(ee),C.set(ee,Te))}}const M=new tl(y);return new zj(C,M,u.fieldTransforms)}function Kj(n,e,t,i=!1){return am(t,n.aa(i?4:3,e))}function am(n,e){if(Yj(n=(0,X.m9)(n)))return C1("Unsupported field value:",e,n),qj(n,e);if(n instanceof sm)return function(t,i){if(!Wj(i.Zc))throw i.oa(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const u of t){let h=am(u,i.ra(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,X.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return L2(i.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=sr.fromDate(t);return{timestampValue:c0(i.wt,r)}}if(t instanceof sr){const r=new sr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:c0(i.wt,r)}}if(t instanceof TS)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Tu)return{bytesValue:rB(i.wt,t._byteString)};if(t instanceof Yi){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.oa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:$R(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.oa(`Unsupported field value: ${DS(t)}`)}(n,e)}function qj(n,e){const t={};return f2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zp(n,(i,r)=>{const s=am(r,e.ea(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function Yj(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof sr||n instanceof TS||n instanceof Tu||n instanceof Yi||n instanceof sm)}function C1(n,e,t){if(!Yj(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=DS(t);throw e.oa("an object"===i?n+" a custom object":n+" "+i)}var i}function I1(n,e,t){if((e=(0,X.m9)(e))instanceof Td)return e._internalPath;if("string"==typeof e)return AS(n,e);throw kS("Field path arguments must be of type string or ",n,!1,void 0,t)}const nK=new RegExp("[~\\*/\\[\\]]");function AS(n,e,t){if(e.search(nK)>=0)throw kS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Td(...e.split("."))._internalPath}catch{throw kS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kS(n,e,t,i,r){const s=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(s||u)&&(p+=" (found",s&&(p+=` in field ${i}`),u&&(p+=` in document ${r}`),p+=")"),new qe(Ne.INVALID_ARGUMENT,h+n+p)}function Zj(n,e){return n.some(t=>t.isEqual(e))}class S0{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new iK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(RS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class iK extends S0{data(){return super.data()}}function RS(n,e){return"string"==typeof e?AS(n,e):e instanceof Td?e._internalPath:e._delegate._internalPath}class lm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xd extends S0{constructor(e,t,i,r,s,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new T0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(RS("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class T0 extends xd{data(e={}){return super.data(e)}}class Jh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new lm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new T0(this._firestore,this._userDataWriter,i.key,i,new lm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new qe(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new T0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new lm(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new T0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new lm(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return 0!==u.type&&(p=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),1!==u.type&&(s=s.add(u.doc),y=s.indexOf(u.doc.key)),{type:rK(u.type),doc:h,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rK(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt()}}function Qj(n,e){return n instanceof xd&&e instanceof xd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Jh&&e instanceof Jh&&n._firestore===e._firestore&&jj(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Xj(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new qe(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class x0{}function ef(n,...e){for(const t of e)n=t._apply(n);return n}class sK extends x0{constructor(e,t,i){super(),this.fa=e,this.da=t,this._a=i,this.type="where"}_apply(e){const t=om(e.firestore),i=function(r,s,u,h,p,y,C){let M;if(p.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new qe(Ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){rU(C,y);const ee=[];for(const re of C)ee.push(iU(h,r,re));M={arrayValue:{values:ee}}}else M=iU(h,r,C)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||rU(C,y),M=Kj(u,"where",C,"in"===y||"not-in"===y);const B=no.create(p,y,M);return function(ee,re){if(re.ht()){const Te=VR(ee);if(null!==Te&&!Te.isEqual(re.field))throw new qe(Ne.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Te.toString()}' and '${re.field.toString()}'`);const it=LR(ee);null!==it&&sU(0,re.field,it)}const ye=function(Te,it){for(const pt of Te.filters)if(it.indexOf(pt.op)>=0)return pt.op;return null}(ee,function(Te){switch(Te){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(re.op));if(null!==ye)throw new qe(Ne.INVALID_ARGUMENT,ye===re.op?`Invalid query. You cannot use more than one '${re.op.toString()}' filter.`:`Invalid query. You cannot use '${re.op.toString()}' filters with '${ye.toString()}' filters.`)}(r,B),B}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new To(e.firestore,e.converter,function(r,s){const u=r.filters.concat([s]);return new Id(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class aK extends x0{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new qe(Ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new qe(Ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new y_(r,s);return function(h,p){if(null===LR(h)){const y=VR(h);null!==y&&sU(0,y,p.field)}}(i,u),u}(e._query,this.fa,this.wa);return new To(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Id(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class Jj extends x0{constructor(e,t,i){super(),this.type=e,this.ma=t,this.ga=i}_apply(e){return new To(e.firestore,e.converter,k2(e._query,this.ma,this.ga))}}class eU extends x0{constructor(e,t,i){super(),this.type=e,this.ya=t,this.pa=i}_apply(e){const t=nU(e,this.type,this.ya,this.pa);return new To(e.firestore,e.converter,(r=t,new Id((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class tU extends x0{constructor(e,t,i){super(),this.type=e,this.ya=t,this.pa=i}_apply(e){const t=nU(e,this.type,this.ya,this.pa);return new To(e.firestore,e.converter,(r=t,new Id((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function nU(n,e,t,i){if(t[0]=(0,X.m9)(t[0]),t[0]instanceof S0)return function(r,s,u,h,p){if(!h)throw new qe(Ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const y=[];for(const C of b_(r))if(C.field.isKeyField())y.push(Kp(s,h.key));else{const M=h.data.field(C.field);if(PR(M))throw new qe(Ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const B=C.field.canonicalString();throw new qe(Ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}y.push(M)}return new Gh(y,p)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=om(n.firestore);return function(s,u,h,p,y,C){const M=s.explicitOrderBy;if(y.length>M.length)throw new qe(Ne.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let ee=0;ee<y.length;ee++){const re=y[ee];if(M[ee].field.isKeyField()){if("string"!=typeof re)throw new qe(Ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof re}`);if(!BR(s)&&-1!==re.indexOf("/"))throw new qe(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${re}' contains a slash.`);const ye=s.path.child(si.fromString(re));if(!ft.isDocumentKey(ye))throw new qe(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${ye}' is not because it contains an odd number of segments.`);const Te=new ft(ye);B.push(Kp(u,Te))}else{const ye=Kj(h,p,re);B.push(ye)}}return new Gh(B,C)}(n._query,n.firestore._databaseId,r,e,t,i)}}function iU(n,e,t){if("string"==typeof(t=(0,X.m9)(t))){if(""===t)throw new qe(Ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BR(e)&&-1!==t.indexOf("/"))throw new qe(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(si.fromString(t));if(!ft.isDocumentKey(i))throw new qe(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Kp(n,new ft(i))}if(t instanceof Yi)return Kp(n,t._key);throw new qe(Ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${DS(t)}.`)}function rU(n,e){if(!Array.isArray(n)||0===n.length)throw new qe(Ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new qe(Ne.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function sU(n,e,t){if(!t.isEqual(e))throw new qe(Ne.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const mK={maxAttempts:5};class D1{convertValue(e,t="none"){switch(Gp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Tt()}}convertObject(e,t){const i={};return zp(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new TS(Sr(e.latitude),Sr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=m2(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(qb(e));default:return null}}convertTimestamp(e){const t=$h(e);return new sr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=si.fromString(e);rn(pB(i));const r=new Cd(i.get(1),i.get(3)),s=new ft(i.popFirst(5));return r.isEqual(t)||Qr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function OS(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class gK extends D1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yi(this.firestore,null,t)}}class oU{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=om(e)}set(e,t,i){this._verifyNotCommitted();const r=tf(e,this._firestore),s=OS(r.converter,t,i),u=MS(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,mr.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=tf(e,this._firestore);let u;return u="string"==typeof(t=(0,X.m9)(t))||t instanceof Td?E1(this._dataReader,"WriteBatch.update",s._key,t,i,r):w1(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(u.toMutation(s._key,mr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=tf(e,this._firestore);return this._mutations=this._mutations.concat(new I_(t._key,mr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qe(Ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tf(n,e){if((n=(0,X.m9)(n)).firestore!==e)throw new qe(Ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class cm extends D1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yi(this.firestore,null,t)}}function aU(n,e,t){n=Qn(n,Yi);const i=Qn(n.firestore,or),r=OS(n.converter,e,t);return B_(i,[MS(om(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,mr.none())])}function lU(n,e,t,...i){n=Qn(n,Yi);const r=Qn(n.firestore,or),s=om(r);let u;return u="string"==typeof(e=(0,X.m9)(e))||e instanceof Td?E1(s,"updateDoc",n._key,e,t,i):w1(s,"updateDoc",n._key,e),B_(r,[u.toMutation(n._key,mr.exists(!0))])}function cU(n,...e){var t,i,r;n=(0,X.m9)(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||v1(e[u])||(s=e[u],u++);const h={includeMetadataChanges:s.includeMetadataChanges};if(v1(e[u])){const M=e[u];e[u]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[u+1]=null===(i=M.error)||void 0===i?void 0:i.bind(M),e[u+2]=null===(r=M.complete)||void 0===r?void 0:r.bind(M)}let p,y,C;if(n instanceof Yi)y=Qn(n.firestore,or),C=v_(n._key.path),p={next:M=>{e[u]&&e[u](S1(y,n,M))},error:e[u+1],complete:e[u+2]};else{const M=Qn(n,To);y=Qn(M.firestore,or),C=M._query;const B=new cm(y);p={next:ee=>{e[u]&&e[u](new Jh(y,B,M,ee))},error:e[u+1],complete:e[u+2]},Xj(n._query)}return function(M,B,ee,re){const ye=new CS(re),Te=new FO(B,ye,ee);return M.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return kO(yield V_(M),Te)})),()=>{ye.Tc(),M.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return OO(yield V_(M),Te)}))}}(Jr(y),C,h,p)}function B_(n,e){return function(t,i){const r=new Os;return t.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return function l5(n,e,t){return UO.apply(this,arguments)}(yield g1(t),i,r)})),r.promise}(Jr(n),e)}function S1(n,e,t){const i=t.docs.get(e._key),r=new cm(n);return new xd(n,r,e._key,i,new lm(t.hasPendingWrites,t.fromCache),e.converter)}class SK extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=om(e)}get(e){const t=tf(e,this._firestore),i=new gK(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return Tt();const s=r[0];if(s.isFoundDocument())return new S0(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new S0(this._firestore,i,t._key,null,t.converter);throw Tt()})}set(e,t,i){const r=tf(e,this._firestore),s=OS(r.converter,t,i),u=MS(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const s=tf(e,this._firestore);let u;return u="string"==typeof(t=(0,X.m9)(t))||t instanceof Td?E1(this._dataReader,"Transaction.update",s._key,t,i,r):w1(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,u),this}delete(e){const t=tf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=tf(e,this._firestore),i=new cm(this._firestore);return super.get(e).then(r=>new xd(this._firestore,i,t._key,r._document,new lm(!1,!1),t.converter))}}function T1(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new qe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function dU(){if(typeof Uint8Array>"u")throw new qe("unimplemented","Uint8Arrays are not available in this environment.")}function hU(){if(!function q4(){return typeof atob<"u"}())throw new qe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){p_=xs.SDK_VERSION,(0,xs._registerComponent)(new Ko.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),s=new or(r,new V4(t.getProvider("auth-internal")),new U4(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC")),(0,xs.registerVersion)(t2,"3.4.13",n),(0,xs.registerVersion)(t2,"3.4.13","esm2017")}();class M0{constructor(e){this._delegate=e}static fromBase64String(e){return hU(),new M0(Tu.fromBase64String(e))}static fromUint8Array(e){return dU(),new M0(Tu.fromUint8Array(e))}toBase64(){return hU(),this._delegate.toBase64()}toUint8Array(){return dU(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function x1(n){return function NK(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class FK{enableIndexedDbPersistence(e,t){return function H5(n,e){$j(n=Qn(n,or));const t=Jr(n),i=n._freezeSettings(),r=new c1;return Hj(t,r,new Ij(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function $5(n){$j(n=Qn(n,or));const e=Jr(n),t=n._freezeSettings(),i=new c1;return Hj(e,i,new I5(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function z5(n){if(n._initialized&&!n._terminated)throw new qe(Ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Os;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Le.Z)(function*(){try{yield(t=(0,Le.Z)(function*(i){if(!kc.V())return Promise.resolve();const r=i+"main";yield kc.delete(r)}),function(i){return t.apply(this,arguments)})(nO(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class fU{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Cd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&zb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function L5(n,e,t,i={}){var r;const s=(n=Qn(n,I0))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&zb("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=Rs.MOCK_USER;else{u=(0,X.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new qe(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Rs(p)}n._authCredentials=new L4(new n2(u,h))}}(this._delegate,e,t,i)}enableNetwork(){return function G5(n){return function M5(n){return n.asyncQueue.enqueue((0,Le.Z)(function*(){const e=yield xj(n),t=yield Mj(n);return e.setNetworkEnabled(!0),function(i){const r=_t(i);return r.lu.delete(0),E0(r)}(t)}))}(Jr(n=Qn(n,or)))}(this._delegate)}disableNetwork(){return function K5(n){return function A5(n){return n.asyncQueue.enqueue((0,Le.Z)(function*(){const e=yield xj(n),t=yield Mj(n);return e.setNetworkEnabled(!1),(i=(0,Le.Z)(function*(r){const s=_t(r);s.lu.add(0),yield k_(s),s._u.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Jr(n=Qn(n,or)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,Oj("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function W5(n){return function(e){const t=new Os;return e.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return function h5(n,e){return GO.apply(this,arguments)}(yield g1(e),t)})),t.promise}(Jr(n=Qn(n,or)))}(this._delegate)}onSnapshotsInSync(e){return function DK(n,e){return function O5(n,e){const t=new CS(e);return n.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return i=yield V_(n),r=t,_t(i).Tu.add(r),void r.next();var i,r})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return i=yield V_(n),r=t,void _t(i).Tu.delete(r);var i,r}))}}(Jr(n=Qn(n,or)),v1(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new qe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new j_(this,Vj(this._delegate,e))}catch(t){throw ta(t,"collection()","Firestore.collection()")}}doc(e){try{return new Fl(this,SS(this._delegate,e))}catch(t){throw ta(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new na(this,function V5(n,e){if(n=Qn(n,I0),y1("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new qe(Ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new To(n,null,(t=e,new Id(si.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ta(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function TK(n,e,t){n=Qn(n,or);const i=Object.assign(Object.assign({},mK),t);return function(r){if(r.maxAttempts<1)throw new qe(Ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function P5(n,e,t){const i=new Os;return n.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){const r=yield(s=n,IS(s).then(u=>u.datastore));var s;new T5(n.asyncQueue,r,t,e,i).run()})),i.promise}(Jr(n),r=>e(new SK(n,r)),i)}(this._delegate,t=>e(new pU(this,t)))}batch(){return Jr(this._delegate),new mU(new oU(this._delegate,e=>B_(this._delegate,e)))}loadBundle(e){return function q5(n,e){const t=Jr(n=Qn(n,or)),i=new j5;return function N5(n,e,t,i){const r=function(s,u){let h;return h="string"==typeof s?(new TextEncoder).encode(s):s,p=function(p,y){if(p instanceof Uint8Array)return Dj(p,y);if(p instanceof ArrayBuffer)return Dj(new Uint8Array(p),y);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new D5(p,u);var p}(t,w0(e));n.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){!function C5(n,e,t){const i=_t(n);var r;(r=(0,Le.Z)(function*(s,u,h){try{const p=yield u.getMetadata();if(yield function(B,ee){const re=_t(B),ye=Ps(ee.createTime);return re.persistence.runTransaction("hasNewerBundle","readonly",Te=>re.Ds.getBundleMetadata(Te,ee.id)).then(Te=>!!Te&&Te.createTime.compareTo(ye)>=0)}(s.localStore,p))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(B=p).totalDocuments,bytesLoaded:B.totalBytes,totalDocuments:B.totalDocuments,totalBytes:B.totalBytes}),Promise.resolve(new Set);h._updateProgress(pj(p));const y=new t5(p,s.localStore,u.wt);let C=yield u.fc();for(;C;){const B=yield y.Nu(C);B&&h._updateProgress(B),C=yield u.fc()}const M=yield y.complete();return yield Sd(s,M.Mu,void 0),yield function(B,ee){const re=_t(B);return re.persistence.runTransaction("Save bundle","readwrite",ye=>re.Ds.saveBundleMetadata(ye,ee))}(s.localStore,p),h._completeWith(M.progress),Promise.resolve(M.Ou)}catch(p){return zb("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}var B}),function(s,u,h){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield g1(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Y5(n,e){return function F5(n,e){return n.asyncQueue.enqueue((0,Le.Z)(function*(){return function(t,i){const r=_t(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ds.getNamedQuery(s,i))}(yield m1(n),e)}))}(Jr(n=Qn(n,or)),e).then(t=>t?new To(n,null,t.query):null)}(this._delegate,e).then(t=>t?new na(this,t):null)}}class PS extends D1{constructor(e){super(),this.firestore=e}convertBytes(e){return new M0(new Tu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Fl.forKey(t,this.firestore,null)}}class pU{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new PS(e)}get(e){const t=dm(e);return this._delegate.get(t).then(i=>new A0(this._firestore,new xd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=dm(e);return i?(T1("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=dm(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=dm(e);return this._delegate.delete(t),this}}class mU{constructor(e){this._delegate=e}set(e,t,i){const r=dm(e);return i?(T1("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=dm(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=dm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class um{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new T0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new k0(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=um.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new um(e,new PS(e),t),r.set(t,s)),s}}um.INSTANCES=new WeakMap;class Fl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new PS(e)}static forPath(e,t,i){if(e.length%2!=0)throw new qe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Fl(t,new Yi(t._delegate,i,new ft(e)))}static forKey(e,t,i){return new Fl(t,new Yi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new j_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new j_(this.firestore,Vj(this._delegate,e))}catch(t){throw ta(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,X.m9)(e))instanceof Yi&&Bj(this._delegate,e)}set(e,t){t=T1("DocumentReference.set",t);try{return t?aU(this._delegate,e,t):aU(this._delegate,e)}catch(i){throw ta(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?lU(this._delegate,e):lU(this._delegate,e,t,...i)}catch(r){throw ta(r,"updateDoc()","DocumentReference.update()")}}delete(){return function CK(n){return B_(Qn(n.firestore,or),[new I_(n._key,mr.none())])}(this._delegate)}onSnapshot(...e){const t=gU(e),i=_U(e,r=>new A0(this.firestore,new xd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return cU(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function yK(n){n=Qn(n,Yi);const e=Qn(n.firestore,or),t=Jr(e),i=new cm(e);return function k5(n,e){const t=new Os;return n.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return(i=(0,Le.Z)(function*(r,s,u){try{const h=yield function(p,y){const C=_t(p);return C.persistence.runTransaction("read document","readonly",M=>C.localDocuments.getDocument(M,y))}(r,s);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new qe(Ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=P_(h,`Failed to get document '${s} from cache`);u.reject(p)}}),function(r,s,u){return i.apply(this,arguments)})(yield m1(n),e,t);var i})),t.promise}(t,n._key).then(r=>new xd(e,i,n._key,r,new lm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function vK(n){n=Qn(n,Yi);const e=Qn(n.firestore,or);return Aj(Jr(e),n._key,{source:"server"}).then(t=>S1(e,n,t))}(this._delegate):function _K(n){n=Qn(n,Yi);const e=Qn(n.firestore,or);return Aj(Jr(e),n._key).then(t=>S1(e,n,t))}(this._delegate),t.then(i=>new A0(this.firestore,new xd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Fl(this.firestore,this._delegate.withConverter(e?um.getInstance(this.firestore,e):null))}}function ta(n,e,t){return n.message=n.message.replace(e,t),n}function gU(n){for(const e of n)if("object"==typeof e&&!x1(e))return e;return{}}function _U(n,e){var t,i;let r;return r=x1(n[0])?n[0]:x1(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class A0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Fl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Qj(this._delegate,e._delegate)}}class k0 extends A0{data(e){const t=this._delegate.data(e);return function N4(n,e){n||Tt()}(void 0!==t),t}}class na{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new PS(e)}where(e,t,i){try{return new na(this.firestore,ef(this._delegate,function oK(n,e,t){const i=e,r=RS("where",n);return new sK(r,i,t)}(e,t,i)))}catch(r){throw ta(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new na(this.firestore,ef(this._delegate,function lK(n,e="asc"){const t=e,i=RS("orderBy",n);return new aK(i,t)}(e,t)))}catch(i){throw ta(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new na(this.firestore,ef(this._delegate,function cK(n){return Fj("limit",n),new Jj("limit",n,"F")}(e)))}catch(t){throw ta(t,"limit()","Query.limit()")}}limitToLast(e){try{return new na(this.firestore,ef(this._delegate,function uK(n){return Fj("limitToLast",n),new Jj("limitToLast",n,"L")}(e)))}catch(t){throw ta(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new na(this.firestore,ef(this._delegate,function dK(...n){return new eU("startAt",n,!0)}(...e)))}catch(t){throw ta(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new na(this.firestore,ef(this._delegate,function hK(...n){return new eU("startAfter",n,!1)}(...e)))}catch(t){throw ta(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new na(this.firestore,ef(this._delegate,function fK(...n){return new tU("endBefore",n,!1)}(...e)))}catch(t){throw ta(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new na(this.firestore,ef(this._delegate,function pK(...n){return new tU("endAt",n,!0)}(...e)))}catch(t){throw ta(t,"endAt()","Query.endAt()")}}isEqual(e){return jj(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function wK(n){n=Qn(n,To);const e=Qn(n.firestore,or),t=Jr(e),i=new cm(e);return function R5(n,e){const t=new Os;return n.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return(i=(0,Le.Z)(function*(r,s,u){try{const h=yield _S(r,s,!0),p=new _j(s,h.ji),y=p.Ku(h.documents),C=p.applyChanges(y,!1);u.resolve(C.snapshot)}catch(h){const p=P_(h,`Failed to execute query '${s} against cache`);u.reject(p)}}),function(r,s,u){return i.apply(this,arguments)})(yield m1(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Jh(e,i,n,r))}(this._delegate):"server"===e?.source?function EK(n){n=Qn(n,To);const e=Qn(n.firestore,or),t=Jr(e),i=new cm(e);return kj(t,n._query,{source:"server"}).then(r=>new Jh(e,i,n,r))}(this._delegate):function bK(n){n=Qn(n,To);const e=Qn(n.firestore,or),t=Jr(e),i=new cm(e);return Xj(n._query),kj(t,n._query).then(r=>new Jh(e,i,n,r))}(this._delegate),t.then(i=>new M1(this.firestore,new Jh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=gU(e),i=_U(e,r=>new M1(this.firestore,new Jh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return cU(this._delegate,t,i)}withConverter(e){return new na(this.firestore,this._delegate.withConverter(e?um.getInstance(this.firestore,e):null))}}class VK{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new k0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class M1{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new na(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new k0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new VK(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new k0(this._firestore,i))})}isEqual(e){return Qj(this._delegate,e._delegate)}}class j_ extends na{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Fl(this.firestore,e):null}doc(e){try{return new Fl(this.firestore,void 0===e?SS(this._delegate):SS(this._delegate,e))}catch(t){throw ta(t,"doc()","CollectionReference.doc()")}}add(e){return function IK(n,e){const t=Qn(n.firestore,or),i=SS(n),r=OS(n.converter,e);return B_(t,[MS(om(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,mr.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Fl(this.firestore,t))}isEqual(e){return Bj(this._delegate,e._delegate)}withConverter(e){return new j_(this.firestore,this._delegate.withConverter(e?um.getInstance(this.firestore,e):null))}}function dm(n){return Qn(n,Yi)}class A1{constructor(...e){this._delegate=new Td(...e)}static documentId(){return new A1(Nr.keyField().canonicalString())}isEqual(e){return(e=(0,X.m9)(e))instanceof Td&&this._delegate._internalPath.isEqual(e._internalPath)}}class hm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function MK(){return new b1("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new hm(e)}static delete(){const e=function xK(){return new D0("deleteField")}();return e._methodName="FieldValue.delete",new hm(e)}static arrayUnion(...e){const t=function AK(...n){return new J5("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new hm(t)}static arrayRemove(...e){const t=function kK(...n){return new eK("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new hm(t)}static increment(e){const t=function RK(n){return new tK("increment",n)}(e);return t._methodName="FieldValue.increment",new hm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const BK={Firestore:fU,GeoPoint:TS,Timestamp:sr,Blob:M0,Transaction:pU,WriteBatch:mU,DocumentReference:Fl,DocumentSnapshot:A0,Query:na,QueryDocumentSnapshot:k0,QuerySnapshot:M1,CollectionReference:j_,FieldPath:A1,FieldValue:hm,setLogLevel:function LK(n){!function P4(n){jh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function yU(n,e){return function HK(n,e=DD.z){return new Ni.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function k1(n,e){return yU(n,e).pipe((0,Ze.U)(t=>({payload:t,type:"query"})))}function NS(n,e){return k1(n,e).pipe((0,Mn.O)(void 0),(0,wb.G)(),(0,Ze.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const p=r.find(C=>C.doc.ref.isEqual(u.ref)),y=t?.payload.docs.find(C=>C.ref.isEqual(u.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(u.metadata)||!p&&y&&JSON.stringify(y.metadata)===JSON.stringify(u.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),s}))}function vU(n,e,t){return NS(n,t).pipe((0,vr.R)((i,r)=>function zK(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function WK(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return R1(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return R1(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return R1(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),(0,LE.x)(),(0,Ze.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function R1(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function bU(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function UK(n){(function jK(n,e){n.INTERNAL.registerComponent(new Ko.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},BK)))})(n,(e,t)=>new fU(e,t,new FK)),n.registerVersion("@firebase/firestore-compat","0.1.22")}(ps.Z);class wU{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=NS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ze.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe((0,Mn.O)(void 0),(0,wb.G)(),(0,pn.h)(([i,r])=>r.length>0||!i),(0,Ze.U)(([i,r])=>r),Qt.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,vr.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=bU(e);return vU(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qt.iC)}valueChanges(e={}){return k1(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ze.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Qt.iC)}get(e){return(0,at.D)(this.query.get(e)).pipe(Qt.iC)}add(e){return this.ref.add(e)}doc(e){return new EU(this.ref.doc(e),this.afs)}}class EU{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=DU(i,t);return new wU(r,s,this.afs)}snapshotChanges(){return function $K(n,e){return yU(n,e).pipe((0,Mn.O)(void 0),(0,wb.G)(),(0,Ze.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Qt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ze.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,at.D)(this.ref.get(e)).pipe(Qt.iC)}}class GK{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?NS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ze.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,pn.h)(t=>t.length>0),Qt.iC):NS(this.query,this.afs.schedulers.outsideAngular).pipe(Qt.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,vr.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=bU(e);return vU(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qt.iC)}valueChanges(e={}){return k1(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ze.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Qt.iC)}get(e){return(0,at.D)(this.query.get(e)).pipe(Qt.iC)}}const CU=new l.InjectionToken("angularfire2.enableFirestorePersistence"),IU=new l.InjectionToken("angularfire2.firestore.persistenceSettings"),KK=new l.InjectionToken("angularfire2.firestore.settings"),qK=new l.InjectionToken("angularfire2.firestore.use-emulator");function DU(n,e=(t=>t)){return{query:e(n),ref:n}}let YK=(()=>{class n{constructor(t,i,r,s,u,h,p,y,C,M,B,ee,re,ye,Te,it,pt){this.schedulers=p;const yt=(0,Cr.on)(t,h,i),mt=C;M&&Uf(yt,h,B,re,ye,Te,ee,it),[this.firestore,this.persistenceEnabled$]=(0,Cr.cc)(`${yt.name}.firestore`,"AngularFirestore",yt.name,()=>{const en=h.runOutsideAngular(()=>yt.firestore());if(s&&en.settings(s),mt&&en.useEmulator(...mt),r&&!(0,D.isPlatformServer)(u)){const tn=()=>{try{return(0,at.D)(en.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(qn){return typeof console<"u"&&console.warn(qn),(0,Ke.of)(!1)}};return[en,h.runOutsideAngular(tn)]}return[en,(0,Ke.of)(!1)]},[s,mt,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:u}=DU(r,i),h=this.schedulers.ngZone.run(()=>s);return new wU(h,u,this)}collectionGroup(t,i){const r=i||(u=>u),s=this.firestore.collectionGroup(t);return new GK(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new EU(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(Cr.Dh),l.\u0275\u0275inject(Cr.xv,8),l.\u0275\u0275inject(CU,8),l.\u0275\u0275inject(KK,8),l.\u0275\u0275inject(l.PLATFORM_ID),l.\u0275\u0275inject(l.NgZone),l.\u0275\u0275inject(Qt.HU),l.\u0275\u0275inject(IU,8),l.\u0275\u0275inject(qK,8),l.\u0275\u0275inject(su,8),l.\u0275\u0275inject(nE,8),l.\u0275\u0275inject(ch,8),l.\u0275\u0275inject(Ny,8),l.\u0275\u0275inject(sg,8),l.\u0275\u0275inject(og,8),l.\u0275\u0275inject(ag,8),l.\u0275\u0275inject(oh,8))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ZK=(()=>{class n{constructor(){jf.Z.registerVersion("angularfire",Qt.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:CU,useValue:!0},{provide:IU,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({providers:[YK]}),n})();var QK=k(7168),XK=k(9403);const SU="@firebase/database";let O1="";function xU(n){O1=n}class JK{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,X.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,X.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class e6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,X.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const MU=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new JK(e)}}catch{}return new e6},fm=MU("localStorage"),P1=MU("sessionStorage"),U_=new bo.Yd("@firebase/database"),AU=function(){let n=1;return function(){return n++}}(),kU=function(n){const e=(0,X.dS)(n),t=new X.gQ;t.update(e);const i=t.digest();return X.US.encodeByteArray(i)},R0=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=R0.apply(null,i):e+="object"==typeof i?(0,X.Pz)(i):i,e+=" "}return e};let pm=null,RU=!0;const OU=function(n,e){(0,X.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(U_.logLevel=bo.in.VERBOSE,pm=U_.log.bind(U_),e&&P1.set("logging_enabled",!0)):"function"==typeof n?pm=n:(pm=null,P1.remove("logging_enabled"))},Ls=function(...n){if(!0===RU&&(RU=!1,null===pm&&!0===P1.get("logging_enabled")&&OU(!0)),pm){const e=R0.apply(null,n);pm(e)}},O0=function(n){return function(...e){Ls(n,...e)}},N1=function(...n){const e="FIREBASE INTERNAL ERROR: "+R0(...n);U_.error(e)},xu=function(...n){const e=`FIREBASE FATAL ERROR: ${R0(...n)}`;throw U_.error(e),new Error(e)},xo=function(...n){const e="FIREBASE WARNING: "+R0(...n);U_.warn(e)},FS=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Md="[MIN_NAME]",Mu="[MAX_NAME]",mm=function(n,e){if(n===e)return 0;if(n===Md||e===Mu)return-1;if(e===Md||n===Mu)return 1;{const t=LS(n),i=LS(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},r6=function(n,e){return n===e?0:n<e?-1:1},P0=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,X.Pz)(e))},F1=function(n){if("object"!=typeof n||null===n)return(0,X.Pz)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,X.Pz)(e[i]),t+=":",t+=F1(n[e[i]]);return t+="}",t},PU=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Vs(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const NU=function(n){(0,X.hu)(!FS(n),"Invalid JSON number");const i=1023;let r,s,u,h,p;0===n?(s=0,u=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=h+i,u=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,u=Math.round(n/Math.pow(2,-1074))));const y=[];for(p=52;p;p-=1)y.push(u%2?1:0),u=Math.floor(u/2);for(p=11;p;p-=1)y.push(s%2?1:0),s=Math.floor(s/2);y.push(r?1:0),y.reverse();const C=y.join("");let M="";for(p=0;p<64;p+=8){let B=parseInt(C.substr(p,8),2).toString(16);1===B.length&&(B="0"+B),M+=B}return M.toLowerCase()},l6=new RegExp("^-?(0*)\\d{1,10}$"),FU=-2147483648,L1=2147483647,LS=function(n){if(l6.test(n)){const e=Number(n);if(e>=FU&&e<=L1)return e}return null},H_=function(n){try{n()}catch(e){setTimeout(()=>{throw xo("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},N0=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class u6{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){xo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class d6{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Ls("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xo(e)}}let F0=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const UU=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,zU="websocket",WU="long_polling";class B1{constructor(e,t,i,r,s=!1,u="",h=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fm.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fm.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function GU(n,e,t){let i;if((0,X.hu)("string"==typeof e,"typeof type must == string"),(0,X.hu)("object"==typeof t,"typeof params must == object"),e===zU)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==WU)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function h6(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Vs(t,(s,u)=>{r.push(s+"="+u)}),i+r.join("&")}class f6{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,X.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,X.p$)(this.counters_)}}const j1={},U1={};function H1(n){const e=n.toString();return j1[e]||(j1[e]=new f6),j1[e]}class m6{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&H_(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class nf{constructor(e,t,i,r,s,u,h){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=O0(e),this.stats_=H1(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),GU(t,WU,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new m6(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,X.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $1((...s)=>{const[u,h,p,y,C]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=h,this.password=p;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[u,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&UU.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){nf.forceAllow_=!0}static forceDisallow(){nf.forceDisallow_=!0}static isAvailable(){return!((0,X.Yr)()||!nf.forceAllow_&&(nf.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,X.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,X.h$)(t),r=PU(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,X.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,X.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class $1{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,X.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=AU(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=$1.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){Ls("frame writing exception"),h.stack&&Ls(h.stack),Ls(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ls("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const u=this.pendingSegs.shift();i=i+"&seg"+r+"="+u.seg+"&ts"+r+"="+u.ts+"&d"+r+"="+u.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,X.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Ls("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let BS=null;typeof MozWebSocket<"u"?BS=MozWebSocket:typeof WebSocket<"u"&&(BS=WebSocket);let $_=(()=>{class n{constructor(t,i,r,s,u,h,p){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=O0(this.connId),this.stats_=H1(i),this.connURL=n.connectionURL_(i,h,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,u){const h={v:"5"};return!(0,X.Yr)()&&typeof location<"u"&&location.hostname&&UU.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),s&&(h.ac=s),u&&(h.p=u),GU(t,zU,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fm.set("previous_websocket_failure",!0);try{let r;if((0,X.Yr)()){r={headers:{"User-Agent":`Firebase/5/${O1}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const u=process.env,h=0===this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;h&&(r.proxy={origin:h})}this.mySock=new BS(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==BS&&!n.forceDisallow_}static previouslyFailed(){return fm.isInMemoryStorage||!0===fm.get("previous_websocket_failure")}markConnectionHealthy(){fm.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,X.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,X.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,X.Pz)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=PU(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),JU=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[nf,$_]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=$_&&$_.isAvailable();let r=i&&!$_.previouslyFailed();if(t.webSocketOnly&&(i||xo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[$_];else{const s=this.transports_=[];for(const u of n.ALL_TRANSPORTS)u&&u.isAvailable()&&s.push(u);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class oH{constructor(e,t,i,r,s,u,h,p,y,C){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=p,this.onKill_=y,this.lastSessionId=C,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=O0("c:"+this.id+":"),this.transportManager_=new JU(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=N0(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=P0("t",e),i=P0("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=P0("t",e),i=P0("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=P0("t",e);if("d"in e){const i=e.d;if("h"===t)this.onHandshake_(i);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?N1("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):N1("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&xo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),N0(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):N0(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class aH{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class lH{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,X.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,X.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class jS extends lH{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,X.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new jS}getInitialEvent(e){return(0,X.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Ii{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function hi(){return new Ii("")}function Pn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function rf(n){return n.pieces_.length-n.pieceNum_}function Vi(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ii(n.pieces_,e)}function W1(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function L0(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function dH(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ii(e,0)}function ar(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Ii)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Ii(t,0)}function Nn(n){return n.pieceNum_>=n.pieces_.length}function ia(n,e){const t=Pn(n),i=Pn(e);if(null===t)return e;if(t===i)return ia(Vi(n),Vi(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function L6(n,e){const t=L0(n,0),i=L0(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=mm(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function G1(n,e){if(rf(n)!==rf(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Ll(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(rf(n)>rf(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class V6{constructor(e,t){this.errorPrefix_=t,this.parts_=L0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,X.ug)(this.parts_[i]);hH(this)}}function hH(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+gm(n))}function gm(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class K1 extends lH{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new K1}getInitialEvent(e){return(0,X.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const V0=1e3;let HS,_m=(()=>{class n extends aH{constructor(t,i,r,s,u,h,p,y){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=O0("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=V0,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,X.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");K1.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&jS.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,u={r:s,a:t,b:i};this.log_((0,X.Pz)(u)),(0,X.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new X.BH,r={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:h=>{const p=h.d;"ok"===h.s?i.resolve(p):i.reject(p)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const u=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),(0,X.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,X.hu)(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(h).set(u,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const u={p:r};t.tag&&(u.q=i._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest("q",u,p=>{const y=p.d,C=p.s;n.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",p),"ok"!==C&&this.removeListen_(r,s),t.onComplete&&t.onComplete(C,y))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,X.r3)(t,"w")){const r=(0,X.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();xo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,X.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,X.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const u=s.s,h=s.d||"error";this.authToken_===t&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,X.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const u={p:t};s&&(u.q=r,u.t=s),this.sendRequest("n",u)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const u={p:i,d:r};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,u){this.initConnection_();const h={p:i,d:r};void 0!==u&&(h.h=u),this.outstandingPuts_.push({action:t,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(u.s,u.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,X.Pz)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):N1("Unrecognized action received from server: "+(0,X.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,X.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=V0,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=V0,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=V0),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Le.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),u=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let p=!1,y=null;const C=function(){y?y.close():(p=!0,s())};t.realtime_={close:C,sendRequest:function(ee){(0,X.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(ee)}};const B=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[ee,re]=yield Promise.all([t.authTokenProvider_.getToken(B),t.appCheckTokenProvider_.getToken(B)]);p?Ls("getToken() completed but was canceled"):(Ls("getToken() completed. Creating connection."),t.authToken_=ee&&ee.accessToken,t.appCheckToken_=re&&re.token,y=new oH(u,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,ye=>{xo(ye+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(ee){t.log_("Failed to get token: "+ee),p||(t.repoInfo_.nodeAdmin&&xo(ee),C())}}})()}interrupt(t){Ls("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ls("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,X.xb)(this.interruptReasons_)&&(this.reconnectDelay_=V0,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(u=>F1(u)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new Ii(t).toString();let s;if(this.listens.has(r)){const u=this.listens.get(r);s=u.get(i),u.delete(i),0===u.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){Ls("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Ls("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,X.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+O1.replace(/\./g,"-")]=1,(0,X.uI)()?t["framework.cordova"]=1:(0,X.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=jS.getInstance().currentlyOnline();return(0,X.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class $n{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new $n(e,t)}}class US{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new $n(Md,e),r=new $n(Md,t);return 0!==this.compare(i,r)}minPost(){return $n.MIN}}class mH extends US{static get __EMPTY_NODE(){return HS}static set __EMPTY_NODE(e){HS=e}compare(e,t){return mm(e.name,t.name)}isDefinedOn(e){throw(0,X.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return $n.MIN}maxPost(){return new $n(Mu,HS)}makePost(e,t){return(0,X.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new $n(e,HS)}toString(){return".key"}}const Au=new mH;class $S{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,r&&(u*=-1),u<0)e=this.isReverse_?e.left:e.right;else{if(0===u){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let Y1,Rc=(()=>{class n{constructor(t,i,r,s,u){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??Aa.EMPTY_NODE,this.right=u??Aa.EMPTY_NODE}copy(t,i,r,s,u){return new n(t??this.key,i??this.value,r??this.color,s??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const u=r(t,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===u?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Aa.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Aa.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Aa{constructor(e,t=Aa.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Aa(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Rc.BLACK,null,null))}remove(e){return new Aa(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Rc.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new $S(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new $S(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new $S(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new $S(this.root_,null,this.comparator_,!0,e)}}function G6(n,e){return mm(n.name,e.name)}function q1(n,e){return mm(n,e)}Aa.EMPTY_NODE=new class W6{copy(e,t,i,r,s){return this}insert(e,t,i){return new Rc(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const gH=function(n){return"number"==typeof n?"number:"+NU(n):"string:"+n},_H=function(n){if(n.isLeafNode()){const e=n.val();(0,X.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,X.r3)(e,".sv"),"Priority must be a string or number.")}else(0,X.hu)(n===Y1||n.isEmpty(),"priority of unexpected type.");(0,X.hu)(n===Y1||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let yH,vH,bH,z_=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,X.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),_H(this.priorityNode_)}static set __childrenNodeConstructor(t){yH=t}static get __childrenNodeConstructor(){return yH}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Nn(t)?this:".priority"===Pn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Pn(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,X.hu)(".priority"!==r||1===rf(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Vi(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+gH(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?NU(this.value_):this.value_,this.lazyHash_=kU(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,X.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),u=n.VALUE_TYPE_ORDER.indexOf(r);return(0,X.hu)(s>=0,"Unknown leaf type: "+i),(0,X.hu)(u>=0,"Unknown leaf type: "+r),s===u?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Hi=new class Z6 extends US{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?mm(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return $n.MIN}maxPost(){return new $n(Mu,new z_("[PRIORITY-POST]",bH))}makePost(e,t){const i=vH(e);return new $n(t,new z_("[PRIORITY-POST]",i))}toString(){return".priority"}},Q6=Math.log(2);class X6{constructor(e){this.count=parseInt(Math.log(e+1)/Q6,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const zS=function(n,e,t,i){n.sort(e);const r=function(p,y){const C=y-p;let M,B;if(0===C)return null;if(1===C)return M=n[p],B=t?t(M):M,new Rc(B,M.node,Rc.BLACK,null,null);{const ee=parseInt(C/2,10)+p,re=r(p,ee),ye=r(ee+1,y);return M=n[ee],B=t?t(M):M,new Rc(B,M.node,Rc.BLACK,re,ye)}},h=function(p){let y=null,C=null,M=n.length;const B=function(re,ye){const Te=M-re,it=M;M-=re;const pt=r(Te+1,it),yt=n[Te],mt=t?t(yt):yt;ee(new Rc(mt,yt.node,ye,null,pt))},ee=function(re){y?(y.left=re,y=re):(C=re,y=re)};for(let re=0;re<p.count;++re){const ye=p.nextBitIsOne(),Te=Math.pow(2,p.count-(re+1));ye?B(Te,Rc.BLACK):(B(Te,Rc.BLACK),B(Te,Rc.RED))}return C}(new X6(n.length));return new Aa(i||e,h)};let Z1;const W_={};class Ad{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,X.hu)(W_&&Hi,"ChildrenNode.ts has not been loaded"),Z1=Z1||new Ad({".priority":W_},{".priority":Hi}),Z1}get(e){const t=(0,X.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Aa?t:null}hasIndex(e){return(0,X.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,X.hu)(e!==Au,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator($n.Wrap);let h,u=s.getNext();for(;u;)r=r||e.isDefinedOn(u.node),i.push(u),u=s.getNext();h=r?zS(i,e.getCompare()):W_;const p=e.toString(),y=Object.assign({},this.indexSet_);y[p]=e;const C=Object.assign({},this.indexes_);return C[p]=h,new Ad(C,y)}addToIndexes(e,t){const i=(0,X.UI)(this.indexes_,(r,s)=>{const u=(0,X.DV)(this.indexSet_,s);if((0,X.hu)(u,"Missing index implementation for "+s),r===W_){if(u.isDefinedOn(e.node)){const h=[],p=t.getIterator($n.Wrap);let y=p.getNext();for(;y;)y.name!==e.name&&h.push(y),y=p.getNext();return h.push(e),zS(h,u.getCompare())}return W_}{const h=t.get(e.name);let p=r;return h&&(p=p.remove(new $n(e.name,h))),p.insert(e,e.node)}});return new Ad(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,X.UI)(this.indexes_,r=>{if(r===W_)return r;{const s=t.get(e.name);return s?r.remove(new $n(e.name,s)):r}});return new Ad(i,this.indexSet_)}}let B0,_n=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&_H(this.priorityNode_),this.children_.isEmpty()&&(0,X.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return B0||(B0=new n(new Aa(q1),null,Ad.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||B0}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?B0:i}}getChild(t){const i=Pn(t);return null===i?this:this.getImmediateChild(i).getChild(Vi(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,X.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new $n(t,i);let s,u;i.isEmpty()?(s=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),u=this.indexMap_.addToIndexes(r,this.children_));const h=s.isEmpty()?B0:this.priorityNode_;return new n(s,h,u)}}updateChild(t,i){const r=Pn(t);if(null===r)return i;{(0,X.hu)(".priority"!==Pn(t)||1===rf(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Vi(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,u=!0;if(this.forEachChild(Hi,(h,p)=>{i[h]=p.val(t),r++,u&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):u=!1}),!t&&u&&s<2*r){const h=[];for(const p in i)h[p]=i[p];return h}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+gH(this.getPriority().val())+":"),this.forEachChild(Hi,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":kU(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const u=s.getPredecessorKey(new $n(t,i));return u?u.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new $n(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new $n(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,$n.Wrap);let u=s.peek();for(;null!=u&&i.compare(u,t)<0;)s.getNext(),u=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,$n.Wrap);let u=s.peek();for(;null!=u&&i.compare(u,t)>0;)s.getNext(),u=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===j0?-1:0}withIndex(t){if(t===Au||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Au||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Hi),s=i.getIterator(Hi);let u=r.getNext(),h=s.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=r.getNext(),h=s.getNext()}return null===u&&null===h}return!1}return!1}}resolveIndex_(t){return t===Au?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const j0=new class J6 extends _n{constructor(){super(new Aa(q1),_n.EMPTY_NODE,Ad.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return _n.EMPTY_NODE}isEmpty(){return!1}};function gr(n,e=null){if(null===n)return _n.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,X.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new z_(n,gr(e));if(n instanceof Array){let t=_n.EMPTY_NODE;return Vs(n,(i,r)=>{if((0,X.r3)(n,i)&&"."!==i.substring(0,1)){const s=gr(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(gr(e))}{const t=[];let i=!1;if(Vs(n,(u,h)=>{if("."!==u.substring(0,1)){const p=gr(h);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),t.push(new $n(u,p)))}}),0===t.length)return _n.EMPTY_NODE;const s=zS(t,G6,u=>u.name,q1);if(i){const u=zS(t,Hi.getCompare());return new _n(s,gr(e),new Ad({".priority":u},{".priority":Hi}))}return new _n(s,gr(e),Ad.Default)}}Object.defineProperties($n,{MIN:{value:new $n(Md,_n.EMPTY_NODE)},MAX:{value:new $n(Mu,j0)}}),mH.__EMPTY_NODE=_n.EMPTY_NODE,z_.__childrenNodeConstructor=_n,function K6(n){Y1=n}(j0),function Y6(n){bH=n}(j0),function q6(n){vH=n}(gr);class Q1 extends US{constructor(e){super(),this.indexPath_=e,(0,X.hu)(!Nn(e)&&".priority"!==Pn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?mm(e.name,t.name):s}makePost(e,t){const i=gr(e),r=_n.EMPTY_NODE.updateChild(this.indexPath_,i);return new $n(t,r)}maxPost(){const e=_n.EMPTY_NODE.updateChild(this.indexPath_,j0);return new $n(Mu,e)}toString(){return L0(this.indexPath_,0).join("/")}}const X1=new class tq extends US{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?mm(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return $n.MIN}maxPost(){return $n.MAX}makePost(e,t){const i=gr(e);return new $n(t,i)}toString(){return".value"}},G_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",nq=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=G_.charAt(t%64),t=Math.floor(t/64);(0,X.hu)(0===t,"Cannot push at time == 0");let u=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)u+=G_.charAt(e[r]);return(0,X.hu)(20===u.length,"nextPushId: Length should be 20."),u}}(),CH=function(n){if(n===""+L1)return"-";const e=LS(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let u=0;u<t.length;u++)t[u]=n.charAt(u);if(t.length<786)return t.push("-"),t.join("");let i=t.length-1;for(;i>=0&&"z"===t[i];)i--;if(-1===i)return Mu;const s=G_.charAt(G_.indexOf(t[i])+1);return t[i]=s,t.slice(0,i+1).join("")},IH=function(n){if(n===""+FU)return Md;const e=LS(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let i=0;i<t.length;i++)t[i]=n.charAt(i);return"-"===t[t.length-1]?1===t.length?""+L1:(delete t[t.length-1],t.join("")):(t[t.length-1]=G_.charAt(G_.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function DH(n){return{type:"value",snapshotNode:n}}function K_(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function U0(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function H0(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class eP{constructor(e){this.index_=e}updateChild(e,t,i,r,s,u){(0,X.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=u&&(i.isEmpty()?e.hasChild(t)?u.trackChildChange(U0(t,h)):(0,X.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(K_(t,i)):u.trackChildChange(H0(t,i,h))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(Hi,(r,s)=>{t.hasChild(r)||i.trackChildChange(U0(r,s))}),t.isLeafNode()||t.forEachChild(Hi,(r,s)=>{if(e.hasChild(r)){const u=e.getImmediateChild(r);u.equals(s)||i.trackChildChange(H0(r,s,u))}else i.trackChildChange(K_(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?_n.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class $0{constructor(e){this.indexedFilter_=new eP(e.getIndex()),this.index_=e.getIndex(),this.startPost_=$0.getStartPost_(e),this.endPost_=$0.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,i,r,s,u){return this.matches(new $n(t,i))||(i=_n.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,u)}updateFullNode(e,t,i){t.isLeafNode()&&(t=_n.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(_n.EMPTY_NODE);const s=this;return t.forEachChild(Hi,(u,h)=>{s.matches(new $n(u,h))||(r=r.updateImmediateChild(u,_n.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class rq{constructor(e){this.rangedFilter_=new $0(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,i,r,s,u){return this.rangedFilter_.matches(new $n(t,i))||(i=_n.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,u):this.fullLimitUpdateChild_(e,t,i,s,u)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=_n.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=_n.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;s.hasNext()&&u<this.limit_;){const h=s.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),h)<=0:this.index_.compare(h,this.rangedFilter_.getEndPost())<=0,!p)break;r=r.updateImmediateChild(h.name,h.node),u++}}else{let s,u,h,p;if(r=t.withIndex(this.index_),r=r.updatePriority(_n.EMPTY_NODE),this.reverse_){p=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();const M=this.index_.getCompare();h=(B,ee)=>M(ee,B)}else p=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();let y=0,C=!1;for(;p.hasNext();){const M=p.getNext();!C&&h(s,M)<=0&&(C=!0),C&&y<this.limit_&&h(M,u)<=0?y++:r=r.updateImmediateChild(M.name,_n.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let u;if(this.reverse_){const M=this.index_.getCompare();u=(B,ee)=>M(ee,B)}else u=this.index_.getCompare();const h=e;(0,X.hu)(h.numChildren()===this.limit_,"");const p=new $n(t,i),y=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),C=this.rangedFilter_.matches(p);if(h.hasChild(t)){const M=h.getImmediateChild(t);let B=r.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=B&&(B.name===t||h.hasChild(B.name));)B=r.getChildAfterChild(this.index_,B,this.reverse_);const ee=null==B?1:u(B,p);if(C&&!i.isEmpty()&&ee>=0)return s?.trackChildChange(H0(t,i,M)),h.updateImmediateChild(t,i);{s?.trackChildChange(U0(t,M));const ye=h.updateImmediateChild(t,_n.EMPTY_NODE);return null!=B&&this.rangedFilter_.matches(B)?(s?.trackChildChange(K_(B.name,B.node)),ye.updateImmediateChild(B.name,B.node)):ye}}return i.isEmpty()?e:C&&u(y,p)>=0?(null!=s&&(s.trackChildChange(U0(y.name,y.node)),s.trackChildChange(K_(t,i))),h.updateImmediateChild(t,i).updateImmediateChild(y.name,_n.EMPTY_NODE)):e}}class WS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Hi}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,X.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,X.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Md}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,X.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,X.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Mu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,X.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Hi}copy(){const e=new WS;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function tP(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function nP(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function GS(n,e){const t=n.copy();return t.index_=e,t}function SH(n){const e={};if(n.isDefault())return e;let t;return n.index_===Hi?t="$priority":n.index_===X1?t="$value":n.index_===Au?t="$key":((0,X.hu)(n.index_ instanceof Q1,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,X.Pz)(t),n.startSet_&&(e.startAt=(0,X.Pz)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,X.Pz)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,X.Pz)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,X.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function TH(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Hi&&(e.i=n.index_.toString()),e}class KS extends aH{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=O0("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,X.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const u=KS.getListenId_(e,i),h={};this.listens_[u]=h;const p=SH(e._queryParams);this.restRequest_(s+".json",p,(y,C)=>{let M=C;if(404===y&&(M=null,y=null),null===y&&this.onDataUpdate_(s,M,!1,i),(0,X.DV)(this.listens_,u)===h){let B;B=y?401===y?"permission_denied":"rest_error:"+y:"ok",r(B,null)}})}unlisten(e,t){const i=KS.getListenId_(e,t);delete this.listens_[i]}get(e){const t=SH(e._queryParams),i=e._path.toString(),r=new X.BH;return this.restRequest_(i+".json",t,(s,u)=>{let h=u;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,X.xO)(t);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,X.cI)(h.responseText)}catch{xo("Failed to parse JSON response for "+u+": "+h.responseText)}i(null,p)}else 401!==h.status&&404!==h.status&&xo("Got unsuccessful REST response for "+u+" Status: "+h.status),i(h.status);i=null}},h.open("GET",u,!0),h.send()})}}class uq{constructor(){this.rootNode_=_n.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function qS(){return{value:null,children:new Map}}function q_(n,e,t){if(Nn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=Pn(e);n.children.has(i)||n.children.set(i,qS()),q_(n.children.get(i),e=Vi(e),t)}}function iP(n,e){if(Nn(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Hi,(i,r)=>{q_(n,new Ii(i),r)}),iP(n,e)}}if(n.children.size>0){const t=Pn(e);return e=Vi(e),n.children.has(t)&&iP(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function rP(n,e,t){null!==n.value?t(e,n.value):function dq(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{rP(r,new Ii(e.toString()+"/"+i),t)})}class hq{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Vs(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class mq{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new hq(e);const i=1e4+2e4*Math.random();N0(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Vs(e,(r,s)=>{s>0&&(0,X.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),N0(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Vl=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Vl||(Vl={})),Vl))();function aP(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class YS{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Vl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Nn(this.path)){if(null!=this.affectedTree.value)return(0,X.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ii(e));return new YS(hi(),t,this.revert)}}return(0,X.hu)(Pn(this.path)===e,"operationForChild called for unrelated child."),new YS(Vi(this.path),this.affectedTree,this.revert)}}class z0{constructor(e,t){this.source=e,this.path=t,this.type=Vl.LISTEN_COMPLETE}operationForChild(e){return Nn(this.path)?new z0(this.source,hi()):new z0(this.source,Vi(this.path))}}class ym{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Vl.OVERWRITE}operationForChild(e){return Nn(this.path)?new ym(this.source,hi(),this.snap.getImmediateChild(e)):new ym(this.source,Vi(this.path),this.snap)}}class Y_{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Vl.MERGE}operationForChild(e){if(Nn(this.path)){const t=this.children.subtree(new Ii(e));return t.isEmpty()?null:t.value?new ym(this.source,hi(),t.value):new Y_(this.source,hi(),t)}return(0,X.hu)(Pn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Y_(this.source,Vi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class sf{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Nn(e))return this.isFullyInitialized()&&!this.filtered_;const t=Pn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class gq{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function W0(n,e,t,i,r,s){const u=i.filter(h=>h.type===t);u.sort((h,p)=>function vq(n,e,t){if(null==e.childName||null==t.childName)throw(0,X.g5)("Should only compare child_ events.");const i=new $n(e.childName,e.snapshotNode),r=new $n(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,h,p)),u.forEach(h=>{const p=function yq(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,s);r.forEach(y=>{y.respondsTo(h.type)&&e.push(y.createEvent(p,n.query_))})})}function ZS(n,e){return{eventCache:n,serverCache:e}}function G0(n,e,t,i){return ZS(new sf(e,t,i),n.serverCache)}function MH(n,e,t,i){return ZS(n.eventCache,new sf(e,t,i))}function QS(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function vm(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let lP;class $i{constructor(e,t=(()=>(lP||(lP=new Aa(r6)),lP))()){this.value=e,this.children=t}static fromObject(e){let t=new $i(null);return Vs(e,(i,r)=>{t=t.set(new Ii(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:hi(),value:this.value};if(Nn(e))return null;{const i=Pn(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Vi(e),t);return null!=s?{path:ar(new Ii(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Nn(e))return this;{const t=Pn(e),i=this.children.get(t);return null!==i?i.subtree(Vi(e)):new $i(null)}}set(e,t){if(Nn(e))return new $i(t,this.children);{const i=Pn(e),s=(this.children.get(i)||new $i(null)).set(Vi(e),t),u=this.children.insert(i,s);return new $i(this.value,u)}}remove(e){if(Nn(e))return this.children.isEmpty()?new $i(null):new $i(null,this.children);{const t=Pn(e),i=this.children.get(t);if(i){const r=i.remove(Vi(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new $i(null):new $i(this.value,s)}return this}}get(e){if(Nn(e))return this.value;{const t=Pn(e),i=this.children.get(t);return i?i.get(Vi(e)):null}}setTree(e,t){if(Nn(e))return t;{const i=Pn(e),s=(this.children.get(i)||new $i(null)).setTree(Vi(e),t);let u;return u=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new $i(this.value,u)}}fold(e){return this.fold_(hi(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(ar(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,hi(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(Nn(e))return null;{const s=Pn(e),u=this.children.get(s);return u?u.findOnPath_(Vi(e),ar(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,hi(),t)}foreachOnPath_(e,t,i){if(Nn(e))return this;{this.value&&i(t,this.value);const r=Pn(e),s=this.children.get(r);return s?s.foreachOnPath_(Vi(e),ar(t,r),i):new $i(null)}}foreach(e){this.foreach_(hi(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(ar(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Oc{constructor(e){this.writeTree_=e}static empty(){return new Oc(new $i(null))}}function K0(n,e,t){if(Nn(e))return new Oc(new $i(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const u=ia(r,e);return s=s.updateChild(u,t),new Oc(n.writeTree_.set(r,s))}{const r=new $i(t),s=n.writeTree_.setTree(e,r);return new Oc(s)}}}function cP(n,e,t){let i=n;return Vs(t,(r,s)=>{i=K0(i,ar(e,r),s)}),i}function AH(n,e){if(Nn(e))return Oc.empty();{const t=n.writeTree_.setTree(e,new $i(null));return new Oc(t)}}function uP(n,e){return null!=bm(n,e)}function bm(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(ia(t.path,e)):null}function kH(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Hi,(i,r)=>{e.push(new $n(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new $n(i,r.value))}),e}function af(n,e){if(Nn(e))return n;{const t=bm(n,e);return new Oc(null!=t?new $i(t):n.writeTree_.subtree(e))}}function dP(n){return n.writeTree_.isEmpty()}function Z_(n,e){return RH(hi(),n.writeTree_,e)}function RH(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,X.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=RH(ar(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(ar(n,".priority"),i)),t}}function XS(n,e){return LH(e,n)}function Dq(n,e){if(n.snap)return Ll(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Ll(ar(n.path,t),e))return!0;return!1}function Tq(n){return n.visible}function OH(n,e,t){let i=Oc.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const u=s.path;let h;if(s.snap)Ll(t,u)?(h=ia(t,u),i=K0(i,h,s.snap)):Ll(u,t)&&(h=ia(u,t),i=K0(i,hi(),s.snap.getChild(h)));else{if(!s.children)throw(0,X.g5)("WriteRecord should have .snap or .children");if(Ll(t,u))h=ia(t,u),i=cP(i,h,s.children);else if(Ll(u,t))if(h=ia(u,t),Nn(h))i=cP(i,hi(),s.children);else{const p=(0,X.DV)(s.children,Pn(h));if(p){const y=p.getChild(Vi(h));i=K0(i,hi(),y)}}}}}return i}function PH(n,e,t,i,r){if(i||r){const s=af(n.visibleWrites,e);return!r&&dP(s)?t:r||null!=t||uP(s,hi())?Z_(OH(n.allWrites,function(y){return(y.visible||r)&&(!i||!~i.indexOf(y.writeId))&&(Ll(y.path,e)||Ll(e,y.path))},e),t||_n.EMPTY_NODE):null}{const s=bm(n.visibleWrites,e);if(null!=s)return s;{const u=af(n.visibleWrites,e);return dP(u)?t:null!=t||uP(u,hi())?Z_(u,t||_n.EMPTY_NODE):null}}}function JS(n,e,t,i){return PH(n.writeTree,n.treePath,e,t,i)}function hP(n,e){return function xq(n,e,t){let i=_n.EMPTY_NODE;const r=bm(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Hi,(s,u)=>{i=i.updateImmediateChild(s,u)}),i;if(t){const s=af(n.visibleWrites,e);return t.forEachChild(Hi,(u,h)=>{const p=Z_(af(s,new Ii(u)),h);i=i.updateImmediateChild(u,p)}),kH(s).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}return kH(af(n.visibleWrites,e)).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}(n.writeTree,n.treePath,e)}function NH(n,e,t,i){return function Mq(n,e,t,i,r){(0,X.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=ar(e,t);if(uP(n.visibleWrites,s))return null;{const u=af(n.visibleWrites,s);return dP(u)?r.getChild(t):Z_(u,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function eT(n,e){return function kq(n,e){return bm(n.visibleWrites,e)}(n.writeTree,ar(n.treePath,e))}function fP(n,e,t){return function Aq(n,e,t,i){const r=ar(e,t),s=bm(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?Z_(af(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function FH(n,e){return LH(ar(n.treePath,e),n.writeTree)}function LH(n,e){return{treePath:n,writeTree:e}}class Nq{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,X.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,X.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,H0(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,U0(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,K_(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,X.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,H0(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const VH=new class Fq{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class pP{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new sf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fP(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:vm(this.viewCache_),s=function Pq(n,e,t,i,r,s){return function Rq(n,e,t,i,r,s,u){let h;const p=af(n.visibleWrites,e),y=bm(p,hi());if(null!=y)h=y;else{if(null==t)return[];h=Z_(p,t)}if(h=h.withIndex(u),h.isEmpty()||h.isLeafNode())return[];{const C=[],M=u.getCompare(),B=s?h.getReverseIteratorFrom(i,u):h.getIteratorFrom(i,u);let ee=B.getNext();for(;ee&&C.length<r;)0!==M(ee,i)&&C.push(ee),ee=B.getNext();return C}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function BH(n,e,t,i,r,s){const u=e.eventCache;if(null!=eT(i,t))return e;{let h,p;if(Nn(t))if((0,X.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const y=vm(e),M=hP(i,y instanceof _n?y:_n.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),M,s)}else{const y=JS(i,vm(e));h=n.filter.updateFullNode(e.eventCache.getNode(),y,s)}else{const y=Pn(t);if(".priority"===y){(0,X.hu)(1===rf(t),"Can't have a priority with additional path components");const C=u.getNode();p=e.serverCache.getNode();const M=NH(i,t,C,p);h=null!=M?n.filter.updatePriority(C,M):u.getNode()}else{const C=Vi(t);let M;if(u.isCompleteForChild(y)){p=e.serverCache.getNode();const B=NH(i,t,u.getNode(),p);M=null!=B?u.getNode().getImmediateChild(y).updateChild(C,B):u.getNode().getImmediateChild(y)}else M=fP(i,y,e.serverCache);h=null!=M?n.filter.updateChild(u.getNode(),y,M,C,r,s):u.getNode()}}return G0(e,h,u.isFullyInitialized()||Nn(t),n.filter.filtersNodes())}}function tT(n,e,t,i,r,s,u,h){const p=e.serverCache;let y;const C=u?n.filter:n.filter.getIndexedFilter();if(Nn(t))y=C.updateFullNode(p.getNode(),i,null);else if(C.filtersNodes()&&!p.isFiltered()){const ee=p.getNode().updateChild(t,i);y=C.updateFullNode(p.getNode(),ee,null)}else{const ee=Pn(t);if(!p.isCompleteForPath(t)&&rf(t)>1)return e;const re=Vi(t),Te=p.getNode().getImmediateChild(ee).updateChild(re,i);y=".priority"===ee?C.updatePriority(p.getNode(),Te):C.updateChild(p.getNode(),ee,Te,re,VH,null)}const M=MH(e,y,p.isFullyInitialized()||Nn(t),C.filtersNodes());return BH(n,M,t,r,new pP(r,M,s),h)}function mP(n,e,t,i,r,s,u){const h=e.eventCache;let p,y;const C=new pP(r,e,s);if(Nn(t))y=n.filter.updateFullNode(e.eventCache.getNode(),i,u),p=G0(e,y,!0,n.filter.filtersNodes());else{const M=Pn(t);if(".priority"===M)y=n.filter.updatePriority(e.eventCache.getNode(),i),p=G0(e,y,h.isFullyInitialized(),h.isFiltered());else{const B=Vi(t),ee=h.getNode().getImmediateChild(M);let re;if(Nn(B))re=i;else{const ye=C.getCompleteChild(M);re=null!=ye?".priority"===W1(B)&&ye.getChild(dH(B)).isEmpty()?ye:ye.updateChild(B,i):_n.EMPTY_NODE}p=ee.equals(re)?e:G0(e,n.filter.updateChild(h.getNode(),M,re,B,C,u),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function jH(n,e){return n.eventCache.isCompleteForChild(e)}function UH(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function gP(n,e,t,i,r,s,u,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let y,p=e;y=Nn(t)?i:new $i(null).setTree(t,i);const C=e.serverCache.getNode();return y.children.inorderTraversal((M,B)=>{if(C.hasChild(M)){const re=UH(0,e.serverCache.getNode().getImmediateChild(M),B);p=tT(n,p,new Ii(M),re,r,s,u,h)}}),y.children.inorderTraversal((M,B)=>{const ee=!e.serverCache.isCompleteForChild(M)&&void 0===B.value;if(!C.hasChild(M)&&!ee){const ye=UH(0,e.serverCache.getNode().getImmediateChild(M),B);p=tT(n,p,new Ii(M),ye,r,s,u,h)}}),p}class Wq{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new eP(i.getIndex()),s=function sq(n){return n.loadsAllData()?new eP(n.getIndex()):n.hasLimit()?new rq(n):new $0(n)}(i);this.processor_=function Lq(n){return{filter:n}}(s);const u=t.serverCache,h=t.eventCache,p=r.updateFullNode(_n.EMPTY_NODE,u.getNode(),null),y=s.updateFullNode(_n.EMPTY_NODE,h.getNode(),null),C=new sf(p,u.isFullyInitialized(),r.filtersNodes()),M=new sf(y,h.isFullyInitialized(),s.filtersNodes());this.viewCache_=ZS(M,C),this.eventGenerator_=new gq(this.query_)}get query(){return this.query_}}function qq(n,e){const t=vm(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Nn(e)&&!t.getImmediateChild(Pn(e)).isEmpty())?t.getChild(e):null}function HH(n){return 0===n.eventRegistrations_.length}function $H(n,e,t){const i=[];if(t){(0,X.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const u=s.createCancelEvent(t,r);u&&i.push(u)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const u=n.eventRegistrations_[s];if(u.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(u)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function zH(n,e,t,i){e.type===Vl.MERGE&&null!==e.source.queryId&&((0,X.hu)(vm(n.viewCache_),"We should always have a full cache before handling merges"),(0,X.hu)(QS(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function Bq(n,e,t,i,r){const s=new Nq;let u,h;if(t.type===Vl.OVERWRITE){const y=t;y.source.fromUser?u=mP(n,e,y.path,y.snap,i,r,s):((0,X.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||e.serverCache.isFiltered()&&!Nn(y.path),u=tT(n,e,y.path,y.snap,i,r,h,s))}else if(t.type===Vl.MERGE){const y=t;y.source.fromUser?u=function Uq(n,e,t,i,r,s,u){let h=e;return i.foreach((p,y)=>{const C=ar(t,p);jH(e,Pn(C))&&(h=mP(n,h,C,y,r,s,u))}),i.foreach((p,y)=>{const C=ar(t,p);jH(e,Pn(C))||(h=mP(n,h,C,y,r,s,u))}),h}(n,e,y.path,y.children,i,r,s):((0,X.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||e.serverCache.isFiltered(),u=gP(n,e,y.path,y.children,i,r,h,s))}else if(t.type===Vl.ACK_USER_WRITE){const y=t;u=y.revert?function zq(n,e,t,i,r,s){let u;if(null!=eT(i,t))return e;{const h=new pP(i,e,r),p=e.eventCache.getNode();let y;if(Nn(t)||".priority"===Pn(t)){let C;if(e.serverCache.isFullyInitialized())C=JS(i,vm(e));else{const M=e.serverCache.getNode();(0,X.hu)(M instanceof _n,"serverChildren would be complete if leaf node"),C=hP(i,M)}y=n.filter.updateFullNode(p,C,s)}else{const C=Pn(t);let M=fP(i,C,e.serverCache);null==M&&e.serverCache.isCompleteForChild(C)&&(M=p.getImmediateChild(C)),y=null!=M?n.filter.updateChild(p,C,M,Vi(t),h,s):e.eventCache.getNode().hasChild(C)?n.filter.updateChild(p,C,_n.EMPTY_NODE,Vi(t),h,s):p,y.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=JS(i,vm(e)),u.isLeafNode()&&(y=n.filter.updateFullNode(y,u,s)))}return u=e.serverCache.isFullyInitialized()||null!=eT(i,hi()),G0(e,y,u,n.filter.filtersNodes())}}(n,e,y.path,i,r,s):function Hq(n,e,t,i,r,s,u){if(null!=eT(r,t))return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(null!=i.value){if(Nn(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return tT(n,e,t,p.getNode().getChild(t),r,s,h,u);if(Nn(t)){let y=new $i(null);return p.getNode().forEachChild(Au,(C,M)=>{y=y.set(new Ii(C),M)}),gP(n,e,t,y,r,s,h,u)}return e}{let y=new $i(null);return i.foreach((C,M)=>{const B=ar(t,C);p.isCompleteForPath(B)&&(y=y.set(C,p.getNode().getChild(B)))}),gP(n,e,t,y,r,s,h,u)}}(n,e,y.path,y.affectedTree,i,r,s)}else{if(t.type!==Vl.LISTEN_COMPLETE)throw(0,X.g5)("Unknown operation type: "+t.type);u=function $q(n,e,t,i,r){const s=e.serverCache;return BH(n,MH(e,s.getNode(),s.isFullyInitialized()||Nn(t),s.isFiltered()),t,i,VH,r)}(n,e,t.path,i,s)}const p=s.getChanges();return function jq(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=QS(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(DH(QS(e)))}}(e,u,p),{viewCache:u,changes:p}}(n.processor_,r,e,t,i);return function Vq(n,e){(0,X.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,X.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,X.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,WH(n,s.changes,s.viewCache.eventCache.getNode(),null)}function WH(n,e,t,i){return function _q(n,e,t,i){const r=[],s=[];return e.forEach(u=>{"child_changed"===u.type&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&s.push(function iq(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(u.childName,u.snapshotNode))}),W0(n,r,"child_removed",e,i,t),W0(n,r,"child_added",e,i,t),W0(n,r,"child_moved",s,i,t),W0(n,r,"child_changed",e,i,t),W0(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let nT,rT;class GH{constructor(){this.views=new Map}}function _P(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,X.hu)(null!=s,"SyncTree gave us an op for an invalid query."),zH(s,e,t,i)}{let s=[];for(const u of n.views.values())s=s.concat(zH(u,e,t,i));return s}}function yP(n,e,t,i,r){const u=n.views.get(e._queryIdentifier);if(!u){let h=JS(t,r?i:null),p=!1;h?p=!0:i instanceof _n?(h=hP(t,i),p=!1):(h=_n.EMPTY_NODE,p=!1);const y=ZS(new sf(h,p,!1),new sf(i,r,!1));return new Wq(e,y)}return u}function KH(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function lf(n,e){let t=null;for(const i of n.views.values())t=t||qq(i,e);return t}function qH(n,e){return e._queryParams.loadsAllData()?iT(n):n.views.get(e._queryIdentifier)}function YH(n,e){return null!=qH(n,e)}function cf(n){return null!=iT(n)}function iT(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let rY=1;class ZH{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $i(null),this.pendingWriteTree_=function Oq(){return{visibleWrites:Oc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function vP(n,e,t,i,r){return function wq(n,e,t,i,r){(0,X.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=K0(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?Q_(n,new ym({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function uf(n,e,t=!1){const i=function Cq(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function Iq(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,X.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,u=n.allWrites.length-1;for(;r&&u>=0;){const h=n.allWrites[u];h.visible&&(u>=t&&Dq(h,i.path)?r=!1:Ll(i.path,h.path)&&(s=!0)),u--}return!!r&&(s?(function Sq(n){n.visibleWrites=OH(n.allWrites,Tq,hi()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=AH(n.visibleWrites,i.path):Vs(i.children,p=>{n.visibleWrites=AH(n.visibleWrites,ar(i.path,p))}),!0))}(n.pendingWriteTree_,e)){let s=new $i(null);return null!=i.snap?s=s.set(hi(),!0):Vs(i.children,u=>{s=s.set(new Ii(u),!0)}),Q_(n,new YS(i.path,s,t))}return[]}function q0(n,e,t){return Q_(n,new ym({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function sT(n,e,t,i){const r=e._path,s=n.syncPointTree_.get(r);let u=[];if(s&&("default"===e._queryIdentifier||YH(s,e))){const h=function tY(n,e,t,i){const r=e._queryIdentifier,s=[];let u=[];const h=cf(n);if("default"===r)for(const[p,y]of n.views.entries())u=u.concat($H(y,t,i)),HH(y)&&(n.views.delete(p),y.query._queryParams.loadsAllData()||s.push(y.query));else{const p=n.views.get(r);p&&(u=u.concat($H(p,t,i)),HH(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return h&&!cf(n)&&s.push(new(function Xq(){return(0,X.hu)(nT,"Reference.ts has not been loaded"),nT}())(e._repo,e._path)),{removed:s,events:u}}(s,e,t,i);(function Jq(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const p=h.removed;u=h.events;const y=-1!==p.findIndex(M=>M._queryParams.loadsAllData()),C=n.syncPointTree_.findOnPath(r,(M,B)=>cf(B));if(y&&!C){const M=n.syncPointTree_.subtree(r);if(!M.isEmpty()){const B=function hY(n){return n.fold((e,t,i)=>{if(t&&cf(t))return[iT(t)];{let r=[];return t&&(r=KH(t)),Vs(i,(s,u)=>{r=r.concat(u)}),r}})}(M);for(let ee=0;ee<B.length;++ee){const re=B[ee],ye=re.query,Te=n$(n,re);n.listenProvider_.startListening(Z0(ye),Y0(n,ye),Te.hashFn,Te.onComplete)}}}!C&&p.length>0&&!i&&(y?n.listenProvider_.stopListening(Z0(e),null):p.forEach(M=>{const B=n.queryToTagMap.get(aT(M));n.listenProvider_.stopListening(Z0(M),B)})),function fY(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=aT(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,p)}return u}function QH(n,e,t,i){const r=bP(n,i);if(null!=r){const s=wP(r),u=s.path,h=s.queryId,p=ia(u,e);return EP(n,u,new ym(aP(h),p,t))}return[]}function XH(n,e){const t=n._path;let i=null,r=!1;e.syncPointTree_.foreachOnPath(t,(y,C)=>{const M=ia(y,t);i=i||lf(C,M),r=r||cf(C)});let u,s=e.syncPointTree_.get(t);s?(r=r||cf(s),i=i||lf(s,hi())):(s=new GH,e.syncPointTree_=e.syncPointTree_.set(t,s)),null!=i?u=!0:(u=!1,i=_n.EMPTY_NODE,e.syncPointTree_.subtree(t).foreachChild((C,M)=>{const B=lf(M,hi());B&&(i=i.updateImmediateChild(C,B))}));const h=YH(s,n);if(!h&&!n._queryParams.loadsAllData()){const y=aT(n);(0,X.hu)(!e.queryToTagMap.has(y),"View does not exist, but we have a tag");const C=function pY(){return rY++}();e.queryToTagMap.set(y,C),e.tagToQueryMap.set(C,y)}return{syncPoint:s,writesCache:XS(e.pendingWriteTree_,t),serverCache:i,serverCacheComplete:u,foundAncestorDefaultView:r,viewAlreadyExists:h}}function JH(n,e,t){const{syncPoint:i,serverCache:r,writesCache:s,serverCacheComplete:u,viewAlreadyExists:h,foundAncestorDefaultView:p}=XH(e,n);let y=function eY(n,e,t,i,r,s){const u=yP(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,u),function Yq(n,e){n.eventRegistrations_.push(e)}(u,t),function Zq(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Hi,(s,u)=>{i.push(K_(s,u))}),t.isFullyInitialized()&&i.push(DH(t.getNode())),WH(n,i,t.getNode(),e)}(u,t)}(i,e,t,s,r,u);if(!h&&!p){const C=qH(i,e);y=y.concat(function mY(n,e,t){const i=e._path,r=Y0(n,e),s=n$(n,t),u=n.listenProvider_.startListening(Z0(e),r,s.hashFn,s.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,X.hu)(!cf(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((y,C,M)=>{if(!Nn(y)&&C&&cf(C))return[iT(C).query];{let B=[];return C&&(B=B.concat(KH(C).map(ee=>ee.query))),Vs(M,(ee,re)=>{B=B.concat(re)}),B}});for(let y=0;y<p.length;++y){const C=p[y];n.listenProvider_.stopListening(Z0(C),Y0(n,C))}}return u}(n,e,C))}return y}function oT(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(u,h)=>{const y=lf(h,ia(u,e));if(y)return y});return PH(r,e,s,t,!0)}function Q_(n,e){return e$(e,n.syncPointTree_,null,XS(n.pendingWriteTree_,hi()))}function e$(n,e,t,i){if(Nn(n.path))return t$(n,e,t,i);{const r=e.get(hi());null==t&&null!=r&&(t=lf(r,hi()));let s=[];const u=Pn(n.path),h=n.operationForChild(u),p=e.children.get(u);if(p&&h){const y=t?t.getImmediateChild(u):null,C=FH(i,u);s=s.concat(e$(h,p,y,C))}return r&&(s=s.concat(_P(r,n,i,t))),s}}function t$(n,e,t,i){const r=e.get(hi());null==t&&null!=r&&(t=lf(r,hi()));let s=[];return e.children.inorderTraversal((u,h)=>{const p=t?t.getImmediateChild(u):null,y=FH(i,u),C=n.operationForChild(u);C&&(s=s.concat(t$(C,h,p,y)))}),r&&(s=s.concat(_P(r,n,i,t))),s}function n$(n,e){const t=e.query,i=Y0(n,t);return{hashFn:()=>(function Gq(n){return n.viewCache_.serverCache.getNode()}(e)||_n.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function lY(n,e,t){const i=bP(n,t);if(i){const r=wP(i),s=r.path,u=r.queryId,h=ia(s,e);return EP(n,s,new z0(aP(u),h))}return[]}(n,t._path,i):function aY(n,e){return Q_(n,new z0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function a6(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return sT(n,t,null,s)}}}}function Y0(n,e){const t=aT(e);return n.queryToTagMap.get(t)}function aT(n){return n._path.toString()+"$"+n._queryIdentifier}function bP(n,e){return n.tagToQueryMap.get(e)}function wP(n){const e=n.indexOf("$");return(0,X.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ii(n.substr(0,e))}}function EP(n,e,t){const i=n.syncPointTree_.get(e);return(0,X.hu)(i,"Missing sync point for query tag that we're tracking"),_P(i,t,XS(n.pendingWriteTree_,e),null)}function Z0(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function iY(){return(0,X.hu)(rT,"Reference.ts has not been loaded"),rT}())(n._repo,n._path):n}class CP{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new CP(t)}node(){return this.node_}}class IP{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ar(this.path_,e);return new IP(this.syncTree_,t)}node(){return oT(this.syncTree_,this.path_)}}const i$=function(n,e,t){return n&&"object"==typeof n?((0,X.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?_Y(n[".sv"],e,t):"object"==typeof n[".sv"]?yY(n[".sv"],e):void(0,X.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},_Y=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,X.hu)(!1,"Unexpected server value: "+n)},yY=function(n,e,t){n.hasOwnProperty("increment")||(0,X.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,X.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,X.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const u=r.getValue();return"number"!=typeof u?i:u+i},r$=function(n,e,t,i){return SP(e,new IP(t,n),i)},DP=function(n,e,t){return SP(n,new CP(e),t)};function SP(n,e,t){const i=n.getPriority().val(),r=i$(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const u=n,h=i$(u.getValue(),e,t);return h!==u.getValue()||r!==u.getPriority().val()?new z_(h,gr(r)):n}{const u=n;return s=u,r!==u.getPriority().val()&&(s=s.updatePriority(new z_(r))),u.forEachChild(Hi,(h,p)=>{const y=SP(p,e.getImmediateChild(h),t);y!==p&&(s=s.updateImmediateChild(h,y))}),s}}class TP{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function lT(n,e){let t=e instanceof Ii?e:new Ii(e),i=n,r=Pn(t);for(;null!==r;){const s=(0,X.DV)(i.node.children,r)||{children:{},childCount:0};i=new TP(r,i,s),t=Vi(t),r=Pn(t)}return i}function wm(n){return n.node.value}function xP(n,e){n.node.value=e,MP(n)}function s$(n){return n.node.childCount>0}function cT(n,e){Vs(n.node.children,(t,i)=>{e(new TP(t,n,i))})}function o$(n,e,t,i){t&&!i&&e(n),cT(n,r=>{o$(r,e,!0,i)}),t&&i&&e(n)}function Q0(n){return new Ii(null===n.parent?n.name:Q0(n.parent)+"/"+n.name)}function MP(n){null!==n.parent&&function wY(n,e,t){const i=function vY(n){return void 0===wm(n)&&!s$(n)}(t),r=(0,X.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,MP(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,MP(n))}(n.parent,n.name,n)}const EY=/[\[\].#$\/\u0000-\u001F\u007F]/,CY=/[\[\].#$\u0000-\u001F\u007F]/,AP=10485760,uT=function(n){return"string"==typeof n&&0!==n.length&&!EY.test(n)},a$=function(n){return"string"==typeof n&&0!==n.length&&!CY.test(n)},X0=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!FS(n)||n&&"object"==typeof n&&(0,X.r3)(n,".sv")},ku=function(n,e,t,i){i&&void 0===e||J0((0,X.gK)(n,"value"),e,t)},J0=function(n,e,t){const i=t instanceof Ii?new V6(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+gm(i));if("function"==typeof e)throw new Error(n+"contains a function "+gm(i)+" with contents = "+e.toString());if(FS(e))throw new Error(n+"contains "+e.toString()+" "+gm(i));if("string"==typeof e&&e.length>AP/3&&(0,X.ug)(e)>AP)throw new Error(n+"contains a string greater than "+AP+" utf8 bytes "+gm(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(Vs(e,(u,h)=>{if(".value"===u)r=!0;else if(".priority"!==u&&".sv"!==u&&(s=!0,!uT(u)))throw new Error(n+" contains an invalid key ("+u+") "+gm(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function B6(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,X.ug)(e),hH(n)})(i,u),J0(n,h,i),function j6(n){const e=n.parts_.pop();n.byteLength_-=(0,X.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+gm(i)+" in addition to actual children.")}},l$=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,X.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];Vs(e,(u,h)=>{const p=new Ii(u);if(J0(r,h,ar(t,p)),".priority"===W1(p)&&!X0(h))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=L0(i);for(let u=0;u<s.length;u++)if((".priority"!==s[u]||u!==s.length-1)&&!uT(s[u]))throw new Error(n+"contains an invalid key ("+s[u]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(L6);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&Ll(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},kP=function(n,e,t){if(!t||void 0!==e){if(FS(e))throw new Error((0,X.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!X0(e))throw new Error((0,X.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ew=function(n,e,t,i){if(!(i&&void 0===t||uT(t)))throw new Error((0,X.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},tw=function(n,e,t,i){if(!(i&&void 0===t||a$(t)))throw new Error((0,X.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Bl=function(n,e){if(".info"===Pn(e))throw new Error(n+" failed = Can't modify data under /.info/")},c$=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!uT(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),a$(n)}(t))throw new Error((0,X.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class TY{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function dT(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!G1(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function u$(n,e,t){dT(n,t),d$(n,i=>G1(i,e))}function jl(n,e,t){dT(n,t),d$(n,i=>Ll(i,e)||Ll(e,i))}function d$(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(xY(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function xY(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();pm&&Ls("event: "+t.toString()),H_(i)}}}const h$="repo_interrupt";class AY{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new TY,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qS(),this.transactionQueueTree_=new TP,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function f$(n){const t=n.infoData_.getNode(new Ii(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function nw(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:f$(n)})}function p$(n,e,t,i,r){n.dataUpdateCount++;const s=new Ii(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let u=[];if(r)if(i){const p=(0,X.UI)(t,y=>gr(y));u=function uY(n,e,t,i){const r=bP(n,i);if(r){const s=wP(r),u=s.path,h=s.queryId,p=ia(u,e),y=$i.fromObject(t);return EP(n,u,new Y_(aP(h),p,y))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=gr(t);u=QH(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,X.UI)(t,y=>gr(y));u=function oY(n,e,t){const i=$i.fromObject(t);return Q_(n,new Y_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,p)}else{const p=gr(t);u=q0(n.serverSyncTree_,s,p)}let h=s;u.length>0&&(h=X_(n,s)),jl(n.eventQueue_,h,u)}function m$(n,e){RP(n,"connected",e),!1===e&&function NY(n){Em(n,"onDisconnectEvents");const e=nw(n),t=qS();rP(n.onDisconnect_,hi(),(r,s)=>{const u=r$(r,s,n.serverSyncTree_,e);q_(t,r,u)});let i=[];rP(t,hi(),(r,s)=>{i=i.concat(q0(n.serverSyncTree_,r,s));const u=FP(n,r);X_(n,u)}),n.onDisconnect_=qS(),jl(n.eventQueue_,hi(),i)}(n)}function RP(n,e,t){const i=new Ii("/.info/"+e),r=gr(t);n.infoData_.updateSnapshot(i,r);const s=q0(n.infoSyncTree_,i,r);jl(n.eventQueue_,i,s)}function hT(n){return n.nextWriteId_++}function OY(n,e){const t=function dY(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(y,C)=>{const M=ia(y,t);i=i||lf(C,M)});let r=n.syncPointTree_.get(t);r?i=i||lf(r,hi()):(r=new GH,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,u=s?new sf(i,!0,!1):null;return function Kq(n){return QS(n.viewCache_)}(yP(r,e,XS(n.pendingWriteTree_,e._path),s?u.getNode():_n.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=t?Promise.resolve(t):n.server_.get(e).then(i=>{const r=gr(i).withIndex(e._queryParams.getIndex());if(e._queryParams.loadsAllData())q0(n.serverSyncTree_,e._path,r);else{const u=function cY(n,e){const{syncPoint:t,serverCache:i,writesCache:r,serverCacheComplete:s}=XH(e,n),u=yP(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),e._queryParams.loadsAllData()?null:Y0(n,e)}(n.serverSyncTree_,e);QH(n.serverSyncTree_,e._path,r,u)}return sT(n.serverSyncTree_,e,null).length>0&&Em(n,"unexpected cancel events in repoGetValue"),r},i=>(Em(n,"get for query "+(0,X.Pz)(e)+" failed: "+i),Promise.reject(new Error(i))))}function OP(n,e,t,i,r){Em(n,"set",{path:e.toString(),value:t,priority:i});const s=nw(n),u=gr(t,i),h=oT(n.serverSyncTree_,e),p=DP(u,h,s),y=hT(n),C=vP(n.serverSyncTree_,e,p,y,!0);dT(n.eventQueue_,C),n.server_.put(e.toString(),u.val(!0),(B,ee)=>{const re="ok"===B;re||xo("set at "+e+" failed: "+B);const ye=uf(n.serverSyncTree_,y,!re);jl(n.eventQueue_,e,ye),df(0,r,B,ee)});const M=FP(n,e);X_(n,M),jl(n.eventQueue_,M,[])}function FY(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&iP(n.onDisconnect_,e),df(0,t,i,r)})}function g$(n,e,t,i){const r=gr(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,u)=>{"ok"===s&&q_(n.onDisconnect_,e,r),df(0,i,s,u)})}function PP(n,e,t){let i;i=".info"===Pn(e._path)?sT(n.infoSyncTree_,e,t):sT(n.serverSyncTree_,e,t),u$(n.eventQueue_,e._path,i)}function _$(n){n.persistentConnection_&&n.persistentConnection_.interrupt(h$)}function Em(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Ls(t,...e)}function df(n,e,t,i){e&&H_(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const u=new Error(s);u.code=r,e(u)}})}function NP(n,e,t){return oT(n.serverSyncTree_,e,t)||_n.EMPTY_NODE}function fT(n,e=n.transactionQueueTree_){if(e||pT(n,e),wm(e)){const t=v$(n,e);(0,X.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function HY(n,e,t){const i=t.map(y=>y.currentWriteId),r=NP(n,e,i);let s=r;const u=r.hash();for(let y=0;y<t.length;y++){const C=t[y];(0,X.hu)(0===C.status,"tryToSendTransactionQueue_: items in queue should all be run."),C.status=1,C.retryCount++;const M=ia(e,C.path);s=s.updateChild(M,C.currentOutputSnapshotRaw)}const h=s.val(!0),p=e;n.server_.put(p.toString(),h,y=>{Em(n,"transaction put response",{path:p.toString(),status:y});let C=[];if("ok"===y){const M=[];for(let B=0;B<t.length;B++)t[B].status=2,C=C.concat(uf(n.serverSyncTree_,t[B].currentWriteId)),t[B].onComplete&&M.push(()=>t[B].onComplete(null,!0,t[B].currentOutputSnapshotResolved)),t[B].unwatcher();pT(n,lT(n.transactionQueueTree_,e)),fT(n,n.transactionQueueTree_),jl(n.eventQueue_,e,C);for(let B=0;B<M.length;B++)H_(M[B])}else{if("datastale"===y)for(let M=0;M<t.length;M++)t[M].status=3===t[M].status?4:0;else{xo("transaction at "+p.toString()+" failed: "+y);for(let M=0;M<t.length;M++)t[M].status=4,t[M].abortReason=y}X_(n,e)}},u)}(n,Q0(e),t)}else s$(e)&&cT(e,t=>{fT(n,t)})}function X_(n,e){const t=y$(n,e),i=Q0(t);return function $Y(n,e,t){if(0===e.length)return;const i=[];let r=[];const u=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],y=ia(t,p.path);let M,C=!1;if((0,X.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)C=!0,M=p.abortReason,r=r.concat(uf(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)C=!0,M="maxretry",r=r.concat(uf(n.serverSyncTree_,p.currentWriteId,!0));else{const B=NP(n,p.path,u);p.currentInputSnapshot=B;const ee=e[h].update(B.val());if(void 0!==ee){J0("transaction failed: Data returned ",ee,p.path);let re=gr(ee);"object"==typeof ee&&null!=ee&&(0,X.r3)(ee,".priority")||(re=re.updatePriority(B.getPriority()));const Te=p.currentWriteId,it=nw(n),pt=DP(re,B,it);p.currentOutputSnapshotRaw=re,p.currentOutputSnapshotResolved=pt,p.currentWriteId=hT(n),u.splice(u.indexOf(Te),1),r=r.concat(vP(n.serverSyncTree_,p.path,pt,p.currentWriteId,p.applyLocally)),r=r.concat(uf(n.serverSyncTree_,Te,!0))}else C=!0,M="nodata",r=r.concat(uf(n.serverSyncTree_,p.currentWriteId,!0))}jl(n.eventQueue_,t,r),r=[],C&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&i.push("nodata"===M?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(M),!1,null)))}pT(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)H_(i[h]);fT(n,n.transactionQueueTree_)}(n,v$(n,t),i),i}function y$(n,e){let t,i=n.transactionQueueTree_;for(t=Pn(e);null!==t&&void 0===wm(i);)i=lT(i,t),t=Pn(e=Vi(e));return i}function v$(n,e){const t=[];return b$(n,e,t),t.sort((i,r)=>i.order-r.order),t}function b$(n,e,t){const i=wm(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);cT(e,r=>{b$(n,r,t)})}function pT(n,e){const t=wm(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,xP(e,t.length>0?t:void 0)}cT(e,i=>{pT(n,i)})}function FP(n,e){const t=Q0(y$(n,e)),i=lT(n.transactionQueueTree_,e);return function bY(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{LP(n,r)}),LP(n,i),o$(i,r=>{LP(n,r)}),t}function LP(n,e){const t=wm(e);if(t){const i=[];let r=[],s=-1;for(let u=0;u<t.length;u++)3===t[u].status||(1===t[u].status?((0,X.hu)(s===u-1,"All SENT items should be at beginning of queue."),s=u,t[u].status=3,t[u].abortReason="set"):((0,X.hu)(0===t[u].status,"Unexpected transaction status in abort"),t[u].unwatcher(),r=r.concat(uf(n.serverSyncTree_,t[u].currentWriteId,!0)),t[u].onComplete&&i.push(t[u].onComplete.bind(null,new Error("set"),!1,null))));-1===s?xP(e,void 0):t.length=s+1,jl(n.eventQueue_,Q0(e),r);for(let u=0;u<i.length;u++)H_(i[u])}}const VP=function(n,e){const t=GY(n),i=t.namespace;return"firebase.com"===t.domain&&xu(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&xu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&xo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new B1(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Ii(t.pathString)}},GY=function(n){let e="",t="",i="",r="",s="",u=!0,h="https",p=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(h=n.substring(0,y-1),n=n.substring(y+2));let C=n.indexOf("/");-1===C&&(C=n.length);let M=n.indexOf("?");-1===M&&(M=n.length),e=n.substring(0,Math.min(C,M)),C<M&&(r=function zY(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(C,M)));const B=function WY(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):xo(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,M)));y=e.indexOf(":"),y>=0?(u="https"===h||"wss"===h,p=parseInt(e.substring(y+1),10)):y=e.length;const ee=e.slice(0,y);if("localhost"===ee.toLowerCase())t="localhost";else if(ee.split(".").length<=2)t=ee;else{const re=e.indexOf(".");i=e.substring(0,re).toLowerCase(),t=e.substring(re+1),s=i}"ns"in B&&(s=B.ns)}return{host:e,port:p,domain:t,subdomain:i,secure:u,scheme:h,pathString:r,namespace:s}};class w${constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,X.Pz)(this.snapshot.exportVal())}}class E${constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class C${constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,X.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class I${constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new X.BH;return FY(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Bl("OnDisconnect.remove",this._path);const e=new X.BH;return g$(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Bl("OnDisconnect.set",this._path),ku("OnDisconnect.set",e,this._path,!1);const t=new X.BH;return g$(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Bl("OnDisconnect.setWithPriority",this._path),ku("OnDisconnect.setWithPriority",e,this._path,!1),kP("OnDisconnect.setWithPriority",t,!1);const i=new X.BH;return function LY(n,e,t,i,r){const s=gr(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(u,h)=>{"ok"===u&&q_(n.onDisconnect_,e,s),df(0,r,u,h)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){Bl("OnDisconnect.update",this._path),l$("OnDisconnect.update",e,this._path,!1);const t=new X.BH;return function VY(n,e,t,i){if((0,X.xb)(t))return Ls("onDisconnect().update() called with empty data.  Don't do anything."),void df(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&Vs(t,(u,h)=>{const p=gr(h);q_(n.onDisconnect_,ar(e,u),p)}),df(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class ka{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Nn(this._path)?null:W1(this._path)}get ref(){return new Ul(this._repo,this._path)}get _queryIdentifier(){const e=TH(this._queryParams),t=F1(e);return"{}"===t?"default":t}get _queryObject(){return TH(this._queryParams)}isEqual(e){if(!((e=(0,X.m9)(e))instanceof ka))return!1;const t=this._repo===e._repo,i=G1(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function F6(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function mT(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function hf(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Au){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Md)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Mu)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===Hi){if(null!=e&&!X0(e)||null!=t&&!X0(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,X.hu)(n.getIndex()instanceof Q1||n.getIndex()===X1,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function gT(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ul extends ka{constructor(e,t){super(e,t,new WS,!1)}get parent(){const e=dH(this._path);return null===e?null:new Ul(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Cm{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ii(e),i=Im(this.ref,e);return new Cm(this._node.getChild(t),i,Hi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new Cm(r,Im(this.ref,i),Hi)))}hasChild(e){const t=new Ii(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function D$(n,e){return(n=(0,X.m9)(n))._checkNotDeleted("ref"),void 0!==e?Im(n._root,e):n._root}function S$(n,e){(n=(0,X.m9)(n))._checkNotDeleted("refFromURL");const t=VP(e,n._repo.repoInfo_.nodeAdmin);c$("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&xu("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),D$(n,t.path.toString())}function Im(n,e){return null===Pn((n=(0,X.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),tw("child","path",t,!1)):tw("child","path",e,!1),new Ul(n._repo,ar(n._path,e));var t}function BP(n,e){n=(0,X.m9)(n),Bl("set",n._path),ku("set",e,n._path,!1);const t=new X.BH;return OP(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function QY(n,e){l$("update",e,n._path,!1);const t=new X.BH;return function PY(n,e,t,i){Em(n,"update",{path:e.toString(),value:t});let r=!0;const s=nw(n),u={};if(Vs(t,(h,p)=>{r=!1,u[h]=r$(ar(e,h),gr(p),n.serverSyncTree_,s)}),r)Ls("update() called with empty data.  Don't do anything."),df(0,i,"ok",void 0);else{const h=hT(n),p=function sY(n,e,t,i){!function Eq(n,e,t,i){(0,X.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=cP(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=$i.fromObject(t);return Q_(n,new Y_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,u,h);dT(n.eventQueue_,p),n.server_.merge(e.toString(),t,(y,C)=>{const M="ok"===y;M||xo("update at "+e+" failed: "+y);const B=uf(n.serverSyncTree_,h,!M),ee=B.length>0?X_(n,e):e;jl(n.eventQueue_,ee,B),df(0,i,y,C)}),Vs(t,y=>{const C=FP(n,ar(e,y));X_(n,C)}),jl(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}class _T{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new w$("value",this,new Cm(e.snapshotNode,new Ul(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new E$(this,e,t):null}matches(e){return e instanceof _T&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class yT{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new E$(this,e,t):null}createEvent(e,t){(0,X.hu)(null!=e.childName,"Child events should have a childName.");const i=Im(new Ul(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new w$(e.type,this,new Cm(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof yT&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function iw(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=t,y=(C,M)=>{PP(n._repo,n,h),p(C,M)};y.userCallback=t.userCallback,y.context=t.context,t=y}const u=new C$(t,s||void 0),h="value"===e?new _T(u):new yT(e,u);return function BY(n,e,t){let i;i=".info"===Pn(e._path)?JH(n.infoSyncTree_,e,t):JH(n.serverSyncTree_,e,t),u$(n.eventQueue_,e._path,i)}(n._repo,n,h),()=>PP(n._repo,n,h)}function jP(n,e,t,i){return iw(n,"value",e,t,i)}function T$(n,e,t,i){return iw(n,"child_added",e,t,i)}function x$(n,e,t,i){return iw(n,"child_changed",e,t,i)}function M$(n,e,t,i){return iw(n,"child_moved",e,t,i)}function A$(n,e,t,i){return iw(n,"child_removed",e,t,i)}function k$(n,e,t){let i=null;const r=t?new C$(t):null;"value"===e?i=new _T(r):e&&(i=new yT(e,r)),PP(n._repo,n,i)}class Pc{}class R$ extends Pc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ku("endAt",this._value,e._path,!0);const t=nP(e._queryParams,this._value,this._key);if(gT(t),hf(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ka(e._repo,e._path,t,e._orderByCalled)}}class e7 extends Pc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ku("endBefore",this._value,e._path,!1);const t=function cq(n,e,t){let i,r;return n.index_===Au?("string"==typeof e&&(e=IH(e)),r=nP(n,e,t)):(i=null==t?Md:IH(t),r=nP(n,e,i)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(gT(t),hf(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ka(e._repo,e._path,t,e._orderByCalled)}}class O$ extends Pc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ku("startAt",this._value,e._path,!0);const t=tP(e._queryParams,this._value,this._key);if(gT(t),hf(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ka(e._repo,e._path,t,e._orderByCalled)}}class r7 extends Pc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ku("startAfter",this._value,e._path,!1);const t=function lq(n,e,t){let i;if(n.index_===Au)"string"==typeof e&&(e=CH(e)),i=tP(n,e,t);else{let r;r=null==t?Mu:CH(t),i=tP(n,e,r)}return i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(gT(t),hf(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ka(e._repo,e._path,t,e._orderByCalled)}}class o7 extends Pc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ka(e._repo,e._path,function oq(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class l7 extends Pc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ka(e._repo,e._path,function aq(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class u7 extends Pc{constructor(e){super(),this._path=e}_apply(e){mT(e,"orderByChild");const t=new Ii(this._path);if(Nn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Q1(t),r=GS(e._queryParams,i);return hf(r),new ka(e._repo,e._path,r,!0)}}class h7 extends Pc{_apply(e){mT(e,"orderByKey");const t=GS(e._queryParams,Au);return hf(t),new ka(e._repo,e._path,t,!0)}}class p7 extends Pc{_apply(e){mT(e,"orderByPriority");const t=GS(e._queryParams,Hi);return hf(t),new ka(e._repo,e._path,t,!0)}}class g7 extends Pc{_apply(e){mT(e,"orderByValue");const t=GS(e._queryParams,X1);return hf(t),new ka(e._repo,e._path,t,!0)}}class y7 extends Pc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(ku("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new R$(this._value,this._key)._apply(new O$(this._value,this._key)._apply(e))}}function Nc(n,...e){let t=(0,X.m9)(n);for(const i of e)t=i._apply(t);return t}(function Qq(n){(0,X.hu)(!nT,"__referenceConstructor has already been defined"),nT=n})(Ul),function nY(n){(0,X.hu)(!rT,"__referenceConstructor has already been defined"),rT=n}(Ul);const UP={};function N$(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||xu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ls("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,y,u=VP(s,r),h=u.repoInfo;typeof process<"u"&&process.env&&(y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),y?(p=!0,s=`http://${y}?ns=${h.namespace}`,u=VP(s,r),h=u.repoInfo):p=!u.repoInfo.secure;const C=r&&p?new F0(F0.OWNER):new d6(n.name,n.options,e);c$("Invalid Firebase Database URL",u),Nn(u.path)||xu("Database URL must point to the root of a Firebase Database (not including a child path).");const M=function C7(n,e,t,i){let r=UP[e.name];r||(r={},UP[e.name]=r);let s=r[n.toURLString()];return s&&xu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new AY(n,false,t,i),r[n.toURLString()]=s,s}(h,n,C,new u6(n.name,t));return new D7(M,n)}class D7{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function kY(n,e,t){if(n.stats_=H1(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new KS(n.repoInfo_,(i,r,s,u)=>{p$(n,i,r,s,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>m$(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,X.Pz)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new _m(n.repoInfo_,e,(i,r,s,u)=>{p$(n,i,r,s,u)},i=>{m$(n,i)},i=>{!function RY(n,e){Vs(e,(t,i)=>{RP(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function p6(n,e){const t=n.toString();return U1[t]||(U1[t]=e()),U1[t]}(n.repoInfo_,()=>new mq(n.stats_,n.server_)),n.infoData_=new uq,n.infoSyncTree_=new ZH({startListening:(i,r,s,u)=>{let h=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(h=q0(n.infoSyncTree_,i._path,p),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),RP(n,"connected",!1),n.serverSyncTree_=new ZH({startListening:(i,r,s,u)=>(n.server_.listen(i,s,r,(h,p)=>{const y=u(h,p);jl(n.eventQueue_,i._path,y)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ul(this._repo,hi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function E7(n,e){const t=UP[e];(!t||t[n.key]!==n)&&xu(`Database ${e}(${n.repoInfo_}) has already been deleted.`),_$(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&xu("Cannot call "+e+" on a deleted database.")}}function F$(){JU.IS_TRANSPORT_INITIALIZED&&xo("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function S7(){F$(),nf.forceDisallow()}function T7(){F$(),$_.forceDisallow(),nf.forceAllow()}function k7(n,e){OU(n,e)}const O7={".sv":"timestamp"};class F7{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}_m.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},_m.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function R7(n){xU(xs.SDK_VERSION),(0,xs._registerComponent)(new Ko.wA("database",(e,{instanceIdentifier:t})=>N$(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,xs.registerVersion)(SU,"0.13.3",n),(0,xs.registerVersion)(SU,"0.13.3","esm2017")}();const j7=new bo.Yd("@firebase/database-compat"),L$=function(n){j7.warn("FIREBASE WARNING: "+n)};class $7{constructor(e){this._delegate=e}cancel(e){(0,X.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,X.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,X.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,X.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,X.Dv)("OnDisconnect.set",1,2,arguments.length),(0,X.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,X.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,X.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,X.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,L$("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,X.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class z7{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,X.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ff{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,X.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,X.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,X.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,X.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,X.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),tw("DataSnapshot.child","path",e,!1),new ff(this._database,this._delegate.child(e))}hasChild(e){return(0,X.Dv)("DataSnapshot.hasChild",1,1,arguments.length),tw("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,X.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,X.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,X.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new ff(this._database,t)))}hasChildren(){return(0,X.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,X.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,X.Dv)("DataSnapshot.ref",0,0,arguments.length),new nl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class io{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,X.Dv)("Query.on",2,4,arguments.length),(0,X.Wj)("Query.on","callback",t,!1);const u=io.getCancelAndContextArgs_("Query.on",i,r),h=(y,C)=>{t.call(u.context,new ff(this.database,y),C)};h.userCallback=t,h.context=u.context;const p=null===(s=u.cancel)||void 0===s?void 0:s.bind(u.context);switch(e){case"value":return jP(this._delegate,h,p),t;case"child_added":return T$(this._delegate,h,p),t;case"child_removed":return A$(this._delegate,h,p),t;case"child_changed":return x$(this._delegate,h,p),t;case"child_moved":return M$(this._delegate,h,p),t;default:throw new Error((0,X.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,X.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,X.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,X.Wj)("Query.off","callback",t,!0),(0,X.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,k$(this._delegate,e,r)}else k$(this._delegate,e)}get(){return function XY(n){return OY((n=(0,X.m9)(n))._repo,n).then(e=>new Cm(e,new Ul(n._repo,n._path),n._queryParams.getIndex()))}(this._delegate).then(e=>new ff(this.database,e))}once(e,t,i,r){(0,X.Dv)("Query.once",1,4,arguments.length),(0,X.Wj)("Query.once","callback",t,!0);const s=io.getCancelAndContextArgs_("Query.once",i,r),u=new X.BH,h=(y,C)=>{const M=new ff(this.database,y);t&&t.call(s.context,M,C),u.resolve(M)};h.userCallback=t,h.context=s.context;const p=y=>{s.cancel&&s.cancel.call(s.context,y),u.reject(y)};switch(e){case"value":jP(this._delegate,h,p,{onlyOnce:!0});break;case"child_added":T$(this._delegate,h,p,{onlyOnce:!0});break;case"child_removed":A$(this._delegate,h,p,{onlyOnce:!0});break;case"child_changed":x$(this._delegate,h,p,{onlyOnce:!0});break;case"child_moved":M$(this._delegate,h,p,{onlyOnce:!0});break;default:throw new Error((0,X.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}limitToFirst(e){return(0,X.Dv)("Query.limitToFirst",1,1,arguments.length),new io(this.database,Nc(this._delegate,function a7(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new o7(n)}(e)))}limitToLast(e){return(0,X.Dv)("Query.limitToLast",1,1,arguments.length),new io(this.database,Nc(this._delegate,function c7(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new l7(n)}(e)))}orderByChild(e){return(0,X.Dv)("Query.orderByChild",1,1,arguments.length),new io(this.database,Nc(this._delegate,function d7(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return tw("orderByChild","path",n,!1),new u7(n)}(e)))}orderByKey(){return(0,X.Dv)("Query.orderByKey",0,0,arguments.length),new io(this.database,Nc(this._delegate,function f7(){return new h7}()))}orderByPriority(){return(0,X.Dv)("Query.orderByPriority",0,0,arguments.length),new io(this.database,Nc(this._delegate,function m7(){return new p7}()))}orderByValue(){return(0,X.Dv)("Query.orderByValue",0,0,arguments.length),new io(this.database,Nc(this._delegate,function _7(){return new g7}()))}startAt(e=null,t){return(0,X.Dv)("Query.startAt",0,2,arguments.length),new io(this.database,Nc(this._delegate,function n7(n=null,e){return ew("startAt","key",e,!0),new O$(n,e)}(e,t)))}startAfter(e=null,t){return(0,X.Dv)("Query.startAfter",0,2,arguments.length),new io(this.database,Nc(this._delegate,function s7(n,e){return ew("startAfter","key",e,!0),new r7(n,e)}(e,t)))}endAt(e=null,t){return(0,X.Dv)("Query.endAt",0,2,arguments.length),new io(this.database,Nc(this._delegate,function JY(n,e){return ew("endAt","key",e,!0),new R$(n,e)}(e,t)))}endBefore(e=null,t){return(0,X.Dv)("Query.endBefore",0,2,arguments.length),new io(this.database,Nc(this._delegate,function t7(n,e){return ew("endBefore","key",e,!0),new e7(n,e)}(e,t)))}equalTo(e,t){return(0,X.Dv)("Query.equalTo",1,2,arguments.length),new io(this.database,Nc(this._delegate,function v7(n,e){return ew("equalTo","key",e,!0),new y7(n,e)}(e,t)))}toString(){return(0,X.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,X.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,X.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof io))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,X.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,X.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,X.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new nl(this.database,new Ul(this._delegate._repo,this._delegate._path))}}class nl extends io{constructor(e,t){super(e,new ka(t._repo,t._path,new WS,!1)),this.database=e,this._delegate=t}getKey(){return(0,X.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,X.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new nl(this.database,Im(this._delegate,e))}getParent(){(0,X.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new nl(this.database,e):null}getRoot(){return(0,X.Dv)("Reference.root",0,0,arguments.length),new nl(this.database,this._delegate.root)}set(e,t){(0,X.Dv)("Reference.set",1,2,arguments.length),(0,X.Wj)("Reference.set","onComplete",t,!0);const i=BP(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,X.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,L$("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Bl("Reference.update",this._delegate._path),(0,X.Wj)("Reference.update","onComplete",t,!0);const i=QY(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,X.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,X.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function ZY(n,e,t){if(Bl("setWithPriority",n._path),ku("setWithPriority",e,n._path,!1),kP("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new X.BH;return OP(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,X.Dv)("Reference.remove",0,1,arguments.length),(0,X.Wj)("Reference.remove","onComplete",e,!0);const t=function qY(n){return Bl("remove",n._path),BP(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,X.Dv)("Reference.transaction",1,3,arguments.length),(0,X.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,X.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,X.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function L7(n,e,t){var i;if(n=(0,X.m9)(n),Bl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,s=new X.BH,h=jP(n,()=>{});return function UY(n,e,t,i,r,s){Em(n,"transaction on "+e);const u={path:e,update:t,onComplete:i,status:null,order:AU(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=NP(n,e,void 0);u.currentInputSnapshot=h;const p=u.update(h.val());if(void 0===p)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{J0("transaction failed: Data returned ",p,u.path),u.status=0;const y=lT(n.transactionQueueTree_,e),C=wm(y)||[];let M;C.push(u),xP(y,C),"object"==typeof p&&null!==p&&(0,X.r3)(p,".priority")?(M=(0,X.DV)(p,".priority"),(0,X.hu)(X0(M),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):M=(oT(n.serverSyncTree_,e)||_n.EMPTY_NODE).getPriority().val();const B=nw(n),ee=gr(p,M),re=DP(ee,h,B);u.currentOutputSnapshotRaw=ee,u.currentOutputSnapshotResolved=re,u.currentWriteId=hT(n);const ye=vP(n.serverSyncTree_,e,re,u.currentWriteId,u.applyLocally);jl(n.eventQueue_,e,ye),fT(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(p,y,C)=>{let M=null;p?s.reject(p):(M=new Cm(C,new Ul(n._repo,n._path),Hi),s.resolve(new F7(y,M)))},h,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new z7(s.committed,new ff(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,X.Dv)("Reference.setPriority",1,2,arguments.length),(0,X.Wj)("Reference.setPriority","onComplete",t,!0);const i=function YY(n,e){n=(0,X.m9)(n),Bl("setPriority",n._path),kP("setPriority",e,!1);const t=new X.BH;return OP(n._repo,ar(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,X.Dv)("Reference.push",0,2,arguments.length),(0,X.Wj)("Reference.push","onComplete",t,!0);const i=function KY(n,e){n=(0,X.m9)(n),Bl("push",n._path),ku("push",e,n._path,!0);const t=f$(n._repo),i=nq(t),r=Im(n,i),s=Im(n,i);let u;return u=null!=e?BP(s,e).then(()=>s):Promise.resolve(s),r.then=u.then.bind(u),r.catch=u.then.bind(u,void 0),r}(this._delegate,e),r=i.then(u=>new nl(this.database,u));t&&r.then(()=>t(null),u=>t(u));const s=new nl(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Bl("Reference.onDisconnect",this._delegate._path),new $7(new I$(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class rw{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:S7,forceLongPolling:T7}}useEmulator(e,t,i={}){!function x7(n,e,t,i={}){(n=(0,X.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&xu("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&xu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new F0(F0.OWNER);else if(i.mockUserToken){const u="string"==typeof i.mockUserToken?i.mockUserToken:(0,X.Sg)(i.mockUserToken,n.app.options.projectId);s=new F0(u)}!function w7(n,e,t,i){n.repoInfo_=new B1(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,X.Dv)("database.ref",0,1,arguments.length),e instanceof nl){const t=S$(this._delegate,e.toString());return new nl(this,t)}{const t=D$(this._delegate,e);return new nl(this,t)}}refFromURL(e){(0,X.Dv)("database.refFromURL",1,1,arguments.length);const i=S$(this._delegate,e);return new nl(this,i)}goOffline(){return(0,X.Dv)("database.goOffline",0,0,arguments.length),function M7(n){(n=(0,X.m9)(n))._checkNotDeleted("goOffline"),_$(n._repo)}(this._delegate)}goOnline(){return(0,X.Dv)("database.goOnline",0,0,arguments.length),function A7(n){(n=(0,X.m9)(n))._checkNotDeleted("goOnline"),function jY(n){n.persistentConnection_&&n.persistentConnection_.resume(h$)}(n._repo)}(this._delegate)}}rw.ServerValue={TIMESTAMP:function P7(){return O7}(),increment:n=>function N7(n){return{".sv":{increment:n}}}(n)};var G7=Object.freeze({__proto__:null,initStandalone:function W7({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){xU(t);const u=new Ko.zt("auth-internal",new Ko.H0("database-standalone"));return u.setComponent(new Ko.wA("auth-internal",()=>i,"PRIVATE")),{instance:new rw(N$(n,u,void 0,e,s),n),namespace:r}}});const K7=rw.ServerValue;function V$(n){return null==n}function B$(n){return"function"==typeof n.set}function j$(n,e){return B$(e)?e:n.ref(e)}function U$(n,e){if(function Y7(n){return"string"==typeof n}(n))return e.stringCase();if(B$(n))return e.firebaseCase();if(function Z7(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function sw(n,e,t="on",i=DD.z){return new Ni.y(r=>{let s=null;return s=n[t](e,(u,h)=>{i.schedule(()=>{r.next({snapshot:u,prevKey:h})}),"once"===t&&i.schedule(()=>r.complete())},u=>{i.schedule(()=>r.error(u))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,Ze.U)(r=>{const{snapshot:s,prevKey:u}=r;let h=null;return s.exists()&&(h=s.key),{type:e,payload:s,prevKey:u,key:h}}),(0,Tg.B)())}function H$(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function J7(n,e){const{payload:t,prevKey:i,key:r}=e,s=H$(n,r),u=function X7(n,e){if(V$(e))return 0;{const t=H$(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let h=null;e.payload.forEach(p=>{const y={payload:p,type:"value",prevKey:h,key:p.key};return h=p.key,n=[...n,y],!1})}return n;case"child_added":if(s>-1){const h=n[s-1];(h&&h.key||null)!==i&&(n=n.filter(p=>p.payload.key!==t.key)).splice(u,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(u,0,e)}return n;case"child_removed":return n.filter(h=>h.payload.key!==t.key);case"child_changed":return n.map(h=>h.payload.key===r?e:h);case"child_moved":if(s>-1){const h=n.splice(s,1)[0];return(n=n.slice()).splice(u,0,h),n}return n;default:return n}}function $$(n){return(V$(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function z$(n,e,t){return function Q7(n,e,t){return sw(n,"value","once",t).pipe((0,jn.w)(i=>{const r=[(0,Ke.of)(i)];return e.forEach(s=>r.push(sw(n,s,"on",t))),(0,Ca.T)(...r).pipe((0,vr.R)(J7,[]))}),(0,LE.x)())}(n,e=$$(e),t)}function W$(n,e,t){const i=(e=$$(e)).map(r=>sw(n,r,"on",t));return(0,Ca.T)(...i)}function G$(n,e){return function(i,r){return U$(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function r9(n){return function(t){return t?U$(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function K$(n,e){return function(){return sw(n,"value","on",e)}}!function q7(n){n.INTERNAL.registerComponent(new Ko.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new rw(r,i)},"PUBLIC").setServiceProps({Reference:nl,Query:io,Database:rw,DataSnapshot:ff,enableLogging:k7,INTERNAL:G7,ServerValue:K7}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.3")}(ps.Z);const a9=new l.InjectionToken("angularfire2.realtimeDatabaseURL"),l9=new l.InjectionToken("angularfire2.database.use-emulator");let HP=(()=>{class n{constructor(t,i,r,s,u,h,p,y,C,M,B,ee,re,ye,Te){this.schedulers=h;const it=p,pt=(0,Cr.on)(t,u,i);y&&Uf(pt,u,C,B,ee,re,M,ye),this.database=(0,Cr.cc)(`${pt.name}.database.${r}`,"AngularFireDatabase",pt.name,()=>{const yt=u.runOutsideAngular(()=>pt.database(r||void 0));return it&&yt.useEmulator(...it),yt},[it])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>j$(this.database,t));let s=r;return i&&(s=i(r)),function s9(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:G$(i,"update"),set:G$(i,"set"),push:r=>i.push(r),remove:r9(i),snapshotChanges:r=>z$(n,r,t).pipe(Qt.iC),stateChanges:r=>W$(n,r,t).pipe(Qt.iC),auditTrail:r=>function e9(n,e,t){return function n9(n,e,t){return function t9(n,e){return sw(n,"value","on",e).pipe((0,Ze.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe((0,QK.M)(e),(0,Ze.U)(([r,s])=>{const u=r.lastKeyToLoad,h=s.map(p=>p.key);return{actions:s,lastKeyToLoad:u,loadedKeys:h}}),(0,XK.n)(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,Ze.U)(r=>r.actions))}(n,W$(n,e).pipe((0,vr.R)((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(Qt.iC),valueChanges:(r,s)=>z$(n,r,t).pipe((0,Ze.U)(h=>h.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),Qt.iC)}}(s,this)}object(t){return function o9(n,e){return{query:n,snapshotChanges:()=>K$(n,e.schedulers.outsideAngular)().pipe(Qt.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>K$(n,e.schedulers.outsideAngular)().pipe(Qt.iC,(0,Ze.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>j$(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(Cr.Dh),l.\u0275\u0275inject(Cr.xv,8),l.\u0275\u0275inject(a9,8),l.\u0275\u0275inject(l.PLATFORM_ID),l.\u0275\u0275inject(l.NgZone),l.\u0275\u0275inject(Qt.HU),l.\u0275\u0275inject(l9,8),l.\u0275\u0275inject(su,8),l.\u0275\u0275inject(nE,8),l.\u0275\u0275inject(ch,8),l.\u0275\u0275inject(Ny,8),l.\u0275\u0275inject(sg,8),l.\u0275\u0275inject(og,8),l.\u0275\u0275inject(ag,8),l.\u0275\u0275inject(oh,8))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),c9=(()=>{class n{constructor(){jf.Z.registerVersion("angularfire",Qt.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({providers:[HP]}),n})(),u9=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["app-sidebar"]],decls:3,vars:0,consts:[["href","#","routerLink","/add-employee",1,"btn","btn-warning","mb-5","shadow-lg"],["aria-hidden","true",1,"fa","fa-plus-circle"]],template:function(t,i){1&t&&(l.\u0275\u0275elementStart(0,"a",0),l.\u0275\u0275text(1," Add employee "),l.\u0275\u0275element(2,"i",1),l.\u0275\u0275elementEnd())},dependencies:[Lt]}),n})(),ow=(()=>{class n{constructor(t){this.af=t,this.employees=this.af.list("/employees")}getEmployees(){return this.employees=this.af.list("/employees"),this.emp=this.employees.snapshotChanges(),this.employees.snapshotChanges()}addEmployees(t){return this.employees.push(t)}getEmployee(t){return this.employee=this.af.object("employees/"+t),this.employee.snapshotChanges().subscribe(i=>{console.log(i.type),console.log(i.key),console.log(i.payload.val())}),this.employee.snapshotChanges()}ubdateEmployee(t,i){return delete i.$key,this.employees.update(t,i)}deleteEmployee(t){return this.employees.remove(t)}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(HP))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const d9=function(n){return[n]};function h9(n,e){if(1&n&&(l.\u0275\u0275elementStart(0,"tr")(1,"th"),l.\u0275\u0275text(2),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(3,"th"),l.\u0275\u0275text(4),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(5,"th"),l.\u0275\u0275text(6),l.\u0275\u0275pipe(7,"currency"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(8,"th")(9,"a",11),l.\u0275\u0275text(10," More "),l.\u0275\u0275element(11,"i",12),l.\u0275\u0275elementEnd()()()),2&n){const t=e.$implicit;l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(t.firstName),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(t.lastName),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind2(7,4,t.salary,"USD")),l.\u0275\u0275advance(3),l.\u0275\u0275property("routerLink",l.\u0275\u0275pureFunction1(7,d9,"employee/"+t.$key))}}function f9(n,e){if(1&n&&(l.\u0275\u0275elementStart(0,"div")(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3"),l.\u0275\u0275element(5,"i",5),l.\u0275\u0275text(6),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(7,"div",4)(8,"h3"),l.\u0275\u0275element(9,"i",6),l.\u0275\u0275text(10),l.\u0275\u0275pipe(11,"currency"),l.\u0275\u0275elementEnd()(),l.\u0275\u0275element(12,"br")(13,"br")(14,"br"),l.\u0275\u0275elementStart(15,"table",7)(16,"thead",8)(17,"tr")(18,"th"),l.\u0275\u0275text(19,"First Name"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(20,"th",9),l.\u0275\u0275text(21,"Last Name"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(22,"th",9),l.\u0275\u0275text(23,"Salary"),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(24,"th",9),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(25,"tbody"),l.\u0275\u0275template(26,h9,12,9,"tr",10),l.\u0275\u0275elementEnd()()()()()),2&n){const t=l.\u0275\u0275nextContext();l.\u0275\u0275advance(6),l.\u0275\u0275textInterpolate1(" Total employees : ",t.totalEmployees,""),l.\u0275\u0275advance(4),l.\u0275\u0275textInterpolate1(" Total salary : ",l.\u0275\u0275pipeBind3(11,3,t.totalSalarySum,"USD",!0),""),l.\u0275\u0275advance(16),l.\u0275\u0275property("ngForOf",t.itemarray)}}function p9(n,e){1&n&&(l.\u0275\u0275elementStart(0,"h2"),l.\u0275\u0275text(1,"OOPS!! Empty Database Please Login to show database !!"),l.\u0275\u0275elementEnd())}let m9=(()=>{class n{constructor(t){this.employeeService=t,this.itemarray=[]}ngOnInit(){this.employeeService.getEmployees().subscribe(t=>{t.forEach(i=>{let r=i.payload.toJSON();r.$key=i.key,this.itemarray.push(r)}),this.getTotalEmployee()})}getTotalEmployee(){let t=0,i=0;for(let r=0;r<this.itemarray.length;r++)t+=1,i+=parseFloat(this.itemarray[r].salary.toString());this.totalEmployees=t,this.totalSalarySum=i,console.log(this.totalEmployees),console.log(this.totalSalarySum)}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(ow))},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["app-employees"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["Noemployee",""],[1,"container"],[1,"row","mb-5"],[1,"col-sm-6"],["aria-hidden","true",1,"fa","fa-users"],["aria-hidden","true",1,"fa","fa-money",2,"color","darkgreen"],[1,"table","table-striped","text-center"],[1,"thead-dark"],["scope","col"],[4,"ngFor","ngForOf"],["href","#",1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-info-circle"]],template:function(t,i){if(1&t&&(l.\u0275\u0275template(0,f9,27,7,"div",0),l.\u0275\u0275template(1,p9,2,0,"ng-template",null,1,l.\u0275\u0275templateRefExtractor)),2&t){const r=l.\u0275\u0275reference(2);l.\u0275\u0275property("ngIf",i.itemarray.length>0)("ngIfElse",r)}},dependencies:[D.NgForOf,D.NgIf,Lt,D.CurrencyPipe]}),n})();function g9(n,e){if(1&n&&(l.\u0275\u0275elementStart(0,"h1",5),l.\u0275\u0275text(1),l.\u0275\u0275elementEnd()),2&n){const t=e.ngIf;l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1(" Welcom to our app , ",t.displayName,"")}}let _9=(()=>{class n{constructor(t){this.authService=t,this.user$=this.authService.currentUser$}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(gc))},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["app-dashboard"]],decls:8,vars:3,consts:[[1,"container"],[1,"row"],["class","text-success",4,"ngIf"],[1,"col-lg-10","col-md-12","col-sm-12","shadow-lg"],[1,"col-lg-2","col-md-12","col-sm-12"],[1,"text-success"]],template:function(t,i){1&t&&(l.\u0275\u0275elementStart(0,"div",0)(1,"div",1),l.\u0275\u0275template(2,g9,2,1,"h1",2),l.\u0275\u0275pipe(3,"async"),l.\u0275\u0275elementStart(4,"div",3),l.\u0275\u0275element(5,"app-employees"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(6,"div",4),l.\u0275\u0275element(7,"app-sidebar"),l.\u0275\u0275elementEnd()()()),2&t&&(l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",l.\u0275\u0275pipeBind1(3,1,i.user$)))},dependencies:[D.NgIf,u9,m9,D.AsyncPipe],styles:[".container[_ngcontent-%COMP%]{\n    padding-top: 30px;\n  }"]}),n})(),q$=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(l.Renderer2),l.\u0275\u0275directiveInject(l.ElementRef))},n.\u0275dir=l.\u0275\u0275defineDirective({type:n}),n})(),Dm=(()=>{class n extends q${}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.\u0275\u0275getInheritedFactory(n)))(i||n)}}(),n.\u0275dir=l.\u0275\u0275defineDirective({type:n,features:[l.\u0275\u0275InheritDefinitionFeature]}),n})();const Mo=new l.InjectionToken("NgValueAccessor"),v9={provide:Mo,useExisting:(0,l.forwardRef)(()=>pf),multi:!0},w9=new l.InjectionToken("CompositionEventMode");let pf=(()=>{class n extends q${constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function b9(){const n=(0,D.\u0275getDOM)()?(0,D.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(l.Renderer2),l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(w9,8))},n.\u0275dir=l.\u0275\u0275defineDirective({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&l.\u0275\u0275listener("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[l.\u0275\u0275ProvidersFeature([v9]),l.\u0275\u0275InheritDefinitionFeature]}),n})();function mf(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Z$(n){return null!=n&&"number"==typeof n.length}const ys=new l.InjectionToken("NgValidators"),gf=new l.InjectionToken("NgAsyncValidators"),C9=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Fc{static min(e){return function Q$(n){return e=>{if(mf(e.value)||mf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function X$(n){return e=>{if(mf(e.value)||mf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return J$(e)}static requiredTrue(e){return function e3(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function t3(n){return mf(n.value)||C9.test(n.value)?null:{email:!0}}(e)}static minLength(e){return n3(e)}static maxLength(e){return function r3(n){return e=>Z$(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function s3(n){if(!n)return vT;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(mf(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return d3(e)}static composeAsync(e){return h3(e)}}function J$(n){return mf(n.value)?{required:!0}:null}function n3(n){return e=>mf(e.value)||!Z$(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function vT(n){return null}function o3(n){return null!=n}function a3(n){return(0,l.\u0275isPromise)(n)?(0,at.D)(n):n}function l3(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function c3(n,e){return e.map(t=>t(n))}function u3(n){return n.map(e=>function I9(n){return!n.validate}(e)?e:t=>e.validate(t))}function d3(n){if(!n)return null;const e=n.filter(o3);return 0==e.length?null:function(t){return l3(c3(t,e))}}function $P(n){return null!=n?d3(u3(n)):null}function h3(n){if(!n)return null;const e=n.filter(o3);return 0==e.length?null:function(t){return Sg(c3(t,e).map(a3)).pipe((0,Ze.U)(l3))}}function zP(n){return null!=n?h3(u3(n)):null}function f3(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function p3(n){return n._rawValidators}function m3(n){return n._rawAsyncValidators}function WP(n){return n?Array.isArray(n)?n:[n]:[]}function bT(n,e){return Array.isArray(n)?n.includes(e):n===e}function g3(n,e){const t=WP(e);return WP(n).forEach(r=>{bT(t,r)||t.push(r)}),t}function _3(n,e){return WP(e).filter(t=>!bT(n,t))}class y3{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$P(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ra extends y3{get formDirective(){return null}get path(){return null}}class kd extends y3{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class v3{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let J_=(()=>{class n extends v3{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(kd,2))},n.\u0275dir=l.\u0275\u0275defineDirective({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&l.\u0275\u0275classProp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.\u0275\u0275InheritDefinitionFeature]}),n})(),ey=(()=>{class n extends v3{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(ra,10))},n.\u0275dir=l.\u0275\u0275defineDirective({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&l.\u0275\u0275classProp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.\u0275\u0275InheritDefinitionFeature]}),n})();const aw="VALID",ET="INVALID",ty="PENDING",lw="DISABLED";function YP(n){return(CT(n)?n.validators:n)||null}function w3(n){return Array.isArray(n)?$P(n):n||null}function ZP(n,e){return(CT(e)?e.asyncValidators:n)||null}function E3(n){return Array.isArray(n)?zP(n):n||null}function CT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function C3(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new l.\u0275RuntimeError(1e3,"");if(!i[t])throw new l.\u0275RuntimeError(1001,"")}function I3(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new l.\u0275RuntimeError(1002,"")})}class IT{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=w3(this._rawValidators),this._composedAsyncValidatorFn=E3(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===aw}get invalid(){return this.status===ET}get pending(){return this.status==ty}get disabled(){return this.status===lw}get enabled(){return this.status!==lw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=w3(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=E3(e)}addValidators(e){this.setValidators(g3(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(g3(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_3(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_3(e,this._rawAsyncValidators))}hasValidator(e){return bT(this._rawValidators,e)}hasAsyncValidator(e){return bT(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ty,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=lw,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=aw,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===aw||this.status===ty)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?lw:aw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ty,this._hasOwnPendingAsyncValidator=!0;const t=a3(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.EventEmitter,this.statusChanges=new l.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?lw:this.errors?ET:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ty)?ty:this._anyControlsHaveStatus(ET)?ET:aw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){CT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class ny extends IT{constructor(e,t,i){super(YP(t),ZP(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){I3(this,0,e),Object.keys(e).forEach(i=>{C3(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function DT(n,e){return[...e.path,n]}function cw(n,e){QP(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function O9(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&D3(n,e)})}(n,e),function N9(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function P9(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&D3(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function R9(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ST(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),xT(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function TT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function QP(n,e){const t=p3(n);null!==e.validator?n.setValidators(f3(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=m3(n);null!==e.asyncValidator?n.setAsyncValidators(f3(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();TT(e._rawValidators,r),TT(e._rawAsyncValidators,r)}function xT(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=p3(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=m3(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return TT(e._rawValidators,i),TT(e._rawAsyncValidators,i),t}function D3(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function S3(n,e){QP(n,e)}function XP(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function x3(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function JP(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===pf?t=s:function V9(n){return Object.getPrototypeOf(n.constructor)===Dm}(s)?i=s:r=s}),r||i||t||null}const j9={provide:ra,useExisting:(0,l.forwardRef)(()=>Sm)},uw=(()=>Promise.resolve(null))();let Sm=(()=>{class n extends ra{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.EventEmitter,this.form=new ny({},$P(t),zP(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){uw.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),cw(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){uw.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){uw.then(()=>{const i=this._findContainer(t.path),r=new ny({});S3(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){uw.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){uw.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,x3(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(ys,10),l.\u0275\u0275directiveInject(gf,10))},n.\u0275dir=l.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&l.\u0275\u0275listener("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.\u0275\u0275ProvidersFeature([j9]),l.\u0275\u0275InheritDefinitionFeature]}),n})();function M3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function A3(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Lc=class extends IT{constructor(e=null,t,i){super(YP(t),ZP(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),CT(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=A3(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){M3(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){M3(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){A3(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},$9={provide:kd,useExisting:(0,l.forwardRef)(()=>dw)},O3=(()=>Promise.resolve(null))();let dw=(()=>{class n extends kd{constructor(t,i,r,s,u){super(),this._changeDetectorRef=u,this.control=new Lc,this._registered=!1,this.update=new l.EventEmitter,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=JP(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),XP(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){cw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){O3.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,l.\u0275coerceToBoolean)(i);O3.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?DT(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(ra,9),l.\u0275\u0275directiveInject(ys,10),l.\u0275\u0275directiveInject(gf,10),l.\u0275\u0275directiveInject(Mo,10),l.\u0275\u0275directiveInject(l.ChangeDetectorRef,8))},n.\u0275dir=l.\u0275\u0275defineDirective({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l.\u0275\u0275ProvidersFeature([$9]),l.\u0275\u0275InheritDefinitionFeature,l.\u0275\u0275NgOnChangesFeature]}),n})(),iy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const z9={provide:Mo,useExisting:(0,l.forwardRef)(()=>MT),multi:!0};let MT=(()=>{class n extends Dm{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.\u0275\u0275getInheritedFactory(n)))(i||n)}}(),n.\u0275dir=l.\u0275\u0275defineDirective({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&l.\u0275\u0275listener("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[l.\u0275\u0275ProvidersFeature([z9]),l.\u0275\u0275InheritDefinitionFeature]}),n})(),P3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({}),n})();const eN=new l.InjectionToken("NgModelWithFormControlWarning"),Y9={provide:ra,useExisting:(0,l.forwardRef)(()=>ry)};let ry=(()=>{class n extends ra{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.EventEmitter,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return cw(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){ST(t.control||null,t,!1),function B9(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,x3(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(ST(i||null,t),(n=>n instanceof Lc)(r)&&(cw(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);S3(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function F9(n,e){return xT(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){QP(this.form,this),this._oldForm&&xT(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(ys,10),l.\u0275\u0275directiveInject(gf,10))},n.\u0275dir=l.\u0275\u0275defineDirective({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&l.\u0275\u0275listener("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.\u0275\u0275ProvidersFeature([Y9]),l.\u0275\u0275InheritDefinitionFeature,l.\u0275\u0275NgOnChangesFeature]}),n})();const X9={provide:kd,useExisting:(0,l.forwardRef)(()=>AT)};let AT=(()=>{class n extends kd{constructor(t,i,r,s,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.EventEmitter,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=JP(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),XP(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return DT(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(ra,13),l.\u0275\u0275directiveInject(ys,10),l.\u0275\u0275directiveInject(gf,10),l.\u0275\u0275directiveInject(Mo,10),l.\u0275\u0275directiveInject(eN,8))},n.\u0275dir=l.\u0275\u0275defineDirective({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l.\u0275\u0275ProvidersFeature([X9]),l.\u0275\u0275InheritDefinitionFeature,l.\u0275\u0275NgOnChangesFeature]}),n})();let Tm=(()=>{class n{constructor(){this._validator=vT}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):vT,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.\u0275\u0275defineDirective({type:n,features:[l.\u0275\u0275NgOnChangesFeature]}),n})();const aZ={provide:ys,useExisting:(0,l.forwardRef)(()=>hw),multi:!0};let hw=(()=>{class n extends Tm{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.\u0275coerceToBoolean,this.createValidator=t=>J$}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.\u0275\u0275getInheritedFactory(n)))(i||n)}}(),n.\u0275dir=l.\u0275\u0275defineDirective({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&l.\u0275\u0275attribute("required",i._enabled?"":null)},inputs:{required:"required"},features:[l.\u0275\u0275ProvidersFeature([aZ]),l.\u0275\u0275InheritDefinitionFeature]}),n})();const uZ={provide:ys,useExisting:(0,l.forwardRef)(()=>RT),multi:!0};let RT=(()=>{class n extends Tm{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function U3(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>n3(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.\u0275\u0275getInheritedFactory(n)))(i||n)}}(),n.\u0275dir=l.\u0275\u0275defineDirective({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&l.\u0275\u0275attribute("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[l.\u0275\u0275ProvidersFeature([uZ]),l.\u0275\u0275InheritDefinitionFeature]}),n})(),q3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({imports:[P3]}),n})(),fZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({imports:[q3]}),n})(),Y3=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:eN,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({imports:[q3]}),n})();class Z3 extends IT{constructor(e,t,i){super(YP(t),ZP(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){I3(this,0,e),e.forEach((i,r)=>{C3(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Q3(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let pZ=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let s={};return Q3(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new ny(r,s)}control(t,i,r){let s={};return this.useNonNullable?(Q3(i)?s=i:(s.validators=i,s.asyncValidators=r),new Lc(t,{...s,nonNullable:!0})):new Lc(t,i,r)}array(t,i,r){const s=t.map(u=>this._createControl(u));return new Z3(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof Lc||t instanceof IT?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:Y3}),n})();function mZ(n,e){if(1&n){const t=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"form",17),l.\u0275\u0275listener("submit",function(){l.\u0275\u0275restoreView(t);const r=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(r.ubdateSalaryEmployee(r.id))}),l.\u0275\u0275elementStart(1,"div",18)(2,"input",19),l.\u0275\u0275listener("ngModelChange",function(r){l.\u0275\u0275restoreView(t);const s=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(s.employee.salary=r)}),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(3,"button",20),l.\u0275\u0275text(4,"Submit"),l.\u0275\u0275elementEnd()()}if(2&n){const t=l.\u0275\u0275nextContext();l.\u0275\u0275advance(2),l.\u0275\u0275property("ngModel",t.employee.salary)}}const gZ=function(n){return[n]};let _Z=(()=>{class n{constructor(t,i,r,s,u){this.employeeService=t,this.router=i,this.activatedRoute=r,this.flashMessagesModule=s,this.toast=u,this.employee={salary:""},this.hasSalary=!1,this.ubdateSalaryInput=!1}ngOnInit(){this.id=this.activatedRoute.snapshot.paramMap.get("id"),this.employeeService.getEmployee(this.id).subscribe(t=>{let i=t.payload.toJSON();i.$key=t.key,this.employee=i,console.log(this.employee),this.employee.salary>0&&(this.hasSalary=!0)})}ubdateSalaryEmployee(t){this.employeeService.ubdateEmployee(this.id,this.employee),this.toast.success(" Salary Updated successfully ! :)",{style:{border:"1px solid #21b11e",padding:"16px",color:" #21b11e"},iconTheme:{primary:" #21b11e",secondary:"#FFFAEE"}}),this.router.navigate(["employee/"+this.id])}myDelete(){confirm("Are you sure ! :(")&&(this.employeeService.deleteEmployee(this.id),this.toast.success(" Employee Deleted successfuly !",{style:{border:"1px solid #21b11e",padding:"16px",color:" #21b11e"},iconTheme:{primary:" #21b11e",secondary:"#FFFAEE"}}),this.router.navigate(["/"]))}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(ow),l.\u0275\u0275directiveInject(Ce),l.\u0275\u0275directiveInject(Hr),l.\u0275\u0275directiveInject(cc.GQ),l.\u0275\u0275directiveInject(uh))},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["app-employee-info"]],decls:63,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-md-12","mt-5","mb-5"],["href","#","routerLink","/",1,"btn","btn-warning","shadow-lg"],["aria-hidden","true",1,"fa","fa-arrow-circle-o-left"],[1,"col-sm-6"],["href","#",1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-pencil"],["href","#",1,"btn","btn-danger","ml-3",3,"click"],[1,"fa","fa-trash"],["aria-hidden","true",1,"fa","fa-money",2,"color","darkgreen"],[2,"cursor","pointer",3,"click"],["aria-hidden","true",1,"fa","fa-pencil-square-o"],[3,"submit",4,"ngIf"],[1,"table","table-striped","text-center","shadow-lg"],[1,"thead-dark"],["scope","col"],[3,"submit"],[1,"form-group"],["type","text","name","salary","aria-describedby","emailHelp",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary","mb-3"]],template:function(t,i){1&t&&(l.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),l.\u0275\u0275element(4,"i",4),l.\u0275\u0275text(5," Back to Dashboard "),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(6,"div",5)(7,"a",6),l.\u0275\u0275text(8," Edit "),l.\u0275\u0275element(9,"i",7),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(10,"button",8),l.\u0275\u0275listener("click",function(){return i.myDelete()}),l.\u0275\u0275text(11," Delete "),l.\u0275\u0275element(12,"i",9),l.\u0275\u0275elementEnd()(),l.\u0275\u0275element(13,"div",5)(14,"br")(15,"br")(16,"br"),l.\u0275\u0275elementStart(17,"div",0)(18,"h3"),l.\u0275\u0275element(19,"i",10),l.\u0275\u0275text(20),l.\u0275\u0275pipe(21,"currency"),l.\u0275\u0275elementStart(22,"a",11),l.\u0275\u0275listener("click",function(){return i.ubdateSalaryInput=!i.ubdateSalaryInput}),l.\u0275\u0275element(23,"i",12),l.\u0275\u0275elementEnd()()(),l.\u0275\u0275template(24,mZ,5,1,"form",13),l.\u0275\u0275elementStart(25,"table",14)(26,"thead",15)(27,"tr")(28,"th",16),l.\u0275\u0275text(29,"First Name"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(30,"th",16),l.\u0275\u0275text(31,"Last Name"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(32,"th",16),l.\u0275\u0275text(33,"Email"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(34,"th",16),l.\u0275\u0275text(35,"Country"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(36,"th",16),l.\u0275\u0275text(37,"City"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(38,"th",16),l.\u0275\u0275text(39,"Phone"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(40,"th",16),l.\u0275\u0275text(41,"Salary"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(42,"th",16),l.\u0275\u0275text(43,"ID"),l.\u0275\u0275elementEnd()()(),l.\u0275\u0275elementStart(44,"tbody")(45,"tr")(46,"th"),l.\u0275\u0275text(47),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(48,"th"),l.\u0275\u0275text(49),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(50,"th"),l.\u0275\u0275text(51),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(52,"th"),l.\u0275\u0275text(53),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(54,"th"),l.\u0275\u0275text(55),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(56,"th"),l.\u0275\u0275text(57),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(58,"th"),l.\u0275\u0275text(59),l.\u0275\u0275pipe(60,"currency"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(61,"th"),l.\u0275\u0275text(62),l.\u0275\u0275elementEnd()()()()()()),2&t&&(l.\u0275\u0275advance(7),l.\u0275\u0275property("routerLink",l.\u0275\u0275pureFunction1(22,gZ,"/edit-employee/"+i.id)),l.\u0275\u0275advance(11),l.\u0275\u0275classProp("text-danger",i.hasSalary)("text-primary",!i.hasSalary),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate1(" Salary : ",l.\u0275\u0275pipeBind3(21,15,i.employee.salary,"USD",!0)," "),l.\u0275\u0275advance(4),l.\u0275\u0275property("ngIf",i.ubdateSalaryInput),l.\u0275\u0275advance(23),l.\u0275\u0275textInterpolate(i.employee.firstName),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(i.employee.lastName),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(i.employee.email),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(i.employee.country),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate1("",i.employee.city," "),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate1("",i.employee.phone," "),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind2(60,19,i.employee.salary,"USD")),l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate1("",i.employee.$key," "))},dependencies:[D.NgIf,Lt,iy,pf,J_,ey,dw,Sm,D.CurrencyPipe]}),n})();function yZ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"div",30),l.\u0275\u0275text(1,"First Name is required"),l.\u0275\u0275elementEnd())}function vZ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"div",30),l.\u0275\u0275text(1,"Min required is 4 numbers"),l.\u0275\u0275elementEnd())}function bZ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"div",30),l.\u0275\u0275text(1,"Last Name is required"),l.\u0275\u0275elementEnd())}function wZ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"div",30),l.\u0275\u0275text(1,"Min required is 4 numbers"),l.\u0275\u0275elementEnd())}function EZ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"div",30),l.\u0275\u0275text(1,"Email is required"),l.\u0275\u0275elementEnd())}function CZ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"div",30),l.\u0275\u0275text(1,"Min required is 6 numbers"),l.\u0275\u0275elementEnd())}function IZ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"div",30),l.\u0275\u0275text(1," Country is required"),l.\u0275\u0275elementEnd())}function DZ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"div",30),l.\u0275\u0275text(1," City is required"),l.\u0275\u0275elementEnd())}function SZ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"div",30),l.\u0275\u0275text(1," phone is required"),l.\u0275\u0275elementEnd())}function TZ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"div",30),l.\u0275\u0275text(1,"Min required is 11 numbers"),l.\u0275\u0275elementEnd())}function xZ(n,e){if(1&n&&(l.\u0275\u0275elementStart(0,"div")(1,"h3"),l.\u0275\u0275text(2,"Submited Data"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(3,"p"),l.\u0275\u0275text(4),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(5,"p"),l.\u0275\u0275text(6),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(7,"p"),l.\u0275\u0275text(8),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(9,"p"),l.\u0275\u0275text(10),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(11,"p"),l.\u0275\u0275text(12),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(13,"p"),l.\u0275\u0275text(14),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(15,"p"),l.\u0275\u0275text(16),l.\u0275\u0275pipe(17,"currency"),l.\u0275\u0275elementEnd()()),2&n){const t=l.\u0275\u0275nextContext();l.\u0275\u0275advance(4),l.\u0275\u0275textInterpolate1("first name :",t.employee.firstName,""),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate1("last name :",t.employee.lastName,""),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate1("Email :",t.employee.email,""),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate1("Country :",t.employee.country,""),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate1("City :",t.employee.city,""),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate1("Phone :",t.employee.phone,""),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate1("Salary : ",l.\u0275\u0275pipeBind2(17,7,t.employee.salary,"USD"),"")}}let MZ=(()=>{class n{constructor(t,i,r,s){this.employeeService=t,this.flashMessagesService=i,this.router=r,this.toast=s,this.firstName="",this.lastName="",this.email="",this.country="",this.city="",this.phone="",this.disableSalary=!0,this.verifyForm="",this.itemarray=[],this.employee={firstName:"",lastName:"",email:"",country:"",city:"",phone:"",salary:""}}ngOnInit(){this.employeeService.getEmployees().subscribe(t=>{t.forEach(i=>{let r=i.payload.toJSON();r.$key=i.key,this.itemarray.push(r)})})}mySubmit(t){this.disableSalary&&(t.value.salary=2e3),t.valid?(this.employeeService.addEmployees(t.value),this.toast.success(" Thanks new employee added successfuly !",{style:{border:"1px solid #21b11e",padding:"16px",color:" #21b11e"},iconTheme:{primary:" #21b11e",secondary:"#FFFAEE"}}),this.router.navigate([""]),console.log("false")):(this.toast.error("Please write correct info!",{style:{border:"1px solid #ff0000",padding:"16px",color:"#ff0000"},iconTheme:{primary:"#ff0000",secondary:"#FFFAEE"}}),this.router.navigate(["add-employee"]))}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(ow),l.\u0275\u0275directiveInject(cc.GQ),l.\u0275\u0275directiveInject(Ce),l.\u0275\u0275directiveInject(uh))},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["app-addemployee"]],decls:71,vars:19,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],["href","#","routerLink","/",1,"btn","btn-warning","shadow-lg"],["aria-hidden","true",1,"fa","fa-arrow-circle-o-left"],[1,"col-md=12","mt-5"],["aria-hidden","true",1,"fa","fa-plus"],[1,"col-md-12","mt-5"],["novalidate","",3,"ngSubmit"],["fo","ngForm"],[1,"col-md-6"],[1,"form-group"],["type","text","name","firstName","required","","minlength","4","placeholder","First Name",1,"form-control","shadow-lg",3,"ngModel","ngModelChange"],["firstName","ngModel"],["class","alert alert-danger",4,"ngIf"],["type","text","name","lastName","required","","minlength","4","placeholder","Last Name",1,"form-control","shadow-lg",3,"ngModel","ngModelChange"],["lastName","ngModel"],["type","email","name","email","required","","minlength","6","placeholder","Email",1,"form-control","shadow-lg",3,"ngModel","ngModelChange"],["email","ngModel"],[1,"col-md-6","pl-4"],["type","text","name","country","required","","minlength","4","placeholder","Country",1,"form-control","shadow-lg",3,"ngModel","ngModelChange"],["country","ngModel"],["type","text","name","city","required","","minlength","4","placeholder","City",1,"form-control","shadow-lg",3,"ngModel","ngModelChange"],["city","ngModel"],["type","text","name","phone","required","","minlength","11","placeholder","Phone",1,"form-control","shadow-lg",3,"ngModel","ngModelChange"],["phone","ngModel"],["type","number","name","salary","placeholder","Salary",1,"form-control","shadow-lg",3,"ngModel","disabled","ngModelChange"],["salary","ngModel"],["type","submit",1,"btn","btn-primary","mb-5","mt-4","shadow-lg"],[4,"ngIf"],[1,"alert","alert-danger"]],template:function(t,i){if(1&t){const r=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),l.\u0275\u0275element(4,"i",4),l.\u0275\u0275text(5," Back to Dashboard "),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(6,"div",5)(7,"h2"),l.\u0275\u0275element(8,"i",6),l.\u0275\u0275text(9," Add employee "),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(10,"div",7)(11,"form",8,9),l.\u0275\u0275listener("ngSubmit",function(){l.\u0275\u0275restoreView(r);const u=l.\u0275\u0275reference(12);return l.\u0275\u0275resetView(i.mySubmit(u))}),l.\u0275\u0275elementStart(13,"div",1)(14,"div",10)(15,"div",11)(16,"label"),l.\u0275\u0275text(17,"First Name"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(18,"input",12,13),l.\u0275\u0275listener("ngModelChange",function(u){return i.employee.firstName=u}),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(20,yZ,2,0,"div",14),l.\u0275\u0275template(21,vZ,2,0,"div",14),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(22,"br"),l.\u0275\u0275elementStart(23,"div",11)(24,"label"),l.\u0275\u0275text(25,"Last Name "),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(26,"input",15,16),l.\u0275\u0275listener("ngModelChange",function(u){return i.employee.lastName=u}),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(28,bZ,2,0,"div",14),l.\u0275\u0275template(29,wZ,2,0,"div",14),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(30,"br"),l.\u0275\u0275elementStart(31,"div",11)(32,"label"),l.\u0275\u0275text(33,"Email"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(34,"input",17,18),l.\u0275\u0275listener("ngModelChange",function(u){return i.employee.email=u}),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(36,EZ,2,0,"div",14),l.\u0275\u0275template(37,CZ,2,0,"div",14),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(38,"br"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(39,"div",19)(40,"div",11)(41,"label"),l.\u0275\u0275text(42,"Country"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(43,"input",20,21),l.\u0275\u0275listener("ngModelChange",function(u){return i.employee.country=u}),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(45,IZ,2,0,"div",14),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(46,"br"),l.\u0275\u0275elementStart(47,"div",11)(48,"label"),l.\u0275\u0275text(49,"City"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(50,"input",22,23),l.\u0275\u0275listener("ngModelChange",function(u){return i.employee.city=u}),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(52,DZ,2,0,"div",14),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(53,"br"),l.\u0275\u0275elementStart(54,"div",11)(55,"label"),l.\u0275\u0275text(56,"Phone"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(57,"input",24,25),l.\u0275\u0275listener("ngModelChange",function(u){return i.employee.phone=u}),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(59,SZ,2,0,"div",14),l.\u0275\u0275template(60,TZ,2,0,"div",14),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(61,"br"),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(62,"div",11)(63,"label"),l.\u0275\u0275text(64,"Salary"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(65,"input",26,27),l.\u0275\u0275listener("ngModelChange",function(u){return i.employee.salary=u}),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(67,"button",28),l.\u0275\u0275text(68," Submit"),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(69,"br"),l.\u0275\u0275template(70,xZ,18,10,"div",29),l.\u0275\u0275elementEnd()()()()}if(2&t){const r=l.\u0275\u0275reference(19),s=l.\u0275\u0275reference(27),u=l.\u0275\u0275reference(35),h=l.\u0275\u0275reference(44),p=l.\u0275\u0275reference(51),y=l.\u0275\u0275reference(58);l.\u0275\u0275advance(18),l.\u0275\u0275property("ngModel",i.employee.firstName),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",(null==r.errors?null:r.errors.required)&&r.touched),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",(null==r.errors?null:r.errors.minlength)&&r.touched),l.\u0275\u0275advance(5),l.\u0275\u0275property("ngModel",i.employee.lastName),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",(null==s.errors?null:s.errors.required)&&s.touched),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",(null==s.errors?null:s.errors.minlength)&&s.touched),l.\u0275\u0275advance(5),l.\u0275\u0275property("ngModel",i.employee.email),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",(null==u.errors?null:u.errors.required)&&u.touched),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",(null==u.errors?null:u.errors.minlength)&&u.touched),l.\u0275\u0275advance(6),l.\u0275\u0275property("ngModel",i.employee.country),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",(null==h.errors?null:h.errors.required)&&h.touched),l.\u0275\u0275advance(5),l.\u0275\u0275property("ngModel",i.employee.city),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",(null==p.errors?null:p.errors.required)&&p.touched),l.\u0275\u0275advance(5),l.\u0275\u0275property("ngModel",i.employee.phone),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",(null==y.errors?null:y.errors.required)&&y.touched),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",(null==y.errors?null:y.errors.minlength)&&y.touched),l.\u0275\u0275advance(5),l.\u0275\u0275property("ngModel",i.employee.salary)("disabled",i.disableSalary),l.\u0275\u0275advance(5),l.\u0275\u0275property("ngIf",""!=i.verifyForm)}},dependencies:[D.NgIf,Lt,iy,pf,MT,J_,ey,hw,RT,dw,Sm,D.CurrencyPipe],styles:[".form-control.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:2px solid rgb(233,58,58);box-shadow:0 0 0 .2rem #e4b0b0}.form-control.ng-valid[_ngcontent-%COMP%]{border:2px solid rgb(62,213,78);box-shadow:0 0 0 .2rem #bfe8c6d6;outline:0}",".container[_ngcontent-%COMP%]{\n    padding-top: 20px;\n  }\n  label[_ngcontent-%COMP%] {\n    font-weight: bold;\n  }"]}),n})();function AZ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"div",29),l.\u0275\u0275text(1,"First Name is required"),l.\u0275\u0275elementEnd())}function kZ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"div",29),l.\u0275\u0275text(1,"Min required is 4 numbers"),l.\u0275\u0275elementEnd())}function RZ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"div",29),l.\u0275\u0275text(1,"Last Name is required"),l.\u0275\u0275elementEnd())}function OZ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"div",29),l.\u0275\u0275text(1,"Min required is 4 numbers"),l.\u0275\u0275elementEnd())}function PZ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"div",29),l.\u0275\u0275text(1,"Email is required"),l.\u0275\u0275elementEnd())}function NZ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"div",29),l.\u0275\u0275text(1,"Min required is 6 numbers"),l.\u0275\u0275elementEnd())}function FZ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"div",29),l.\u0275\u0275text(1," Country is required"),l.\u0275\u0275elementEnd())}function LZ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"div",29),l.\u0275\u0275text(1," City is required"),l.\u0275\u0275elementEnd())}function VZ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"div",29),l.\u0275\u0275text(1," phone is required"),l.\u0275\u0275elementEnd())}function BZ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"div",29),l.\u0275\u0275text(1,"Min required is 11 numbers"),l.\u0275\u0275elementEnd())}const jZ=function(n){return[n]};let UZ=(()=>{class n{constructor(t,i,r,s,u){this.employeeService=t,this.router=i,this.activatedRoute=r,this.flashMessagesService=s,this.toast=u,this.employee={firstName:"",lastName:"",email:"",country:"",city:"",phone:"",salary:""},this.disableSalaryEdit=!0}ngOnInit(){this.id=this.activatedRoute.snapshot.paramMap.get("id"),this.employeeService.getEmployee(this.id).subscribe(t=>{let i=t.payload.toJSON();i.$key=t.key,this.employee=i,console.log(i)})}mySubmit(t){t.valid?(this.employeeService.ubdateEmployee(this.id,t.value),this.toast.success(" Employee updated successfuly !",{style:{border:"1px solid #21b11e",padding:"16px",color:" #21b11e"},iconTheme:{primary:" #21b11e",secondary:"#FFFAEE"}}),this.router.navigate(["employee/"+this.id]),console.log("false")):(this.toast.error("Please write correct info!",{style:{border:"1px solid #ff0000",padding:"16px",color:"#ff0000"},iconTheme:{primary:"#ff0000",secondary:"#FFFAEE"}}),this.router.navigate(["edit-employee/"+this.id]))}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(ow),l.\u0275\u0275directiveInject(Ce),l.\u0275\u0275directiveInject(Hr),l.\u0275\u0275directiveInject(cc.GQ),l.\u0275\u0275directiveInject(uh))},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["app-editemployee"]],decls:70,vars:21,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],["href","#",1,"btn","btn-warning","shadow-lg",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-circle-o-left"],[1,"col-md=12","mt-5"],["aria-hidden","true",1,"fa","fa-plus"],[1,"col-md-12","mt-5"],["novalidate","",3,"ngSubmit"],["fo","ngForm"],[1,"col-md-6"],[1,"form-group"],["type","text","name","firstName","required","","minlength","4","placeholder","First Name",1,"form-control","shadow-lg",3,"ngModel","ngModelChange"],["firstName","ngModel"],["class","alert alert-danger",4,"ngIf"],["type","text","name","lastName","required","","minlength","4","placeholder","Last Name",1,"form-control","shadow-lg",3,"ngModel","ngModelChange"],["lastName","ngModel"],["type","email","name","email","required","","minlength","6","placeholder","Email",1,"form-control","shadow-lg",3,"ngModel","ngModelChange"],["email","ngModel"],[1,"col-md-6","pl-4"],["type","text","name","country","required","","minlength","4","placeholder","Country",1,"form-control","shadow-lg",3,"ngModel","ngModelChange"],["country","ngModel"],["type","text","name","city","required","","minlength","4","placeholder","City",1,"form-control","shadow-lg",3,"ngModel","ngModelChange"],["city","ngModel"],["type","text","name","phone","required","","minlength","11","placeholder","Phone",1,"form-control","shadow-lg",3,"ngModel","ngModelChange"],["phone","ngModel"],["type","number","name","salary","placeholder","Salary",1,"form-control","shadow-lg",3,"ngModel","disabled","ngModelChange"],["salary","ngModel"],["type","submit",1,"btn","btn-primary","mb-5","mt-4","shadow-lg"],[1,"alert","alert-danger"]],template:function(t,i){if(1&t){const r=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),l.\u0275\u0275element(4,"i",4),l.\u0275\u0275text(5," Back Employee Info "),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(6,"div",5)(7,"h2"),l.\u0275\u0275element(8,"i",6),l.\u0275\u0275text(9," Edit employee "),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(10,"div",7)(11,"form",8,9),l.\u0275\u0275listener("ngSubmit",function(){l.\u0275\u0275restoreView(r);const u=l.\u0275\u0275reference(12);return l.\u0275\u0275resetView(i.mySubmit(u))}),l.\u0275\u0275elementStart(13,"div",1)(14,"div",10)(15,"div",11)(16,"label"),l.\u0275\u0275text(17,"First Name"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(18,"input",12,13),l.\u0275\u0275listener("ngModelChange",function(u){return i.employee.firstName=u}),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(20,AZ,2,0,"div",14),l.\u0275\u0275template(21,kZ,2,0,"div",14),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(22,"br"),l.\u0275\u0275elementStart(23,"div",11)(24,"label"),l.\u0275\u0275text(25,"Last Name "),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(26,"input",15,16),l.\u0275\u0275listener("ngModelChange",function(u){return i.employee.lastName=u}),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(28,RZ,2,0,"div",14),l.\u0275\u0275template(29,OZ,2,0,"div",14),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(30,"br"),l.\u0275\u0275elementStart(31,"div",11)(32,"label"),l.\u0275\u0275text(33,"Email"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(34,"input",17,18),l.\u0275\u0275listener("ngModelChange",function(u){return i.employee.email=u}),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(36,PZ,2,0,"div",14),l.\u0275\u0275template(37,NZ,2,0,"div",14),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(38,"br"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(39,"div",19)(40,"div",11)(41,"label"),l.\u0275\u0275text(42,"Country"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(43,"input",20,21),l.\u0275\u0275listener("ngModelChange",function(u){return i.employee.country=u}),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(45,FZ,2,0,"div",14),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(46,"br"),l.\u0275\u0275elementStart(47,"div",11)(48,"label"),l.\u0275\u0275text(49,"City"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(50,"input",22,23),l.\u0275\u0275listener("ngModelChange",function(u){return i.employee.city=u}),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(52,LZ,2,0,"div",14),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(53,"br"),l.\u0275\u0275elementStart(54,"div",11)(55,"label"),l.\u0275\u0275text(56,"Phone"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(57,"input",24,25),l.\u0275\u0275listener("ngModelChange",function(u){return i.employee.phone=u}),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(59,VZ,2,0,"div",14),l.\u0275\u0275template(60,BZ,2,0,"div",14),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(61,"br"),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(62,"div",11)(63,"label"),l.\u0275\u0275text(64,"Salary"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(65,"input",26,27),l.\u0275\u0275listener("ngModelChange",function(u){return i.employee.salary=u}),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(67,"button",28),l.\u0275\u0275text(68," Submit"),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(69,"br"),l.\u0275\u0275elementEnd()()()()}if(2&t){const r=l.\u0275\u0275reference(19),s=l.\u0275\u0275reference(27),u=l.\u0275\u0275reference(35),h=l.\u0275\u0275reference(44),p=l.\u0275\u0275reference(51),y=l.\u0275\u0275reference(58);l.\u0275\u0275advance(3),l.\u0275\u0275property("routerLink",l.\u0275\u0275pureFunction1(19,jZ,"/employee/"+i.id)),l.\u0275\u0275advance(15),l.\u0275\u0275property("ngModel",i.employee.firstName),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",(null==r.errors?null:r.errors.required)&&r.touched),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",(null==r.errors?null:r.errors.minlength)&&r.touched),l.\u0275\u0275advance(5),l.\u0275\u0275property("ngModel",i.employee.lastName),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",(null==s.errors?null:s.errors.required)&&s.touched),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",(null==s.errors?null:s.errors.minlength)&&s.touched),l.\u0275\u0275advance(5),l.\u0275\u0275property("ngModel",i.employee.email),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",(null==u.errors?null:u.errors.required)&&u.touched),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",(null==u.errors?null:u.errors.minlength)&&u.touched),l.\u0275\u0275advance(6),l.\u0275\u0275property("ngModel",i.employee.country),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",(null==h.errors?null:h.errors.required)&&h.touched),l.\u0275\u0275advance(5),l.\u0275\u0275property("ngModel",i.employee.city),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",(null==p.errors?null:p.errors.required)&&p.touched),l.\u0275\u0275advance(5),l.\u0275\u0275property("ngModel",i.employee.phone),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",(null==y.errors?null:y.errors.required)&&y.touched),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",(null==y.errors?null:y.errors.minlength)&&y.touched),l.\u0275\u0275advance(5),l.\u0275\u0275property("ngModel",i.employee.salary)("disabled",i.disableSalaryEdit)}},dependencies:[D.NgIf,Lt,iy,pf,MT,J_,ey,hw,RT,dw,Sm],styles:[".container[_ngcontent-%COMP%]{\n    padding-top: 20px;\n  }\n  label[_ngcontent-%COMP%] {\n    font-weight: bold;\n  }"]}),n})();const HZ=["connectionContainer"],$Z=["inputContainer"],zZ=["label"];function WZ(n,e){1&n&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275elementStart(1,"div",14),l.\u0275\u0275element(2,"div",15)(3,"div",16)(4,"div",17),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(5,"div",18),l.\u0275\u0275element(6,"div",15)(7,"div",16)(8,"div",17),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementContainerEnd())}function GZ(n,e){if(1&n){const t=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"div",19),l.\u0275\u0275listener("cdkObserveContent",function(){l.\u0275\u0275restoreView(t);const r=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(r.updateOutlineGap())}),l.\u0275\u0275projection(1,1),l.\u0275\u0275elementEnd()}if(2&n){const t=l.\u0275\u0275nextContext();l.\u0275\u0275property("cdkObserveContentDisabled","outline"!=t.appearance)}}function KZ(n,e){if(1&n&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275projection(1,2),l.\u0275\u0275elementStart(2,"span"),l.\u0275\u0275text(3),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementContainerEnd()),2&n){const t=l.\u0275\u0275nextContext(2);l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate(t._control.placeholder)}}function qZ(n,e){1&n&&l.\u0275\u0275projection(0,3,["*ngSwitchCase","true"])}function YZ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"span",23),l.\u0275\u0275text(1," *"),l.\u0275\u0275elementEnd())}function ZZ(n,e){if(1&n){const t=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"label",20,21),l.\u0275\u0275listener("cdkObserveContent",function(){l.\u0275\u0275restoreView(t);const r=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(r.updateOutlineGap())}),l.\u0275\u0275template(2,KZ,4,1,"ng-container",12),l.\u0275\u0275template(3,qZ,1,0,"ng-content",12),l.\u0275\u0275template(4,YZ,2,0,"span",22),l.\u0275\u0275elementEnd()}if(2&n){const t=l.\u0275\u0275nextContext();l.\u0275\u0275classProp("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),l.\u0275\u0275property("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),l.\u0275\u0275attribute("for",t._control.id)("aria-owns",t._control.id),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngSwitchCase",!1),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngSwitchCase",!0),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function QZ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"div",24),l.\u0275\u0275projection(1,4),l.\u0275\u0275elementEnd())}function XZ(n,e){if(1&n&&(l.\u0275\u0275elementStart(0,"div",25),l.\u0275\u0275element(1,"span",26),l.\u0275\u0275elementEnd()),2&n){const t=l.\u0275\u0275nextContext();l.\u0275\u0275advance(1),l.\u0275\u0275classProp("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function JZ(n,e){if(1&n&&(l.\u0275\u0275elementStart(0,"div"),l.\u0275\u0275projection(1,5),l.\u0275\u0275elementEnd()),2&n){const t=l.\u0275\u0275nextContext();l.\u0275\u0275property("@transitionMessages",t._subscriptAnimationState)}}function eQ(n,e){if(1&n&&(l.\u0275\u0275elementStart(0,"div",30),l.\u0275\u0275text(1),l.\u0275\u0275elementEnd()),2&n){const t=l.\u0275\u0275nextContext(2);l.\u0275\u0275property("id",t._hintLabelId),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(t.hintLabel)}}function tQ(n,e){if(1&n&&(l.\u0275\u0275elementStart(0,"div",27),l.\u0275\u0275template(1,eQ,2,2,"div",28),l.\u0275\u0275projection(2,6),l.\u0275\u0275element(3,"div",29),l.\u0275\u0275projection(4,7),l.\u0275\u0275elementEnd()),2&n){const t=l.\u0275\u0275nextContext();l.\u0275\u0275property("@transitionMessages",t._subscriptAnimationState),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",t.hintLabel)}}const nQ=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],iQ=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let rQ=0;const X3=new l.InjectionToken("MatError");let J3=(()=>{class n{constructor(t,i){this.id="mat-error-"+rQ++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275injectAttribute("aria-live"),l.\u0275\u0275directiveInject(l.ElementRef))},n.\u0275dir=l.\u0275\u0275defineDirective({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,i){2&t&&l.\u0275\u0275attribute("id",i.id)},inputs:{id:"id"},features:[l.\u0275\u0275ProvidersFeature([{provide:X3,useExisting:n}])]}),n})();const sQ={transitionMessages:mu("transitionMessages",[gu("enter",Ir({opacity:1,transform:"translateY(0%)"})),Da("void => enter",[Ir({opacity:0,transform:"translateY(-5px)"}),Io("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let sN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.\u0275\u0275defineDirective({type:n}),n})();const oQ=new l.InjectionToken("MatHint");let ez=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.\u0275\u0275defineDirective({type:n,selectors:[["mat-label"]]}),n})(),aQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.\u0275\u0275defineDirective({type:n,selectors:[["mat-placeholder"]]}),n})();const lQ=new l.InjectionToken("MatPrefix"),tz=new l.InjectionToken("MatSuffix");let nz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.\u0275\u0275defineDirective({type:n,selectors:[["","matSuffix",""]],features:[l.\u0275\u0275ProvidersFeature([{provide:tz,useExisting:n}])]}),n})(),iz=0;const uQ=Ec(class{constructor(n){this._elementRef=n}},"primary"),dQ=new l.InjectionToken("MAT_FORM_FIELD_DEFAULT_OPTIONS"),OT=new l.InjectionToken("MatFormField");let sz=(()=>{class n extends uQ{constructor(t,i,r,s,u,h,p){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ft.xQ,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+iz++,this._labelId="mat-form-field-label-"+iz++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=xi(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe((0,Mn.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe((0,bc.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,bc.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Ca.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,Mn.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,Mn.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,bc.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,md(this._label.nativeElement,"transitionend").pipe((0,ei.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const C=i.querySelectorAll(`${r}, ${s}`);for(let M=0;M<C.length;M++)C[M].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const p=i.querySelectorAll(r),y=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const C=i.getBoundingClientRect();if(0===C.width&&0===C.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const M=this._getStartEnd(C),B=t.children,ee=this._getStartEnd(B[0].getBoundingClientRect());let re=0;for(let ye=0;ye<B.length;ye++)re+=B[ye].offsetWidth;u=Math.abs(ee-M)-5,h=re>0?.75*re+10:0}for(let C=0;C<p.length;C++)p[C].style.width=`${u}px`;for(let C=0;C<y.length;C++)y[C].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(l.ChangeDetectorRef),l.\u0275\u0275directiveInject(fu,8),l.\u0275\u0275directiveInject(dQ,8),l.\u0275\u0275directiveInject(Eo),l.\u0275\u0275directiveInject(l.NgZone),l.\u0275\u0275directiveInject(l.ANIMATION_MODULE_TYPE,8))},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(l.\u0275\u0275contentQuery(r,sN,5),l.\u0275\u0275contentQuery(r,sN,7),l.\u0275\u0275contentQuery(r,ez,5),l.\u0275\u0275contentQuery(r,ez,7),l.\u0275\u0275contentQuery(r,aQ,5),l.\u0275\u0275contentQuery(r,X3,5),l.\u0275\u0275contentQuery(r,oQ,5),l.\u0275\u0275contentQuery(r,lQ,5),l.\u0275\u0275contentQuery(r,tz,5)),2&t){let s;l.\u0275\u0275queryRefresh(s=l.\u0275\u0275loadQuery())&&(i._controlNonStatic=s.first),l.\u0275\u0275queryRefresh(s=l.\u0275\u0275loadQuery())&&(i._controlStatic=s.first),l.\u0275\u0275queryRefresh(s=l.\u0275\u0275loadQuery())&&(i._labelChildNonStatic=s.first),l.\u0275\u0275queryRefresh(s=l.\u0275\u0275loadQuery())&&(i._labelChildStatic=s.first),l.\u0275\u0275queryRefresh(s=l.\u0275\u0275loadQuery())&&(i._placeholderChild=s.first),l.\u0275\u0275queryRefresh(s=l.\u0275\u0275loadQuery())&&(i._errorChildren=s),l.\u0275\u0275queryRefresh(s=l.\u0275\u0275loadQuery())&&(i._hintChildren=s),l.\u0275\u0275queryRefresh(s=l.\u0275\u0275loadQuery())&&(i._prefixChildren=s),l.\u0275\u0275queryRefresh(s=l.\u0275\u0275loadQuery())&&(i._suffixChildren=s)}},viewQuery:function(t,i){if(1&t&&(l.\u0275\u0275viewQuery(HZ,7),l.\u0275\u0275viewQuery($Z,5),l.\u0275\u0275viewQuery(zZ,5)),2&t){let r;l.\u0275\u0275queryRefresh(r=l.\u0275\u0275loadQuery())&&(i._connectionContainerRef=r.first),l.\u0275\u0275queryRefresh(r=l.\u0275\u0275loadQuery())&&(i._inputContainerRef=r.first),l.\u0275\u0275queryRefresh(r=l.\u0275\u0275loadQuery())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&l.\u0275\u0275classProp("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l.\u0275\u0275ProvidersFeature([{provide:OT,useExisting:n}]),l.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:iQ,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(l.\u0275\u0275projectionDef(nQ),l.\u0275\u0275elementStart(0,"div",0)(1,"div",1,2),l.\u0275\u0275listener("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),l.\u0275\u0275template(3,WZ,9,0,"ng-container",3),l.\u0275\u0275template(4,GZ,2,1,"div",4),l.\u0275\u0275elementStart(5,"div",5,6),l.\u0275\u0275projection(7),l.\u0275\u0275elementStart(8,"span",7),l.\u0275\u0275template(9,ZZ,5,16,"label",8),l.\u0275\u0275elementEnd()(),l.\u0275\u0275template(10,QZ,2,0,"div",9),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(11,XZ,2,4,"div",10),l.\u0275\u0275elementStart(12,"div",11),l.\u0275\u0275template(13,JZ,2,1,"div",12),l.\u0275\u0275template(14,tQ,5,2,"div",13),l.\u0275\u0275elementEnd()()),2&t&&(l.\u0275\u0275advance(3),l.\u0275\u0275property("ngIf","outline"==i.appearance),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",i._prefixChildren.length),l.\u0275\u0275advance(5),l.\u0275\u0275property("ngIf",i._hasFloatingLabel()),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",i._suffixChildren.length),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf","outline"!=i.appearance),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngSwitch",i._getDisplayedMessages()),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngSwitchCase","error"),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngSwitchCase","hint"))},dependencies:[D.NgIf,D.NgSwitch,D.NgSwitchCase,tv],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[sQ.transitionMessages]},changeDetection:0}),n})(),PT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({imports:[D.CommonModule,gi,fh,gi]}),n})();const oz=rd({passive:!0});let hQ=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ji.E;const i=fs(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Ft.xQ,u="cdk-text-field-autofilled",h=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,oz),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",h,oz)}}),s}stopMonitoring(t){const i=fs(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(Eo),l.\u0275\u0275inject(l.NgZone))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),az=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({}),n})();const lz=new l.InjectionToken("MAT_INPUT_VALUE_ACCESSOR"),fQ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let pQ=0;const mQ=mv(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new Ft.xQ}});let cz=(()=>{class n extends mQ{constructor(t,i,r,s,u,h,p,y,C,M){super(h,s,u,r),this._elementRef=t,this._platform=i,this._autofillMonitor=y,this._formField=M,this._uid="mat-input-"+pQ++,this.focused=!1,this.stateChanges=new Ft.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(re=>Wy().has(re)),this._iOSKeyupListener=re=>{const ye=re.target;!ye.value&&0===ye.selectionStart&&0===ye.selectionEnd&&(ye.setSelectionRange(1,1),ye.setSelectionRange(0,0))};const B=this._elementRef.nativeElement,ee=B.nodeName.toLowerCase();this._inputValueAccessor=p||B,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&C.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===ee,this._isTextarea="textarea"===ee,this._isInFormField=!!M,this._isNativeSelect&&(this.controlType=B.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=xi(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Fc.required)??!1}set required(t){this._required=xi(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Wy().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=xi(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField,i=t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){fQ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(Eo),l.\u0275\u0275directiveInject(kd,10),l.\u0275\u0275directiveInject(Sm,8),l.\u0275\u0275directiveInject(ry,8),l.\u0275\u0275directiveInject(_v),l.\u0275\u0275directiveInject(lz,10),l.\u0275\u0275directiveInject(hQ),l.\u0275\u0275directiveInject(l.NgZone),l.\u0275\u0275directiveInject(OT,8))},n.\u0275dir=l.\u0275\u0275defineDirective({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&l.\u0275\u0275listener("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(l.\u0275\u0275hostProperty("disabled",i.disabled)("required",i.required),l.\u0275\u0275attribute("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),l.\u0275\u0275classProp("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l.\u0275\u0275ProvidersFeature([{provide:sN,useExisting:n}]),l.\u0275\u0275InheritDefinitionFeature,l.\u0275\u0275NgOnChangesFeature]}),n})(),gQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({providers:[_v],imports:[az,PT,gi,az,PT]}),n})();function _Q(n,e){1&n&&(l.\u0275\u0275elementStart(0,"mat-error"),l.\u0275\u0275text(1," Please enter a correct email format "),l.\u0275\u0275elementEnd())}function yQ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"mat-error"),l.\u0275\u0275text(1," Password is required "),l.\u0275\u0275elementEnd())}function vQ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"mat-error"),l.\u0275\u0275text(1," Password is wrong "),l.\u0275\u0275elementEnd())}let bQ=(()=>{class n{constructor(t,i,r,s){this.flashMessagesService=t,this.router=i,this.authService=r,this.toast=s,this.hide=!0,this.signout=!0,this.loginForm=new ny({email:new Lc("",[Fc.required,Fc.email]),password:new Lc("",[Fc.required])})}ngOnInit(){}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}mySubmit(){if(!this.loginForm.valid)return;const{email:t,password:i}=this.loginForm.value;this.authService.login(t,i).pipe(this.toast.observe({success:"Logged in successfully",loading:"Logging in...",error:"email or password is wrong"})).subscribe(()=>{this.router.navigate([""])})}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(cc.GQ),l.\u0275\u0275directiveInject(Ce),l.\u0275\u0275directiveInject(gc),l.\u0275\u0275directiveInject(uh))},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["app-login"]],decls:22,vars:6,consts:[[1,"form-contaainer","mt-5","mat-elevation-z5"],["src","assets/1.png","alt","logo",1,"img","center"],[1,"text-center",2,"font-size","30px"],[1,"row","d-flex","justify-content-center"],[3,"formGroup","submit"],[1,"center","margin-top"],["matInput","","placeholder","Email address","formControlName","email","type","email"],[4,"ngIf"],[1,"center"],["matInput","","placeholder","Password","formControlName","password","type","password",3,"type"],["matSuffix","",2,"color","rgb(143, 142, 142)","margin-left","-20px",3,"click"],["mat-raised-button","","color","primary","type","submit",1,""],["href","#","routerLink","/register",1,"sign-up-link"]],template:function(t,i){1&t&&(l.\u0275\u0275elementStart(0,"div",0),l.\u0275\u0275element(1,"img",1),l.\u0275\u0275elementStart(2,"h1",2),l.\u0275\u0275text(3," Login"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(4,"div",3)(5,"form",4),l.\u0275\u0275listener("submit",function(){return i.mySubmit()}),l.\u0275\u0275elementStart(6,"mat-form-field",5),l.\u0275\u0275element(7,"input",6),l.\u0275\u0275template(8,_Q,2,0,"mat-error",7),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(9,"mat-form-field",8),l.\u0275\u0275element(10,"input",9),l.\u0275\u0275elementStart(11,"mat-icon",10),l.\u0275\u0275listener("click",function(){return i.hide=!i.hide}),l.\u0275\u0275text(12),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(13,yQ,2,0,"mat-error",7),l.\u0275\u0275template(14,vQ,2,0,"mat-error",7),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(15,"div",5)(16,"button",11),l.\u0275\u0275text(17,"Login"),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(18,"span",5),l.\u0275\u0275text(19,"New to our platform? "),l.\u0275\u0275elementStart(20,"a",12),l.\u0275\u0275text(21," Sign Up!"),l.\u0275\u0275elementEnd()()()()()),2&t&&(l.\u0275\u0275advance(5),l.\u0275\u0275property("formGroup",i.loginForm),l.\u0275\u0275advance(3),l.\u0275\u0275property("ngIf",null==i.email||null==i.email.errors?null:i.email.errors.email),l.\u0275\u0275advance(2),l.\u0275\u0275property("type",i.hide?"password":"text"),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate1(" ",i.hide?"visibility":" visibility_off",""),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",null==i.password||null==i.password.errors?null:i.password.errors.required),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",null==i.password||null==i.password.errors?null:i.password.errors.pattern))},dependencies:[D.NgIf,Lt,iy,pf,J_,ey,Pv,BC,J3,sz,nz,cz,ry,AT],styles:["mat-toolbar[_ngcontent-%COMP%]{justify-content:space-between}.form-contaainer[_ngcontent-%COMP%]{display:block;max-width:400px;margin:auto;background:#eceff1;padding:48px;border-radius:16px}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}.margin-top[_ngcontent-%COMP%]{margin-top:16px}.text-center[_ngcontent-%COMP%]{text-align:center}.sign-up-link[_ngcontent-%COMP%]{font-size:1.2rem;margin-left:8px}.img[_ngcontent-%COMP%]{width:30%;margin:0 auto}@media (max-width:400px){.img[_ngcontent-%COMP%]{width:30%}}"]}),n})();function wQ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"mat-error"),l.\u0275\u0275text(1," UserName is required "),l.\u0275\u0275elementEnd())}function EQ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"mat-error"),l.\u0275\u0275text(1," UserName should be atleast 4 letters "),l.\u0275\u0275elementEnd())}function CQ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"mat-error"),l.\u0275\u0275text(1," Email is required "),l.\u0275\u0275elementEnd())}function IQ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"mat-error"),l.\u0275\u0275text(1," Please enter a correct email format "),l.\u0275\u0275elementEnd())}function DQ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"mat-error"),l.\u0275\u0275text(1," Password is required "),l.\u0275\u0275elementEnd())}function SQ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"mat-error"),l.\u0275\u0275text(1," ConfirmPassword is required "),l.\u0275\u0275elementEnd())}function TQ(n,e){1&n&&(l.\u0275\u0275elementStart(0,"mat-error"),l.\u0275\u0275text(1," Password is mismatched "),l.\u0275\u0275elementEnd())}let xQ=(()=>{class n{constructor(t,i,r,s){this.fb=t,this.router=i,this.authService=r,this.toast=s,this.hide=!0,this.signUpForm=new ny({name:new Lc("",[Fc.required,Fc.minLength(4)]),email:new Lc("",[Fc.required,Fc.email]),password:new Lc("",[Fc.required]),confirmpassword:new Lc("",[Fc.required])},{validators:this.passwordMatch("password","confirmpassword")})}ngOnInit(){}get f(){return this.signUpForm.controls}get name(){return this.signUpForm.get("name")}get email(){return this.signUpForm.get("email")}get password(){return this.signUpForm.get("password")}get confirmpassword(){return this.signUpForm.get("confirmpassword")}mySubmit(){if(!this.signUpForm.valid)return;const{name:t,email:i,password:r}=this.signUpForm.value;this.authService.signup(t,i,r).pipe(this.toast.observe({success:"You are sign Up successfully :)",loading:"Signing up...",error:({message:s})=>`${s}`})).subscribe(()=>{this.router.navigate([""])})}passwordMatch(t,i){return r=>{const s=r.get(t),u=r.get(i);return!s||!u||u.errors&&!u.errors.passwordMismatch?null:s.value!==u.value?(u.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):(u.setErrors(null),null)}}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275directiveInject(pZ),l.\u0275\u0275directiveInject(Ce),l.\u0275\u0275directiveInject(gc),l.\u0275\u0275directiveInject(uh))},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["app-register"]],decls:27,vars:12,consts:[[1,"form-contaainer","mt-5","mat-elevation-z5"],[1,"text-center",2,"font-size","30px"],[1,"row","d-flex","justify-content-center"],[3,"formGroup","submit"],[1,"center","margin-top"],["matInput","","placeholder","UserName","formControlName","name","type","text"],[4,"ngIf"],["matInput","","placeholder","Email address","formControlName","email","type","email"],["matInput","","placeholder","Password","formControlName","password","type","password",3,"type"],["matSuffix","",2,"color","rgb(143, 142, 142)","margin-left","-20px",3,"click"],["matInput","","placeholder","ConfirmPassword","formControlName","confirmpassword","type","password",3,"type"],["mat-raised-button","","color","primary","type","submit",1,""]],template:function(t,i){1&t&&(l.\u0275\u0275elementStart(0,"div",0)(1,"h1",1),l.\u0275\u0275text(2,"Sign Up"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(3,"div",2)(4,"form",3),l.\u0275\u0275listener("submit",function(){return i.mySubmit()}),l.\u0275\u0275elementStart(5,"mat-form-field",4),l.\u0275\u0275element(6,"input",5),l.\u0275\u0275template(7,wQ,2,0,"mat-error",6),l.\u0275\u0275template(8,EQ,2,0,"mat-error",6),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(9,"mat-form-field",4),l.\u0275\u0275element(10,"input",7),l.\u0275\u0275template(11,CQ,2,0,"mat-error",6),l.\u0275\u0275template(12,IQ,2,0,"mat-error",6),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(13,"mat-form-field",4),l.\u0275\u0275element(14,"input",8),l.\u0275\u0275elementStart(15,"mat-icon",9),l.\u0275\u0275listener("click",function(){return i.hide=!i.hide}),l.\u0275\u0275text(16),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(17,DQ,2,0,"mat-error",6),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(18,"mat-form-field",4),l.\u0275\u0275element(19,"input",10),l.\u0275\u0275elementStart(20,"mat-icon",9),l.\u0275\u0275listener("click",function(){return i.hide=!i.hide}),l.\u0275\u0275text(21),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(22,SQ,2,0,"mat-error",6),l.\u0275\u0275template(23,TQ,2,0,"mat-error",6),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(24,"div",4)(25,"button",11),l.\u0275\u0275text(26,"Sign up "),l.\u0275\u0275elementEnd()()()()()),2&t&&(l.\u0275\u0275advance(4),l.\u0275\u0275property("formGroup",i.signUpForm),l.\u0275\u0275advance(3),l.\u0275\u0275property("ngIf",null==i.f.name||null==i.f.name.errors?null:i.f.name.errors.required),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",null==i.f.name||null==i.f.name.errors?null:i.f.name.errors.minlength),l.\u0275\u0275advance(3),l.\u0275\u0275property("ngIf",null==i.f.email||null==i.f.email.errors?null:i.f.email.errors.required),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",null==i.f.email||null==i.f.email.errors?null:i.f.email.errors.email),l.\u0275\u0275advance(2),l.\u0275\u0275property("type",i.hide?"password":"text"),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate1(" ",i.hide?"visibility":" visibility_off",""),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",null==i.f.password||null==i.f.password.errors?null:i.f.password.errors.required),l.\u0275\u0275advance(2),l.\u0275\u0275property("type",i.hide?"password":"text"),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate1(" ",i.hide?"visibility":" visibility_off",""),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",null==i.f.confirmpassword.errors?null:i.f.confirmpassword.errors.required),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",null==i.signUpForm||null==i.signUpForm.errors?null:i.signUpForm.errors.passwordMismatch))},dependencies:[D.NgIf,iy,pf,J_,ey,Pv,BC,J3,sz,nz,cz,ry,AT],styles:["mat-toolbar[_ngcontent-%COMP%]{justify-content:space-between}.form-contaainer[_ngcontent-%COMP%]{display:block;max-width:400px;margin:auto;background:#eceff1;padding:48px;border-radius:16px}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}.margin-top[_ngcontent-%COMP%]{margin-top:16px}.text-center[_ngcontent-%COMP%]{text-align:center}.sign-up-link[_ngcontent-%COMP%]{font-size:1.2rem;margin-left:8px}"]}),n})();function uz(n){return new l.\u0275RuntimeError(3e3,!1)}function cX(){return typeof window<"u"&&typeof window.document<"u"}function oN(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function _f(n){switch(n.length){case 0:return new xh;case 1:return n[0];default:return new zC(n)}}function dz(n,e,t,i,r=new Map,s=new Map){const u=[],h=[];let p=-1,y=null;if(i.forEach(C=>{const M=C.get("offset"),B=M==p,ee=B&&y||new Map;C.forEach((re,ye)=>{let Te=ye,it=re;if("offset"!==ye)switch(Te=e.normalizePropertyName(Te,u),it){case"!":it=r.get(ye);break;case Dc:it=s.get(ye);break;default:it=e.normalizeStyleValue(ye,Te,it,u)}ee.set(Te,it)}),B||h.push(ee),y=ee,p=M}),u.length)throw function QQ(n){return new l.\u0275RuntimeError(3502,!1)}();return h}function aN(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&lN(t,"start",n)));break;case"done":n.onDone(()=>i(t&&lN(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&lN(t,"destroy",n)))}}function lN(n,e,t){const s=cN(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(s._data=u),s}function cN(n,e,t,i,r="",s=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!u}}function il(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function hz(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let uN=(n,e)=>!1,fz=(n,e,t)=>[],pz=null;function dN(n){const e=n.parentNode||n.host;return e===pz?null:e}(oN()||typeof Element<"u")&&(cX()?(pz=(()=>document.documentElement)(),uN=(n,e)=>{for(;e;){if(e===n)return!0;e=dN(e)}return!1}):uN=(n,e)=>n.contains(e),fz=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let xm=null,mz=!1;const gz=uN,_z=fz;let yz=(()=>{class n{validateStyleProperty(t){return function dX(n){xm||(xm=function hX(){return typeof document<"u"?document.body:null}()||{},mz=!!xm.style&&"WebkitAppearance"in xm.style);let e=!0;return xm.style&&!function uX(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in xm.style,!e&&mz&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in xm.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return gz(t,i)}getParentElement(t){return dN(t)}query(t,i,r){return _z(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,u,h=[],p){return new xh(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),hN=(()=>{class n{}return n.NOOP=new yz,n})();const fN="ng-enter",NT="ng-leave",FT="ng-trigger",LT=".ng-trigger",bz="ng-animating",pN=".ng-animating";function Rd(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:mN(parseFloat(e[1]),e[2])}function mN(n,e){return"s"===e?1e3*n:n}function VT(n,e,t){return n.hasOwnProperty("duration")?n:function mX(n,e,t){let r,s=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(uz()),{duration:0,delay:0,easing:""};r=mN(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(s=mN(parseFloat(p),h[4]));const y=h[5];y&&(u=y)}else r=n;if(!t){let h=!1,p=e.length;r<0&&(e.push(function MQ(){return new l.\u0275RuntimeError(3100,!1)}()),h=!0),s<0&&(e.push(function AQ(){return new l.\u0275RuntimeError(3101,!1)}()),h=!0),h&&e.splice(p,0,uz())}return{duration:r,delay:s,easing:u}}(n,e,t)}function fw(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function wz(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function yf(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Cz(n,e,t){return t?e+":"+t+";":""}function Iz(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=Cz(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Cz(0,vX(t),n.style[t]));n.setAttribute("style",e)}function Ru(n,e,t){n.style&&(e.forEach((i,r)=>{const s=_N(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),oN()&&Iz(n))}function Mm(n,e){n.style&&(e.forEach((t,i)=>{const r=_N(i);n.style[r]=""}),oN()&&Iz(n))}function pw(n){return Array.isArray(n)?1==n.length?n[0]:UC(n):n}const gN=new RegExp("{{\\s*(.+?)\\s*}}","g");function Dz(n){let e=[];if("string"==typeof n){let t;for(;t=gN.exec(n);)e.push(t[1]);gN.lastIndex=0}return e}function mw(n,e,t){const i=n.toString(),r=i.replace(gN,(s,u)=>{let h=e[u];return null==h&&(t.push(function RQ(n){return new l.\u0275RuntimeError(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function BT(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const yX=/-+([a-z0-9])/g;function _N(n){return n.replace(yX,(...e)=>e[1].toUpperCase())}function vX(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function rl(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function OQ(n){return new l.\u0275RuntimeError(3004,!1)}()}}function Sz(n,e){return window.getComputedStyle(n)[e]}function DX(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function SX(n,e,t){if(":"==n[0]){const p=function TX(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function KQ(n){return new l.\u0275RuntimeError(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function GQ(n){return new l.\u0275RuntimeError(3015,!1)}()),e;const r=i[1],s=i[2],u=i[3];e.push(Tz(r,u));"<"==s[0]&&!("*"==r&&"*"==u)&&e.push(Tz(u,r))}(i,t,e)):t.push(n),t}const $T=new Set(["true","1"]),zT=new Set(["false","0"]);function Tz(n,e){const t=$T.has(n)||zT.has(n),i=$T.has(e)||zT.has(e);return(r,s)=>{let u="*"==n||n==r,h="*"==e||e==s;return!u&&t&&"boolean"==typeof r&&(u=r?$T.has(n):zT.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?$T.has(e):zT.has(e)),u&&h}}const xX=new RegExp("s*:selfs*,?","g");function yN(n,e,t,i){return new MX(n).build(e,t,i)}class MX{constructor(e){this._driver=e}build(e,t,i){const r=new RX(t);return this._resetContextStyleTimingState(r),rl(this,pw(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function NQ(){return new l.\u0275RuntimeError(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const p=h,y=p.name;y.toString().split(/\s*,\s*/).forEach(C=>{p.name=C,s.push(this.visitState(p,t))}),p.name=y}else if(1==h.type){const p=this.visitTransition(h,t);i+=p.queryCount,r+=p.depCount,u.push(p)}else t.errors.push(function FQ(){return new l.\u0275RuntimeError(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(p=>{Dz(p).forEach(y=>{u.hasOwnProperty(y)||s.add(y)})})}),s.size&&(BT(s.values()),t.errors.push(function LQ(n,e){return new l.\u0275RuntimeError(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=rl(this,pw(e.animation),t);return{type:1,matchers:DX(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Am(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>rl(this,i,t)),options:Am(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(u=>{t.currentTime=i;const h=rl(this,u,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:s,options:Am(e.options)}}visitAnimate(e,t){const i=function PX(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return vN(VT(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=vN(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=VT(t,e);return vN(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Ir({});if(5==s.type)r=this.visitKeyframes(s,t);else{let u=e.styles,h=!1;if(!u){h=!0;const y={};i.easing&&(y.easing=i.easing),u=Ir(y)}t.currentTime+=i.duration+i.delay;const p=this.visitStyle(u,t);p.isEmptyStep=h,r=p}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===Dc?i.push(h):t.errors.push(new l.\u0275RuntimeError(3002,!1)):i.push(wz(h));let s=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!s))for(let p of h.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,p)=>{const y=t.collectedStyles.get(t.currentQuerySelector),C=y.get(p);let M=!0;C&&(s!=r&&s>=C.startTime&&r<=C.endTime&&(t.errors.push(function BQ(n,e,t,i,r){return new l.\u0275RuntimeError(3010,!1)}()),M=!1),s=C.startTime),M&&y.set(p,{startTime:s,endTime:r}),t.options&&function _X(n,e,t){const i=e.params||{},r=Dz(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function kQ(n){return new l.\u0275RuntimeError(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function jQ(){return new l.\u0275RuntimeError(3011,!1)}()),i;let s=0;const u=[];let h=!1,p=!1,y=0;const C=e.steps.map(it=>{const pt=this._makeStyleAst(it,t);let yt=null!=pt.offset?pt.offset:function OX(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(pt.styles),mt=0;return null!=yt&&(s++,mt=pt.offset=yt),p=p||mt<0||mt>1,h=h||mt<y,y=mt,u.push(mt),pt});p&&t.errors.push(function UQ(){return new l.\u0275RuntimeError(3012,!1)}()),h&&t.errors.push(function HQ(){return new l.\u0275RuntimeError(3200,!1)}());const M=e.steps.length;let B=0;s>0&&s<M?t.errors.push(function $Q(){return new l.\u0275RuntimeError(3202,!1)}()):0==s&&(B=1/(M-1));const ee=M-1,re=t.currentTime,ye=t.currentAnimateTimings,Te=ye.duration;return C.forEach((it,pt)=>{const yt=B>0?pt==ee?1:B*pt:u[pt],mt=yt*Te;t.currentTime=re+ye.delay+mt,ye.duration=mt,this._validateStyleAst(it,t),it.offset=yt,i.styles.push(it)}),i}visitReference(e,t){return{type:8,animation:rl(this,pw(e.animation),t),options:Am(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Am(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Am(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,u]=function AX(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(xX,"")),n=n.replace(/@\*/g,LT).replace(/@\w+/g,t=>LT+"-"+t.slice(1)).replace(/:animating/g,pN),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,il(t.collectedStyles,t.currentQuerySelector,new Map);const h=rl(this,pw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:e.selector,options:Am(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function zQ(){return new l.\u0275RuntimeError(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:VT(e.timings,t.errors,!0);return{type:12,animation:rl(this,pw(e.animation),t),timings:i,options:null}}}class RX{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Am(n){return n?(n=fw(n)).params&&(n.params=function kX(n){return n?fw(n):null}(n.params)):n={},n}function vN(n,e,t){return{duration:n,delay:e,easing:t}}function bN(n,e,t,i,r,s,u=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:u,subTimeline:h}}class WT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const LX=new RegExp(":enter","g"),BX=new RegExp(":leave","g");function wN(n,e,t,i,r,s=new Map,u=new Map,h,p,y=[]){return(new jX).buildKeyframes(n,e,t,i,r,s,u,h,p,y)}class jX{buildKeyframes(e,t,i,r,s,u,h,p,y,C=[]){y=y||new WT;const M=new EN(e,t,y,r,s,C,[]);M.options=p;const B=p.delay?Rd(p.delay):0;M.currentTimeline.delayNextStep(B),M.currentTimeline.setStyles([u],null,M.errors,p),rl(this,i,M);const ee=M.timelines.filter(re=>re.containsAnimation());if(ee.length&&h.size){let re;for(let ye=ee.length-1;ye>=0;ye--){const Te=ee[ye];if(Te.element===t){re=Te;break}}re&&!re.allowOnlyTimelineStyles()&&re.setStyles([h],null,M.errors,p)}return ee.length?ee.map(re=>re.buildKeyframes()):[bN(t,[],[],[],0,B,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);s!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimateRefDelay(e.animation,t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimateRefDelay(e,t,i){const r=e.options?.delay;if(!r)return;let s;s="string"==typeof r?Rd(mw(r,e.options?.params??{},t.errors)):r,i.delayNextStep(s)}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const u=null!=i.duration?Rd(i.duration):null,h=null!=i.delay?Rd(i.delay):null;return 0!==u&&e.forEach(p=>{const y=t.appendInstructionToTimeline(p,u,h);s=Math.max(s,y.duration+y.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),rl(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=GT);const u=Rd(s.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>rl(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Rd(e.options.delay):0;e.steps.forEach(u=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),rl(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return VT(t.params?mw(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*s),h.setStyles(p.styles,p.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Rd(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=GT);let u=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let p=null;h.forEach((y,C)=>{t.currentQueryIndex=C;const M=t.createSubContext(e.options,y);s&&M.delayNextStep(s),y===t.element&&(p=M.currentTimeline),rl(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,u=Math.abs(s.duration),h=u*(t.currentQueryTotal-1);let p=u*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=h-p;break;case"full":p=i.currentStaggerTime}const C=t.currentTimeline;p&&C.delayNextStep(p);const M=C.currentTime;rl(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-M+(r.startTime-i.currentTimeline.startTime)}}const GT={};class EN{constructor(e,t,i,r,s,u,h,p){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=GT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new KT(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Rd(i.duration)),null!=i.delay&&(r.delay=Rd(i.delay));const s=i.params;if(s){let u=r.params;u||(u=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!u.hasOwnProperty(h))&&(u[h]=mw(s[h],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new EN(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=GT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new UX(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,u){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(LX,"."+this._enterClassName)).replace(BX,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),h.push(...y)}return!s&&0==h.length&&u.push(function WQ(n){return new l.\u0275RuntimeError(3014,!1)}()),h}}class KT{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new KT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Dc),this._currentKeyframe.set(t,Dc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},u=function HX(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,Dc)}else yf(r,t)}),t}(e,this._globalTimelineStyles);for(let[h,p]of u){const y=mw(p,s,i);this._pendingStyles.set(h,y),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Dc),this._updateStyle(h,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const y=yf(h,new Map,this._backFill);y.forEach((C,M)=>{"!"===C?e.add(M):C===Dc&&t.add(M)}),i||y.set("offset",p/this.duration),r.push(y)});const s=e.size?BT(e.values()):[],u=t.size?BT(t.values()):[];if(i){const h=r[0],p=new Map(h);h.set("offset",0),p.set("offset",1),r=[h,p]}return bN(this.element,r,s,u,this.duration,this.startTime,this.easing,!1)}}class UX extends KT{constructor(e,t,i,r,s,u,h=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],u=i+t,h=t/u,p=yf(e[0]);p.set("offset",0),s.push(p);const y=yf(e[0]);y.set("offset",Az(h)),s.push(y);const C=e.length-1;for(let M=1;M<=C;M++){let B=yf(e[M]);const ee=B.get("offset");B.set("offset",Az((t+ee*i)/u)),s.push(B)}i=u,t=0,r="",e=s}return bN(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function Az(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class CN{}const $X=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class zX extends CN{normalizePropertyName(e,t){return _N(e)}normalizeStyleValue(e,t,i,r){let s="";const u=i.toString().trim();if($X.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function PQ(n,e){return new l.\u0275RuntimeError(3005,!1)}())}return u+s}}function kz(n,e,t,i,r,s,u,h,p,y,C,M,B){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:u,timelines:h,queriedElements:p,preStyleProps:y,postStyleProps:C,totalTime:M,errors:B}}const IN={};class Rz{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function WX(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,u,h,p,y,C){const M=[],B=this.ast.options&&this.ast.options.params||IN,re=this.buildStyles(i,h&&h.params||IN,M),ye=p&&p.params||IN,Te=this.buildStyles(r,ye,M),it=new Set,pt=new Map,yt=new Map,mt="void"===r,en={params:GX(ye,B),delay:this.ast.options?.delay},tn=C?[]:wN(e,t,this.ast.animation,s,u,re,Te,en,y,M);let qn=0;if(tn.forEach(sl=>{qn=Math.max(sl.duration+sl.delay,qn)}),M.length)return kz(t,this._triggerName,i,r,mt,re,Te,[],[],pt,yt,qn,M);tn.forEach(sl=>{const Od=sl.element,cW=il(pt,Od,new Set);sl.preStyleProps.forEach(km=>cW.add(km));const yw=il(yt,Od,new Set);sl.postStyleProps.forEach(km=>yw.add(km)),Od!==t&&it.add(Od)});const Fr=BT(it.values());return kz(t,this._triggerName,i,r,mt,re,Te,tn,Fr,pt,yt,qn)}}function GX(n,e){const t=fw(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class KX{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=fw(this.defaultParams);return Object.keys(e).forEach(s=>{const u=e[s];null!==u&&(r[s]=u)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((u,h)=>{u&&(u=mw(u,r,t));const p=this.normalizer.normalizePropertyName(h,t);u=this.normalizer.normalizeStyleValue(h,p,u,t),i.set(p,u)})}),i}}class YX{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new KX(r.style,r.options&&r.options.params||{},i))}),Oz(this.states,"true","1"),Oz(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Rz(e,r,this.states))}),this.fallbackTransition=function ZX(n,e,t){return new Rz(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Oz(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const QX=new WT;class XX{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=yN(this._driver,t,i,[]);if(i.length)throw function XQ(n){return new l.\u0275RuntimeError(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=dz(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let u;const h=new Map;if(s?(u=wN(this._driver,t,s,fN,NT,new Map,new Map,i,QX,r),u.forEach(C=>{const M=il(h,C.element,new Map);C.postStyleProps.forEach(B=>M.set(B,null))})):(r.push(function JQ(){return new l.\u0275RuntimeError(3300,!1)}()),u=[]),r.length)throw function eX(n){return new l.\u0275RuntimeError(3504,!1)}();h.forEach((C,M)=>{C.forEach((B,ee)=>{C.set(ee,this._driver.computeStyle(M,ee,Dc))})});const y=_f(u.map(C=>{const M=h.get(C.element);return this._buildPlayer(C,new Map,M)}));return this._playersById.set(e,y),y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function tX(n){return new l.\u0275RuntimeError(3301,!1)}();return t}listen(e,t,i,r){const s=cN(t,"","","");return aN(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Pz="ng-animate-queued",DN="ng-animate-disabled",iJ=[],Nz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},rJ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hl="__ng_removed";class SN{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function lJ(n){return n??null}(i?e.value:e),i){const s=fw(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const gw="void",TN=new SN(gw);class sJ{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,$l(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function nX(n,e){return new l.\u0275RuntimeError(3302,!1)}();if(null==i||0==i.length)throw function iX(n){return new l.\u0275RuntimeError(3303,!1)}();if(!function cJ(n){return"start"==n||"done"==n}(i))throw function rX(n,e){return new l.\u0275RuntimeError(3400,!1)}();const s=il(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};s.push(u);const h=il(this._engine.statesByElement,e,new Map);return h.has(t)||($l(e,FT),$l(e,FT+"-"+t),h.set(t,TN)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(u);p>=0&&s.splice(p,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function sX(n){return new l.\u0275RuntimeError(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),u=new xN(this.id,t,e);let h=this._engine.statesByElement.get(e);h||($l(e,FT),$l(e,FT+"-"+t),this._engine.statesByElement.set(e,h=new Map));let p=h.get(t);const y=new SN(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&y.absorbOptions(p.options),h.set(t,y),p||(p=TN),y.value!==gw&&p.value===y.value){if(!function hJ(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,y.params)){const ye=[],Te=s.matchStyles(p.value,p.params,ye),it=s.matchStyles(y.value,y.params,ye);ye.length?this._engine.reportError(ye):this._engine.afterFlush(()=>{Mm(e,Te),Ru(e,it)})}return}const B=il(this._engine.playersByElement,e,[]);B.forEach(ye=>{ye.namespaceId==this.id&&ye.triggerName==t&&ye.queued&&ye.destroy()});let ee=s.matchTransition(p.value,y.value,e,y.params),re=!1;if(!ee){if(!r)return;ee=s.fallbackTransition,re=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:ee,fromState:p,toState:y,player:u,isFallbackTransition:re}),re||($l(e,Pz),u.onStart(()=>{sy(e,Pz)})),u.onDone(()=>{let ye=this.players.indexOf(u);ye>=0&&this.players.splice(ye,1);const Te=this._engine.playersByElement.get(e);if(Te){let it=Te.indexOf(u);it>=0&&Te.splice(it,1)}}),this.players.push(u),B.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,LT,!0);i.forEach(r=>{if(r[Hl])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),u=new Map;if(s){const h=[];if(s.forEach((p,y)=>{if(u.set(y,p.value),this._triggers.has(y)){const C=this.trigger(e,y,gw,r);C&&h.push(C)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&_f(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const u=s.name;if(r.has(u))return;r.add(u);const p=this._triggers.get(u).fallbackTransition,y=i.get(u)||TN,C=new SN(gw),M=new xN(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:p,fromState:y,toState:C,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Hl];(!s||s===Nz)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){$l(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,u=this._elementListeners.get(s);u&&u.forEach(h=>{if(h.name==i.triggerName){const p=cN(s,i.triggerName,i.fromState.value,i.toState.value);p._data=e,aN(i.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class oJ{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new sJ(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(t);for(;h;){const p=r.get(h);if(p){const y=i.indexOf(p);i.splice(y+1,0,e),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(qT(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!qT(t))return;const s=t[Hl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),$l(e,DN)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),sy(e,DN))}removeNode(e,t,i,r){if(qT(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[Hl]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return qT(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,LT,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,pN,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return _f(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Hl];if(t&&t.setForRemoval){if(e[Hl]=Nz,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(DN)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)$l(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?_f(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function oX(n){return new l.\u0275RuntimeError(3402,!1)}()}_flushAnimations(e,t){const i=new WT,r=[],s=new Map,u=[],h=new Map,p=new Map,y=new Map,C=new Set;this.disabledNodes.forEach(Rt=>{C.add(Rt);const Gt=this.driver.query(Rt,".ng-animate-queued",!0);for(let nn=0;nn<Gt.length;nn++)C.add(Gt[nn])});const M=this.bodyNode,B=Array.from(this.statesByElement.keys()),ee=Vz(B,this.collectedEnterElements),re=new Map;let ye=0;ee.forEach((Rt,Gt)=>{const nn=fN+ye++;re.set(Gt,nn),Rt.forEach(ui=>$l(ui,nn))});const Te=[],it=new Set,pt=new Set;for(let Rt=0;Rt<this.collectedLeaveElements.length;Rt++){const Gt=this.collectedLeaveElements[Rt],nn=Gt[Hl];nn&&nn.setForRemoval&&(Te.push(Gt),it.add(Gt),nn.hasAnimation?this.driver.query(Gt,".ng-star-inserted",!0).forEach(ui=>it.add(ui)):pt.add(Gt))}const yt=new Map,mt=Vz(B,Array.from(it));mt.forEach((Rt,Gt)=>{const nn=NT+ye++;yt.set(Gt,nn),Rt.forEach(ui=>$l(ui,nn))}),e.push(()=>{ee.forEach((Rt,Gt)=>{const nn=re.get(Gt);Rt.forEach(ui=>sy(ui,nn))}),mt.forEach((Rt,Gt)=>{const nn=yt.get(Gt);Rt.forEach(ui=>sy(ui,nn))}),Te.forEach(Rt=>{this.processLeaveNode(Rt)})});const en=[],tn=[];for(let Rt=this._namespaceList.length-1;Rt>=0;Rt--)this._namespaceList[Rt].drainQueuedTransitions(t).forEach(nn=>{const ui=nn.player,Bs=nn.element;if(en.push(ui),this.collectedEnterElements.length){const Ao=Bs[Hl];if(Ao&&Ao.setForMove){if(Ao.previousTriggersValues&&Ao.previousTriggersValues.has(nn.triggerName)){const Rm=Ao.previousTriggersValues.get(nn.triggerName),Wl=this.statesByElement.get(nn.element);if(Wl&&Wl.has(nn.triggerName)){const tx=Wl.get(nn.triggerName);tx.value=Rm,Wl.set(nn.triggerName,tx)}}return void ui.destroy()}}const Ou=!M||!this.driver.containsElement(M,Bs),ol=yt.get(Bs),vf=re.get(Bs),_r=this._buildInstruction(nn,i,vf,ol,Ou);if(_r.errors&&_r.errors.length)return void tn.push(_r);if(Ou)return ui.onStart(()=>Mm(Bs,_r.fromStyles)),ui.onDestroy(()=>Ru(Bs,_r.toStyles)),void r.push(ui);if(nn.isFallbackTransition)return ui.onStart(()=>Mm(Bs,_r.fromStyles)),ui.onDestroy(()=>Ru(Bs,_r.toStyles)),void r.push(ui);const hW=[];_r.timelines.forEach(Ao=>{Ao.stretchStartingKeyframe=!0,this.disabledNodes.has(Ao.element)||hW.push(Ao)}),_r.timelines=hW,i.append(Bs,_r.timelines),u.push({instruction:_r,player:ui,element:Bs}),_r.queriedElements.forEach(Ao=>il(h,Ao,[]).push(ui)),_r.preStyleProps.forEach((Ao,Rm)=>{if(Ao.size){let Wl=p.get(Rm);Wl||p.set(Rm,Wl=new Set),Ao.forEach((tx,ON)=>Wl.add(ON))}}),_r.postStyleProps.forEach((Ao,Rm)=>{let Wl=y.get(Rm);Wl||y.set(Rm,Wl=new Set),Ao.forEach((tx,ON)=>Wl.add(ON))})});if(tn.length){const Rt=[];tn.forEach(Gt=>{Rt.push(function aX(n,e){return new l.\u0275RuntimeError(3505,!1)}())}),en.forEach(Gt=>Gt.destroy()),this.reportError(Rt)}const qn=new Map,Fr=new Map;u.forEach(Rt=>{const Gt=Rt.element;i.has(Gt)&&(Fr.set(Gt,Gt),this._beforeAnimationBuild(Rt.player.namespaceId,Rt.instruction,qn))}),r.forEach(Rt=>{const Gt=Rt.element;this._getPreviousPlayers(Gt,!1,Rt.namespaceId,Rt.triggerName,null).forEach(ui=>{il(qn,Gt,[]).push(ui),ui.destroy()})});const sl=Te.filter(Rt=>jz(Rt,p,y)),Od=new Map;Lz(Od,this.driver,pt,y,Dc).forEach(Rt=>{jz(Rt,p,y)&&sl.push(Rt)});const yw=new Map;ee.forEach((Rt,Gt)=>{Lz(yw,this.driver,new Set(Rt),p,"!")}),sl.forEach(Rt=>{const Gt=Od.get(Rt),nn=yw.get(Rt);Od.set(Rt,new Map([...Array.from(Gt?.entries()??[]),...Array.from(nn?.entries()??[])]))});const km=[],uW=[],dW={};u.forEach(Rt=>{const{element:Gt,player:nn,instruction:ui}=Rt;if(i.has(Gt)){if(C.has(Gt))return nn.onDestroy(()=>Ru(Gt,ui.toStyles)),nn.disabled=!0,nn.overrideTotalTime(ui.totalTime),void r.push(nn);let Bs=dW;if(Fr.size>1){let ol=Gt;const vf=[];for(;ol=ol.parentNode;){const _r=Fr.get(ol);if(_r){Bs=_r;break}vf.push(ol)}vf.forEach(_r=>Fr.set(_r,Bs))}const Ou=this._buildAnimation(nn.namespaceId,ui,qn,s,yw,Od);if(nn.setRealPlayer(Ou),Bs===dW)km.push(nn);else{const ol=this.playersByElement.get(Bs);ol&&ol.length&&(nn.parentPlayer=_f(ol)),r.push(nn)}}else Mm(Gt,ui.fromStyles),nn.onDestroy(()=>Ru(Gt,ui.toStyles)),uW.push(nn),C.has(Gt)&&r.push(nn)}),uW.forEach(Rt=>{const Gt=s.get(Rt.element);if(Gt&&Gt.length){const nn=_f(Gt);Rt.setRealPlayer(nn)}}),r.forEach(Rt=>{Rt.parentPlayer?Rt.syncPlayerEvents(Rt.parentPlayer):Rt.destroy()});for(let Rt=0;Rt<Te.length;Rt++){const Gt=Te[Rt],nn=Gt[Hl];if(sy(Gt,NT),nn&&nn.hasAnimation)continue;let ui=[];if(h.size){let Ou=h.get(Gt);Ou&&Ou.length&&ui.push(...Ou);let ol=this.driver.query(Gt,pN,!0);for(let vf=0;vf<ol.length;vf++){let _r=h.get(ol[vf]);_r&&_r.length&&ui.push(..._r)}}const Bs=ui.filter(Ou=>!Ou.destroyed);Bs.length?uJ(this,Gt,Bs):this.processLeaveNode(Gt)}return Te.length=0,km.forEach(Rt=>{this.players.push(Rt),Rt.onDone(()=>{Rt.destroy();const Gt=this.players.indexOf(Rt);this.players.splice(Gt,1)}),Rt.play()}),km}elementContainsData(e,t){let i=!1;const r=t[Hl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let u=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(u=h)}else{const h=this.playersByElement.get(e);if(h){const p=!s||s==gw;h.forEach(y=>{y.queued||!p&&y.triggerName!=r||u.push(y)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(e,t,i){const s=t.element,u=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const y=p.element,C=y!==s,M=il(i,y,[]);this._getPreviousPlayers(y,C,u,h,t.toState).forEach(ee=>{const re=ee.getRealPlayer();re.beforeDestroy&&re.beforeDestroy(),ee.destroy(),M.push(ee)})}Mm(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,u){const h=t.triggerName,p=t.element,y=[],C=new Set,M=new Set,B=t.timelines.map(re=>{const ye=re.element;C.add(ye);const Te=ye[Hl];if(Te&&Te.removedBeforeQueried)return new xh(re.duration,re.delay);const it=ye!==p,pt=function dJ(n){const e=[];return Bz(n,e),e}((i.get(ye)||iJ).map(qn=>qn.getRealPlayer())).filter(qn=>!!qn.element&&qn.element===ye),yt=s.get(ye),mt=u.get(ye),en=dz(0,this._normalizer,0,re.keyframes,yt,mt),tn=this._buildPlayer(re,en,pt);if(re.subTimeline&&r&&M.add(ye),it){const qn=new xN(e,h,ye);qn.setRealPlayer(tn),y.push(qn)}return tn});y.forEach(re=>{il(this.playersByQueriedElement,re.element,[]).push(re),re.onDone(()=>function aJ(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,re.element,re))}),C.forEach(re=>$l(re,bz));const ee=_f(B);return ee.onDestroy(()=>{C.forEach(re=>sy(re,bz)),Ru(p,t.toStyles)}),M.forEach(re=>{il(r,re,[]).push(ee)}),ee}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new xh(e.duration,e.delay)}}class xN{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new xh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>aN(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){il(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function qT(n){return n&&1===n.nodeType}function Fz(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Lz(n,e,t,i,r){const s=[];t.forEach(p=>s.push(Fz(p)));const u=[];i.forEach((p,y)=>{const C=new Map;p.forEach(M=>{const B=e.computeStyle(y,M,r);C.set(M,B),(!B||0==B.length)&&(y[Hl]=rJ,u.push(y))}),n.set(y,C)});let h=0;return t.forEach(p=>Fz(p,s[h++])),u}function Vz(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),s=new Map;function u(h){if(!h)return 1;let p=s.get(h);if(p)return p;const y=h.parentNode;return p=t.has(y)?y:r.has(y)?1:u(y),s.set(h,p),p}return e.forEach(h=>{const p=u(h);1!==p&&t.get(p).push(h)}),t}function $l(n,e){n.classList?.add(e)}function sy(n,e){n.classList?.remove(e)}function uJ(n,e,t){_f(t).onDone(()=>n.processLeaveNode(e))}function Bz(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof zC?Bz(i.players,e):e.push(i)}}function jz(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class YT{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new oJ(e,t,i),this._timelineEngine=new XX(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const u=e+"-"+r;let h=this._triggerCache[u];if(!h){const p=[],C=yN(this._driver,s,p,[]);if(p.length)throw function ZQ(n,e){return new l.\u0275RuntimeError(3404,!1)}();h=function qX(n,e,t){return new YX(n,e,t)}(r,C,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,u]=hz(i);this._timelineEngine.command(s,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[u,h]=hz(i);return this._timelineEngine.listen(u,t,h,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let pJ=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ru(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ru(this._element,this._initialStyles),this._endStyles&&(Ru(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Mm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mm(this._element,this._endStyles),this._endStyles=null),Ru(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function MN(n){let e=null;return n.forEach((t,i)=>{(function mJ(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class Uz{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Sz(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class gJ{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return gz(e,t)}getParentElement(e){return dN(e)}query(e,t,i){return _z(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,u=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const y=new Map,C=u.filter(ee=>ee instanceof Uz);(function bX(n,e){return 0===n||0===e})(i,r)&&C.forEach(ee=>{ee.currentSnapshot.forEach((re,ye)=>y.set(ye,re))});let M=function gX(n){return n.length?n[0]instanceof Map?n:n.map(e=>wz(e)):[]}(t).map(ee=>yf(ee));M=function wX(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,u)=>{i.has(u)||r.push(u),i.set(u,s)}),r.length)for(let s=1;s<e.length;s++){let u=e[s];r.forEach(h=>u.set(h,Sz(n,h)))}}return e}(e,M,y);const B=function fJ(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=MN(e[0]),e.length>1&&(i=MN(e[e.length-1]))):e instanceof Map&&(t=MN(e)),t||i?new pJ(n,t,i):null}(e,M);return new Uz(e,M,p,B)}}let _J=(()=>{class n extends gp{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ViewEncapsulation.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?UC(t):t;return Hz(this._renderer,null,i,"register",[r]),new yJ(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(l.RendererFactory2),l.\u0275\u0275inject(D.DOCUMENT))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class yJ extends class gA{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new vJ(this._id,e,t||{},this._renderer)}}class vJ{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Hz(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Hz(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const $z="@.disabled";let bJ=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,u)=>{const h=u?.parentNode(s);h&&u.removeChild(h,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(s);return C||(C=new zz("",s,this.engine),this._rendererCache.set(s,C)),C}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const p=C=>{Array.isArray(C)?C.forEach(p):this.engine.registerTrigger(u,h,t,C.name,C)};return i.data.animation.forEach(p),new wJ(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,h]=s;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(l.RendererFactory2),l.\u0275\u0275inject(YT),l.\u0275\u0275inject(l.NgZone))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class zz{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==$z?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class wJ extends zz{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==$z?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function EJ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),u="";return"@"!=s.charAt(0)&&([s,u]=function CJ(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let IJ=(()=>{class n extends YT{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(D.DOCUMENT),l.\u0275\u0275inject(hN),l.\u0275\u0275inject(CN),l.\u0275\u0275inject(l.ApplicationRef))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const Wz=[{provide:gp,useClass:_J},{provide:CN,useFactory:function DJ(){return new zX}},{provide:YT,useClass:IJ},{provide:l.RendererFactory2,useFactory:function SJ(n,e,t){return new bJ(n,e,t)},deps:[kt,YT,l.NgZone]}],AN=[{provide:hN,useFactory:()=>new gJ},{provide:l.ANIMATION_MODULE_TYPE,useValue:"BrowserAnimations"},...Wz],Gz=[{provide:hN,useClass:yz},{provide:l.ANIMATION_MODULE_TYPE,useValue:"NoopAnimations"},...Wz];let TJ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Gz:AN}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({providers:AN,imports:[Ai]}),n})(),VJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({imports:[D.CommonModule,gi,gi]}),n})();const HJ={provide:new l.InjectionToken("mat-autocomplete-scroll-strategy"),deps:[Sa],useFactory:function UJ(n){return()=>n.scrollStrategies.reposition()}};let GJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({providers:[HJ],imports:[jg,lp,gi,D.CommonModule,Mh,lp,gi]}),n})(),Xz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({}),n})(),oee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({imports:[fd,gi,fh,Xz,gi,Xz]}),n})(),cee=(()=>{class n{constructor(){this.changes=new Ft.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,i){return`${t} \u2013 ${i}`}formatYearRangeLabel(t,i){return`${t} to ${i}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vee={provide:new l.InjectionToken("mat-datepicker-scroll-strategy"),deps:[Sa],useFactory:function yee(n){return()=>n.scrollStrategies.reposition()}};let Iee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({providers:[cee,vee],imports:[D.CommonModule,mA,jg,vg,KC,gi,Mh]}),n})(),Vee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({imports:[fd,gi,gi]}),n})();const $ee={provide:new l.InjectionToken("mat-select-scroll-strategy"),deps:[Sa],useFactory:function Hee(n){return()=>n.scrollStrategies.reposition()}};let zee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({providers:[$ee],imports:[D.CommonModule,jg,lp,gi,Mh,PT,lp,gi]}),n})(),oW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({}),n})(),ite=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=l.\u0275\u0275defineInjector({imports:[oW,fd,gi,fh,oW,gi]}),n})(),rte=(()=>{class n{constructor(t,i,r){this.authService=t,this.router=i,this.afAuth=r}canActivate(){return console.log("CanActivate called"),!!this.authService.isAuthenticated()}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(gc),l.\u0275\u0275inject(Ce),l.\u0275\u0275inject(su))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const RN=(0,Ze.U)(n=>!!n);let ste=(()=>{class n{constructor(t,i){this.router=t,this.auth=i,this.canActivate=(r,s)=>{const u=r.data.authGuardPipe||(()=>RN);return zw(this.auth).pipe((0,ei.q)(1),u(r,s),(0,Ze.U)(h=>"boolean"==typeof h?h:Array.isArray(h)?this.router.createUrlTree(h):this.router.parseUrl(h)))}}}return n.\u0275fac=function(t){return new(t||n)(l.\u0275\u0275inject(Ce),l.\u0275\u0275inject(lh))},n.\u0275prov=l.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const ay=n=>({canActivate:[ste],data:{authGuardPipe:n}}),ex=()=>(n=>(0,ts.z)(RN,(0,Ze.U)(e=>e||n)))(["login"]),aW=()=>(n=>(0,ts.z)(RN,(0,Ze.U)(e=>e&&n||!0)))([""]),cte=[{path:"",pathMatch:"full",component:_9,...ay(ex)},{path:"register",component:xQ,...ay(aW)},{path:"add-employee",component:MZ,...ay(ex)},{path:"edit-employee/:id",component:UZ,...ay(ex)},{path:"employee/:id",component:_Z,...ay(ex)},{path:"login",component:bQ,...ay(aW)}],lW={apiKey:"AIzaSyCEhTK7lTP06MXx4_DcfTtEaMstpf1VCxs",authDomain:"employeesmanagement-7f195.firebaseapp.com",databaseURL:"https://employeesmanagement-7f195-default-rtdb.firebaseio.com",projectId:"employeesmanagement-7f195",storageBucket:"employeesmanagement-7f195.appspot.com",messagingSenderId:"427425080978",appId:"1:427425080978:web:48e54ff129599b6fcfa84b",measurementId:"G-H2XRDT146Y"};let ute=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.\u0275\u0275defineNgModule({type:n,bootstrap:[wI]}),n.\u0275inj=l.\u0275\u0275defineInjector({providers:[HP,ow,gc,su,rte,{provide:l.DEFAULT_CURRENCY_CODE,useValue:"USD"}],imports:[Ai,Qd,fZ,xf.forRoot(cte),Cr.hO.initializeApp(lW),lg,ZK,bb,c9,cc.qz.forRoot(),TJ,VJ,Dg,NC,mA,PT,gQ,GJ,oee,Iee,Vee,zee,ite,Y3,py(()=>Um(lW)),Ms(()=>qw()),rM.forRoot(),yI]}),n})();(0,l.enableProdMode)(),gt().bootstrapModule(ute).catch(n=>console.error(n))},9706:(Ue,he)=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});var k=function(){function D(l,F,Q,ne){this.id=D.nextId++,this.text="default text",this.cssClass="",this.closeOnClick=!1,this.showCloseBtn=!1,l&&(this.text=l),F&&(this.cssClass=F),Q&&(this.closeOnClick=Q),ne&&(this.showCloseBtn=ne)}return D.nextId=0,D}();he.FlashMessage=k},9094:(Ue,he,k)=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});var D=k(4650),l=k(9706),F=k(7158),Q=k(4650),ne=k(7158),U=k(6895);function G(J,ge){1&J&&Q.\u0275\u0275element(0,"div",3)}function j(J,ge){if(1&J){var Ee=Q.\u0275\u0275getCurrentView();Q.\u0275\u0275elementStart(0,"button",7),Q.\u0275\u0275listener("click",function(){Q.\u0275\u0275restoreView(Ee);var Ae=Q.\u0275\u0275nextContext().$implicit,xe=Q.\u0275\u0275nextContext();return Q.\u0275\u0275resetView(xe.close(Ae))}),Q.\u0275\u0275elementStart(1,"span",8),Q.\u0275\u0275text(2,"\xd7"),Q.\u0275\u0275elementEnd()()}}var Y=function(J){return{"alert-dismissible":J}};function V(J,ge){if(1&J){var Ee=Q.\u0275\u0275getCurrentView();Q.\u0275\u0275elementStart(0,"div",4),Q.\u0275\u0275listener("click",function(){var ke=Q.\u0275\u0275restoreView(Ee).$implicit,ht=Q.\u0275\u0275nextContext();return Q.\u0275\u0275resetView(ht.alertClicked(ke))}),Q.\u0275\u0275template(1,j,3,0,"button",5),Q.\u0275\u0275element(2,"div",6),Q.\u0275\u0275elementEnd()}if(2&J){var Se=ge.$implicit;Q.\u0275\u0275classMapInterpolate1("alert flash-message ",Se.cssClass,""),Q.\u0275\u0275styleProp("cursor",Se.closeOnClick?"pointer":"inherit"),Q.\u0275\u0275property("ngClass",Q.\u0275\u0275pureFunction1(8,Y,Se.showCloseBtn)),Q.\u0275\u0275advance(1),Q.\u0275\u0275property("ngIf",Se.showCloseBtn),Q.\u0275\u0275advance(1),Q.\u0275\u0275property("innerHTML",Se.text,Q.\u0275\u0275sanitizeHtml)}}var K=function(){function J(ge,Ee){this._flashMessagesService=ge,this._cdRef=Ee,this._defaults={text:"default message",closeOnClick:!1,showCloseBtn:!1,cssClass:""},this.messages=[],this.classes="",this._grayOut=!1,this._flashMessagesService.show=this.show.bind(this),this._flashMessagesService.grayOut=this.grayOut.bind(this)}return J.prototype.ngOnInit=function(){},J.prototype.show=function(ge,Ee){var Se=this;void 0===Ee&&(Ee={});var Ae={timeout:2500,closeOnClick:!1,showCloseBtn:!1,cssClass:"",text:"default message"};for(var xe in Ee)Ae[xe]=Ee[xe];var ke=new l.FlashMessage(ge,Ae.cssClass,Ae.closeOnClick,Ae.showCloseBtn);ke.timer=window.setTimeout(function(){Se._remove(ke),Se._cdRef.detectChanges()},Ae.timeout),this.messages.push(ke),this._cdRef.detectChanges()},J.prototype.close=function(ge){clearTimeout(ge.timer),this._remove(ge),this._cdRef.detectChanges()},J.prototype.alertClicked=function(ge){ge.closeOnClick&&this.close(ge)},J.prototype.grayOut=function(ge){void 0===ge&&(ge=!1),this._grayOut=ge},J.prototype._remove=function(ge){this.messages=this.messages.filter(function(Ee){return Ee.id!==ge.id})},J.ctorParameters=function(){return[{type:F.FlashMessagesService},{type:D.ChangeDetectorRef}]},J.\u0275fac=function(Ee){return new(Ee||J)(Q.\u0275\u0275directiveInject(ne.FlashMessagesService),Q.\u0275\u0275directiveInject(Q.ChangeDetectorRef))},J.\u0275cmp=Q.\u0275\u0275defineComponent({type:J,selectors:[["flash-messages"]],decls:3,vars:2,consts:[["id","flashMessages",1,"flash-messages"],["id","grayOutDiv",4,"ngIf"],[3,"class","ngClass","cursor","click",4,"ngFor","ngForOf"],["id","grayOutDiv"],[3,"ngClass","click"],["type","button","class","close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(Ee,Se){1&Ee&&(Q.\u0275\u0275elementStart(0,"div",0),Q.\u0275\u0275template(1,G,1,0,"div",1),Q.\u0275\u0275template(2,V,3,10,"div",2),Q.\u0275\u0275elementEnd()),2&Ee&&(Q.\u0275\u0275advance(1),Q.\u0275\u0275property("ngIf",Se._grayOut&&Se.messages.length),Q.\u0275\u0275advance(1),Q.\u0275\u0275property("ngForOf",Se.messages))},dependencies:[U.NgClass,U.NgForOf,U.NgIf],encapsulation:2}),J}();he.FlashMessagesComponent=K},7158:(Ue,he,k)=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0}),k(4650);var l=k(4650),F=function(){function Q(){}return Q.\u0275fac=function(U){return new(U||Q)},Q.\u0275prov=l.\u0275\u0275defineInjectable({token:Q,factory:function(ne){return Q.\u0275fac(ne)}}),Q}();he.FlashMessagesService=F},1024:(Ue,he,k)=>{var l=k(9094),F=k(9329);he.qz=F.FlashMessagesModule;var Q=k(7158);he.GQ=Q.FlashMessagesService,he.cS=l.FlashMessagesComponent},9329:(Ue,he,k)=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0}),k(4650);var l=k(6895),Q=(k(9094),k(7158)),ne=k(4650),j=(k(9094),k(6895),function(){function Y(){}return Y.forRoot=function(){return{ngModule:Y,providers:[Q.FlashMessagesService]}},Y.\u0275fac=function(K){return new(K||Y)},Y.\u0275mod=ne.\u0275\u0275defineNgModule({type:Y}),Y.\u0275inj=ne.\u0275\u0275defineInjector({imports:[l.CommonModule]}),Y}());he.FlashMessagesModule=j},5867:(Ue,he,k)=>{"use strict";k.d(he,{C6:()=>D.getApps,KN:()=>D.registerVersion,Mq:()=>D.getApp,ZF:()=>D.initializeApp});var D=k(9681);(0,D.registerVersion)("firebase","9.9.1","app")},127:(Ue,he,k)=>{"use strict";k.d(he,{Z:()=>D.Z});var D=k(3942);D.Z.registerVersion("firebase","9.9.1","app-compat")},5881:(Ue,he,k)=>{"use strict";k.r(he);var D=k(5861),l=k(3942),F=k(6803),Q=k(2090),G=(k(9681),k(1877),k(4859));function j(){return window}function K(){return(K=(0,D.Z)(function*(we,ae,le){var Fe;const{BuildInfo:Qe}=j();(0,F.aq)(ae.sessionId,"AuthEvent did not contain a session ID");const At=yield ke(ae.sessionId),Re={};return(0,F.ar)()?Re.ibi=Qe.packageName:(0,F.as)()?Re.apn=Qe.packageName:(0,F.at)(we,"operation-not-supported-in-this-environment"),Qe.displayName&&(Re.appDisplayName=Qe.displayName),Re.sessionId=At,(0,F.au)(we,le,ae.type,void 0,null!==(Fe=ae.eventId)&&void 0!==Fe?Fe:void 0,Re)})).apply(this,arguments)}function ge(){return(ge=(0,D.Z)(function*(we){const{BuildInfo:ae}=j(),le={};(0,F.ar)()?le.iosBundleId=ae.packageName:(0,F.as)()?le.androidPackageName=ae.packageName:(0,F.at)(we,"operation-not-supported-in-this-environment"),yield(0,F.av)(we,le)})).apply(this,arguments)}function Ae(){return(Ae=(0,D.Z)(function*(we,ae,le){const{cordova:Fe}=j();let Qe=()=>{};try{yield new Promise((At,Re)=>{let ut=null;function at(){var It;At();const bi=null===(It=Fe.plugins.browsertab)||void 0===It?void 0:It.close;"function"==typeof bi&&bi(),"function"==typeof le?.close&&le.close()}function Ke(){ut||(ut=window.setTimeout(()=>{Re((0,F.aw)(we,"redirect-cancelled-by-user"))},2e3))}function kn(){"visible"===document?.visibilityState&&Ke()}ae.addPassiveListener(at),document.addEventListener("resume",Ke,!1),(0,F.as)()&&document.addEventListener("visibilitychange",kn,!1),Qe=()=>{ae.removePassiveListener(at),document.removeEventListener("resume",Ke,!1),document.removeEventListener("visibilitychange",kn,!1),ut&&window.clearTimeout(ut)}})}finally{Qe()}})).apply(this,arguments)}function ke(we){return ht.apply(this,arguments)}function ht(){return(ht=(0,D.Z)(function*(we){const ae=wt(we),le=yield crypto.subtle.digest("SHA-256",ae);return Array.from(new Uint8Array(le)).map(Qe=>Qe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function wt(we){if((0,F.aq)(/[0-9a-zA-Z]+/.test(we),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(we);const ae=new ArrayBuffer(we.length),le=new Uint8Array(ae);for(let Fe=0;Fe<we.length;Fe++)le[Fe]=we.charCodeAt(Fe);return le}class fn extends F.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ae=>{this.resolveInialized=ae})}addPassiveListener(ae){this.passiveListeners.add(ae)}removePassiveListener(ae){this.passiveListeners.delete(ae)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ae){return this.resolveInialized(),this.passiveListeners.forEach(le=>le(ae)),super.onEvent(ae)}initialized(){var ae=this;return(0,D.Z)(function*(){yield ae.initPromise})()}}function Vt(we){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,D.Z)(function*(we){const ae=yield Ot()._get(bt(we));return ae&&(yield Ot()._remove(bt(we))),ae})).apply(this,arguments)}function rt(){const we=[],ae="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let le=0;le<20;le++){const Fe=Math.floor(Math.random()*ae.length);we.push(ae.charAt(Fe))}return we.join("")}function Ot(){return(0,F.ay)(F.b)}function bt(we){return(0,F.az)("authEvent",we.config.apiKey,we.name)}function ln(we){if(!we?.includes("?"))return{};const[ae,...le]=we.split("?");return(0,Q.zd)(le.join("?"))}function Kt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.aw)("no-auth-event")}}function yi(){var we;return(null===(we=self?.location)||void 0===we?void 0:we.protocol)||null}function Yn(we=(0,Q.z$)()){return!("file:"!==yi()&&"ionic:"!==yi()&&"capacitor:"!==yi()||!we.toLowerCase().match(/iphone|ipad|ipod|android/))}function Di(){try{const we=self.localStorage,ae=F.aI();if(we)return we.setItem(ae,"1"),we.removeItem(ae),!function vs(we=(0,Q.z$)()){return function Sn(){return(0,Q.w1)()&&11===document?.documentMode}()||function Vn(we=(0,Q.z$)()){return/Edge\/\d+/.test(we)}(we)}()||(0,Q.hl)()}catch{return zi()&&(0,Q.hl)()}return!1}function zi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function We(){return(function Zi(){return"http:"===yi()||"https:"===yi()}()||(0,Q.ru)()||Yn())&&!function Qi(){return(0,Q.b$)()||(0,Q.UG)()}()&&Di()&&!zi()}function fi(){return Yn()&&typeof document<"u"}function Mi(){return(Mi=(0,D.Z)(function*(){return!!fi()&&new Promise(we=>{const ae=setTimeout(()=>{we(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ae),we(!0)})})})).apply(this,arguments)}const cn={LOCAL:"local",NONE:"none",SESSION:"session"},Ai=F.ax,Xi="persistence";function Gn(we){return vn.apply(this,arguments)}function vn(){return(vn=(0,D.Z)(function*(we){yield we._initializationPromise;const ae=Xt(),le=F.az(Xi,we.config.apiKey,we.name);ae&&ae.setItem(le,we._getPersistence())})).apply(this,arguments)}function Xt(){var we;try{return(null===(we=function yn(){return typeof window<"u"?window:null}())||void 0===we?void 0:we.sessionStorage)||null}catch{return null}}const nt=F.ax;class St{constructor(){this.browserResolver=F.ay(F.k),this.cordovaResolver=F.ay(class Tr{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aB,this._overrideRedirectResult=F.aC}_initialize(ae){var le=this;return(0,D.Z)(function*(){const Fe=ae._key();let Qe=le.eventManagers.get(Fe);return Qe||(Qe=new fn(ae),le.eventManagers.set(Fe,Qe),le.attachCallbackListeners(ae,Qe)),Qe})()}_openPopup(ae){(0,F.at)(ae,"operation-not-supported-in-this-environment")}_openRedirect(ae,le,Fe,Qe){var At=this;return(0,D.Z)(function*(){!function xe(we){var ae,le,Fe,Qe,At,Re,ut,at,Ke,kn;const It=j();(0,F.ax)("function"==typeof(null===(ae=It?.universalLinks)||void 0===ae?void 0:ae.subscribe),we,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.ax)(typeof(null===(le=It?.BuildInfo)||void 0===le?void 0:le.packageName)<"u",we,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.ax)("function"==typeof(null===(At=null===(Qe=null===(Fe=It?.cordova)||void 0===Fe?void 0:Fe.plugins)||void 0===Qe?void 0:Qe.browsertab)||void 0===At?void 0:At.openUrl),we,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.ax)("function"==typeof(null===(at=null===(ut=null===(Re=It?.cordova)||void 0===Re?void 0:Re.plugins)||void 0===ut?void 0:ut.browsertab)||void 0===at?void 0:at.isAvailable),we,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.ax)("function"==typeof(null===(kn=null===(Ke=It?.cordova)||void 0===Ke?void 0:Ke.InAppBrowser)||void 0===kn?void 0:kn.open),we,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ae);const Re=yield At._initialize(ae);yield Re.initialized(),Re.resetRedirect(),(0,F.aD)(),yield At._originValidation(ae);const ut=function Ut(we,ae,le=null){return{type:ae,eventId:le,urlResponse:null,sessionId:rt(),postBody:null,tenantId:we.tenantId,error:(0,F.aw)(we,"no-auth-event")}}(ae,Fe,Qe);yield function Xn(we,ae){return Ot()._set(bt(we),ae)}(ae,ut);const at=yield function V(we,ae,le){return K.apply(this,arguments)}(ae,ut,le),Ke=yield function Ee(we){const{cordova:ae}=j();return new Promise(le=>{ae.plugins.browsertab.isAvailable(Fe=>{let Qe=null;Fe?ae.plugins.browsertab.openUrl(we):Qe=ae.InAppBrowser.open(we,(0,F.ap)()?"_blank":"_system","location=yes"),le(Qe)})})}(at);return function Se(we,ae,le){return Ae.apply(this,arguments)}(ae,Re,Ke)})()}_isIframeWebStorageSupported(ae,le){throw new Error("Method not implemented.")}_originValidation(ae){const le=ae._key();return this.originValidationPromises[le]||(this.originValidationPromises[le]=function J(we){return ge.apply(this,arguments)}(ae)),this.originValidationPromises[le]}attachCallbackListeners(ae,le){const{universalLinks:Fe,handleOpenURL:Qe,BuildInfo:At}=j(),Re=setTimeout((0,D.Z)(function*(){yield Vt(ae),le.onEvent(Kt())}),500),ut=function(){var kn=(0,D.Z)(function*(It){clearTimeout(Re);const bi=yield Vt(ae);let Bn=null;bi&&It?.url&&(Bn=function $e(we,ae){var le,Fe;const Qe=function tt(we){const ae=ln(we),le=ae.link?decodeURIComponent(ae.link):void 0,Fe=ln(le).link,Qe=ae.deep_link_id?decodeURIComponent(ae.deep_link_id):void 0;return ln(Qe).link||Qe||Fe||le||we}(ae);if(Qe.includes("/__/auth/callback")){const At=ln(Qe),Re=At.firebaseError?function kt(we){try{return JSON.parse(we)}catch{return null}}(decodeURIComponent(At.firebaseError)):null,ut=null===(Fe=null===(le=Re?.code)||void 0===le?void 0:le.split("auth/"))||void 0===Fe?void 0:Fe[1],at=ut?(0,F.aw)(ut):null;return at?{type:we.type,eventId:we.eventId,tenantId:we.tenantId,error:at,urlResponse:null,sessionId:null,postBody:null}:{type:we.type,eventId:we.eventId,tenantId:we.tenantId,sessionId:we.sessionId,urlResponse:Qe,postBody:null}}return null}(bi,It.url)),le.onEvent(Bn||Kt())});return function(bi){return kn.apply(this,arguments)}}();typeof Fe<"u"&&"function"==typeof Fe.subscribe&&Fe.subscribe(null,ut);const at=Qe,Ke=`${At.packageName.toLowerCase()}://`;j().handleOpenURL=function(){var kn=(0,D.Z)(function*(It){if(It.toLowerCase().startsWith(Ke)&&ut({url:It}),"function"==typeof at)try{at(It)}catch(bi){console.error(bi)}});return function(It){return kn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aB,this._overrideRedirectResult=F.aC}_initialize(ae){var le=this;return(0,D.Z)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._initialize(ae)})()}_openPopup(ae,le,Fe,Qe){var At=this;return(0,D.Z)(function*(){return yield At.selectUnderlyingResolver(),At.assertedUnderlyingResolver._openPopup(ae,le,Fe,Qe)})()}_openRedirect(ae,le,Fe,Qe){var At=this;return(0,D.Z)(function*(){return yield At.selectUnderlyingResolver(),At.assertedUnderlyingResolver._openRedirect(ae,le,Fe,Qe)})()}_isIframeWebStorageSupported(ae,le){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ae,le)}_originValidation(ae){return this.assertedUnderlyingResolver._originValidation(ae)}get _shouldInitProactively(){return fi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return nt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ae=this;return(0,D.Z)(function*(){if(ae.underlyingResolver)return;const le=yield function gt(){return Mi.apply(this,arguments)}();ae.underlyingResolver=le?ae.cordovaResolver:ae.browserResolver})()}}function yr(we){return we.unwrap()}function ct(we){return li(we)}function li(we){const{_tokenResponse:ae}=we instanceof Q.ZR?we.customData:we;if(!ae)return null;if(!(we instanceof Q.ZR)&&"temporaryProof"in ae&&"phoneNumber"in ae)return F.P.credentialFromResult(we);const le=ae.providerId;if(!le||le===F.o.PASSWORD)return null;let Fe;switch(le){case F.o.GOOGLE:Fe=F.Q;break;case F.o.FACEBOOK:Fe=F.N;break;case F.o.GITHUB:Fe=F.T;break;case F.o.TWITTER:Fe=F.W;break;default:const{oauthIdToken:Qe,oauthAccessToken:At,oauthTokenSecret:Re,pendingToken:ut,nonce:at}=ae;return At||Re||Qe||ut?ut?le.startsWith("saml.")?F.aL._create(le,ut):F.J._fromParams({providerId:le,signInMethod:le,pendingToken:ut,idToken:Qe,accessToken:At}):new F.U(le).credential({idToken:Qe,accessToken:At,rawNonce:at}):null}return we instanceof Q.ZR?Fe.credentialFromError(we):Fe.credentialFromResult(we)}function Kn(we,ae){return ae.catch(le=>{throw le instanceof Q.ZR&&function bn(we,ae){var le,Fe;const Qe=null===(le=ae.customData)||void 0===le?void 0:le._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Fe=ae)||void 0===Fe?void 0:Fe.code))ae.resolver=new ce(we,F.an(we,ae));else if(Qe){const At=li(ae),Re=ae;At&&(Re.credential=At,Re.tenantId=Qe.tenantId||void 0,Re.email=Qe.email||void 0,Re.phoneNumber=Qe.phoneNumber||void 0)}}(we,le),le}).then(le=>{const Qe=le.user;return{operationType:le.operationType,credential:ct(le),additionalUserInfo:F.al(le),user:ue.getOrCreate(Qe)}})}function un(we,ae){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,D.Z)(function*(we,ae){const le=yield ae;return{verificationId:le.verificationId,confirm:Fe=>Kn(we,le.confirm(Fe))}})).apply(this,arguments)}class ce{constructor(ae,le){this.resolver=le,this.auth=function vi(we){return we.wrapped()}(ae)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ae){return Kn(yr(this.auth),this.resolver.resolveSignIn(ae))}}class ue{constructor(ae){this._delegate=ae,this.multiFactor=F.ao(ae)}static getOrCreate(ae){return ue.USER_MAP.has(ae)||ue.USER_MAP.set(ae,new ue(ae)),ue.USER_MAP.get(ae)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ae){return this._delegate.getIdTokenResult(ae)}getIdToken(ae){return this._delegate.getIdToken(ae)}linkAndRetrieveDataWithCredential(ae){return this.linkWithCredential(ae)}linkWithCredential(ae){var le=this;return(0,D.Z)(function*(){return Kn(le.auth,F.Z(le._delegate,ae))})()}linkWithPhoneNumber(ae,le){var Fe=this;return(0,D.Z)(function*(){return un(Fe.auth,F.l(Fe._delegate,ae,le))})()}linkWithPopup(ae){var le=this;return(0,D.Z)(function*(){return Kn(le.auth,F.d(le._delegate,ae,St))})()}linkWithRedirect(ae){var le=this;return(0,D.Z)(function*(){return yield Gn(F.aE(le.auth)),F.g(le._delegate,ae,St)})()}reauthenticateAndRetrieveDataWithCredential(ae){return this.reauthenticateWithCredential(ae)}reauthenticateWithCredential(ae){var le=this;return(0,D.Z)(function*(){return Kn(le.auth,F._(le._delegate,ae))})()}reauthenticateWithPhoneNumber(ae,le){return un(this.auth,F.r(this._delegate,ae,le))}reauthenticateWithPopup(ae){return Kn(this.auth,F.e(this._delegate,ae,St))}reauthenticateWithRedirect(ae){var le=this;return(0,D.Z)(function*(){return yield Gn(F.aE(le.auth)),F.h(le._delegate,ae,St)})()}sendEmailVerification(ae){return F.ab(this._delegate,ae)}unlink(ae){var le=this;return(0,D.Z)(function*(){return yield F.ak(le._delegate,ae),le})()}updateEmail(ae){return F.ag(this._delegate,ae)}updatePassword(ae){return F.ah(this._delegate,ae)}updatePhoneNumber(ae){return F.u(this._delegate,ae)}updateProfile(ae){return F.af(this._delegate,ae)}verifyBeforeUpdateEmail(ae,le){return F.ac(this._delegate,ae,le)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ue.USER_MAP=new WeakMap;const oe=F.ax;let pe=(()=>{class we{constructor(le,Fe){if(this.app=le,Fe.isInitialized())return this._delegate=Fe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Qe}=le.options;oe(Qe,"invalid-api-key",{appName:le.name}),oe(Qe,"invalid-api-key",{appName:le.name});const At=typeof window<"u"?St:void 0;this._delegate=Fe.initialize({options:{persistence:He(Qe,le.name),popupRedirectResolver:At}}),this._delegate._updateErrorMap(F.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ue.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(le){this._delegate.languageCode=le}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(le){this._delegate.tenantId=le}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(le,Fe){F.G(this._delegate,le,Fe)}applyActionCode(le){return F.a2(this._delegate,le)}checkActionCode(le){return F.a3(this._delegate,le)}confirmPasswordReset(le,Fe){return F.a1(this._delegate,le,Fe)}createUserWithEmailAndPassword(le,Fe){var Qe=this;return(0,D.Z)(function*(){return Kn(Qe._delegate,F.a5(Qe._delegate,le,Fe))})()}fetchProvidersForEmail(le){return this.fetchSignInMethodsForEmail(le)}fetchSignInMethodsForEmail(le){return F.aa(this._delegate,le)}isSignInWithEmailLink(le){return F.a8(this._delegate,le)}getRedirectResult(){var le=this;return(0,D.Z)(function*(){oe(We(),le._delegate,"operation-not-supported-in-this-environment");const Fe=yield F.j(le._delegate,St);return Fe?Kn(le._delegate,Promise.resolve(Fe)):{credential:null,user:null}})()}addFrameworkForLogging(le){!function lr(we,ae){(0,F.aE)(we)._logFramework(ae)}(this._delegate,le)}onAuthStateChanged(le,Fe,Qe){const{next:At,error:Re,complete:ut}=me(le,Fe,Qe);return this._delegate.onAuthStateChanged(At,Re,ut)}onIdTokenChanged(le,Fe,Qe){const{next:At,error:Re,complete:ut}=me(le,Fe,Qe);return this._delegate.onIdTokenChanged(At,Re,ut)}sendSignInLinkToEmail(le,Fe){return F.a7(this._delegate,le,Fe)}sendPasswordResetEmail(le,Fe){return F.a0(this._delegate,le,Fe||void 0)}setPersistence(le){var Fe=this;return(0,D.Z)(function*(){let Qe;switch(function ai(we,ae){Ai(Object.values(cn).includes(ae),we,"invalid-persistence-type"),(0,Q.b$)()?Ai(ae!==cn.SESSION,we,"unsupported-persistence-type"):(0,Q.UG)()?Ai(ae===cn.NONE,we,"unsupported-persistence-type"):zi()?Ai(ae===cn.NONE||ae===cn.LOCAL&&(0,Q.hl)(),we,"unsupported-persistence-type"):Ai(ae===cn.NONE||Di(),we,"unsupported-persistence-type")}(Fe._delegate,le),le){case cn.SESSION:Qe=F.a;break;case cn.LOCAL:Qe=(yield F.ay(F.i)._isAvailable())?F.i:F.b;break;case cn.NONE:Qe=F.L;break;default:return F.at("argument-error",{appName:Fe._delegate.name})}return Fe._delegate.setPersistence(Qe)})()}signInAndRetrieveDataWithCredential(le){return this.signInWithCredential(le)}signInAnonymously(){return Kn(this._delegate,F.X(this._delegate))}signInWithCredential(le){return Kn(this._delegate,F.Y(this._delegate,le))}signInWithCustomToken(le){return Kn(this._delegate,F.$(this._delegate,le))}signInWithEmailAndPassword(le,Fe){return Kn(this._delegate,F.a6(this._delegate,le,Fe))}signInWithEmailLink(le,Fe){return Kn(this._delegate,F.a9(this._delegate,le,Fe))}signInWithPhoneNumber(le,Fe){return un(this._delegate,F.s(this._delegate,le,Fe))}signInWithPopup(le){var Fe=this;return(0,D.Z)(function*(){return oe(We(),Fe._delegate,"operation-not-supported-in-this-environment"),Kn(Fe._delegate,F.c(Fe._delegate,le,St))})()}signInWithRedirect(le){var Fe=this;return(0,D.Z)(function*(){return oe(We(),Fe._delegate,"operation-not-supported-in-this-environment"),yield Gn(Fe._delegate),F.f(Fe._delegate,le,St)})()}updateCurrentUser(le){return this._delegate.updateCurrentUser(le)}verifyPasswordResetCode(le){return F.a4(this._delegate,le)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return we.Persistence=cn,we})();function me(we,ae,le){let Fe=we;"function"!=typeof we&&({next:Fe,error:ae,complete:le}=we);const Qe=Fe;return{next:Re=>Qe(Re&&ue.getOrCreate(Re)),error:ae,complete:le}}function He(we,ae){const le=function es(we,ae){const le=Xt();if(!le)return[];const Fe=F.az(Xi,we,ae);switch(le.getItem(Fe)){case cn.NONE:return[F.L];case cn.LOCAL:return[F.i,F.a];case cn.SESSION:return[F.a];default:return[]}}(we,ae);if(typeof self<"u"&&!le.includes(F.i)&&le.push(F.i),typeof window<"u")for(const Fe of[F.b,F.a])le.includes(Fe)||le.push(Fe);return le.includes(F.L)||le.push(F.L),le}class ot{constructor(){this.providerId="phone",this._delegate=new F.P(yr(l.Z.auth()))}static credential(ae,le){return F.P.credential(ae,le)}verifyPhoneNumber(ae,le){return this._delegate.verifyPhoneNumber(ae,le)}unwrap(){return this._delegate}}ot.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,ot.PROVIDER_ID=F.P.PROVIDER_ID;const xt=F.ax;class Tn{constructor(ae,le,Fe=l.Z.app()){var Qe;xt(null===(Qe=Fe.options)||void 0===Qe?void 0:Qe.apiKey,"invalid-api-key",{appName:Fe.name}),this._delegate=new F.R(ae,le,Fe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ki(we){we.INTERNAL.registerComponent(new G.wA("auth-compat",ae=>{const le=ae.getProvider("app-compat").getImmediate(),Fe=ae.getProvider("auth");return new pe(le,Fe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.M,FacebookAuthProvider:F.N,GithubAuthProvider:F.T,GoogleAuthProvider:F.Q,OAuthProvider:F.U,SAMLAuthProvider:F.V,PhoneAuthProvider:ot,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:Tn,TwitterAuthProvider:F.W,Auth:pe,AuthCredential:F.H,Error:Q.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),we.registerVersion("@firebase/auth-compat","0.2.18")}(l.Z)},4257:(Ue,he,k)=>{"use strict";var l=k(1291);he.w=l.switchMap},591:(Ue,he,k)=>{"use strict";k.d(he,{X:()=>F});var D=k(8929),l=k(5279);class F extends D.xQ{constructor(ne){super(),this._value=ne}get value(){return this.getValue()}_subscribe(ne){const U=super._subscribe(ne);return U&&!U.closed&&ne.next(this._value),U}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new l.N;return this._value}next(ne){super.next(this._value=ne)}}},9312:(Ue,he,k)=>{"use strict";k.d(he,{P:()=>ne});var D=k(8896),l=k(1086),F=k(1737);class ne{constructor(G,j,Y){this.kind=G,this.value=j,this.error=Y,this.hasValue="N"===G}observe(G){switch(this.kind){case"N":return G.next&&G.next(this.value);case"E":return G.error&&G.error(this.error);case"C":return G.complete&&G.complete()}}do(G,j,Y){switch(this.kind){case"N":return G&&G(this.value);case"E":return j&&j(this.error);case"C":return Y&&Y()}}accept(G,j,Y){return G&&"function"==typeof G.next?this.observe(G):this.do(G,j,Y)}toObservable(){switch(this.kind){case"N":return(0,l.of)(this.value);case"E":return(0,F._)(this.error);case"C":return(0,D.c)()}throw new Error("unexpected notification kind value")}static createNext(G){return typeof G<"u"?new ne("N",G):ne.undefinedValueNotification}static createError(G){return new ne("E",void 0,G)}static createComplete(){return ne.completeNotification}}ne.completeNotification=new ne("C"),ne.undefinedValueNotification=new ne("N",void 0)},6498:(Ue,he,k)=>{"use strict";k.d(he,{y:()=>Y});var D=k(3489),F=k(7668),Q=k(3292),U=k(3821),G=k(4843),j=k(2830);let Y=(()=>{class K{constructor(ge){this._isScalar=!1,ge&&(this._subscribe=ge)}lift(ge){const Ee=new K;return Ee.source=this,Ee.operator=ge,Ee}subscribe(ge,Ee,Se){const{operator:Ae}=this,xe=function ne(K,J,ge){if(K){if(K instanceof D.L)return K;if(K[F.b])return K[F.b]()}return K||J||ge?new D.L(K,J,ge):new D.L(Q.c)}(ge,Ee,Se);if(xe.add(Ae?Ae.call(xe,this.source):this.source||j.v.useDeprecatedSynchronousErrorHandling&&!xe.syncErrorThrowable?this._subscribe(xe):this._trySubscribe(xe)),j.v.useDeprecatedSynchronousErrorHandling&&xe.syncErrorThrowable&&(xe.syncErrorThrowable=!1,xe.syncErrorThrown))throw xe.syncErrorValue;return xe}_trySubscribe(ge){try{return this._subscribe(ge)}catch(Ee){j.v.useDeprecatedSynchronousErrorHandling&&(ge.syncErrorThrown=!0,ge.syncErrorValue=Ee),function l(K){for(;K;){const{closed:J,destination:ge,isStopped:Ee}=K;if(J||Ee)return!1;K=ge&&ge instanceof D.L?ge:null}return!0}(ge)?ge.error(Ee):console.warn(Ee)}}forEach(ge,Ee){return new(Ee=V(Ee))((Se,Ae)=>{let xe;xe=this.subscribe(ke=>{try{ge(ke)}catch(ht){Ae(ht),xe&&xe.unsubscribe()}},Ae,Se)})}_subscribe(ge){const{source:Ee}=this;return Ee&&Ee.subscribe(ge)}[U.L](){return this}pipe(...ge){return 0===ge.length?this:(0,G.U)(ge)(this)}toPromise(ge){return new(ge=V(ge))((Ee,Se)=>{let Ae;this.subscribe(xe=>Ae=xe,xe=>Se(xe),()=>Ee(Ae))})}}return K.create=J=>new K(J),K})();function V(K){if(K||(K=j.v.Promise||Promise),!K)throw new Error("no Promise impl found");return K}},3292:(Ue,he,k)=>{"use strict";k.d(he,{c:()=>F});var D=k(2830),l=k(2782);const F={closed:!0,next(Q){},error(Q){if(D.v.useDeprecatedSynchronousErrorHandling)throw Q;(0,l.z)(Q)},complete(){}}},826:(Ue,he,k)=>{"use strict";k.d(he,{L:()=>l});var D=k(3489);class l extends D.L{notifyNext(Q,ne,U,G,j){this.destination.next(ne)}notifyError(Q,ne){this.destination.error(Q)}notifyComplete(Q){this.destination.complete()}}},839:(Ue,he,k)=>{"use strict";k.d(he,{t:()=>G});var D=k(8929),l=k(341),F=k(2654),Q=k(7770),ne=k(5279),U=k(5283);class G extends D.xQ{constructor(V=Number.POSITIVE_INFINITY,K=Number.POSITIVE_INFINITY,J){super(),this.scheduler=J,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=V<1?1:V,this._windowTime=K<1?1:K,K===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(V){if(!this.isStopped){const K=this._events;K.push(V),K.length>this._bufferSize&&K.shift()}super.next(V)}nextTimeWindow(V){this.isStopped||(this._events.push(new j(this._getNow(),V)),this._trimBufferThenGetEvents()),super.next(V)}_subscribe(V){const K=this._infiniteTimeWindow,J=K?this._events:this._trimBufferThenGetEvents(),ge=this.scheduler,Ee=J.length;let Se;if(this.closed)throw new ne.N;if(this.isStopped||this.hasError?Se=F.w.EMPTY:(this.observers.push(V),Se=new U.W(this,V)),ge&&V.add(V=new Q.ht(V,ge)),K)for(let Ae=0;Ae<Ee&&!V.closed;Ae++)V.next(J[Ae]);else for(let Ae=0;Ae<Ee&&!V.closed;Ae++)V.next(J[Ae].value);return this.hasError?V.error(this.thrownError):this.isStopped&&V.complete(),Se}_getNow(){return(this.scheduler||l.c).now()}_trimBufferThenGetEvents(){const V=this._getNow(),K=this._bufferSize,J=this._windowTime,ge=this._events,Ee=ge.length;let Se=0;for(;Se<Ee&&!(V-ge[Se].time<J);)Se++;return Ee>K&&(Se=Math.max(Se,Ee-K)),Se>0&&ge.splice(0,Se),ge}}class j{constructor(V,K){this.time=V,this.value=K}}},8929:(Ue,he,k)=>{"use strict";k.d(he,{Yc:()=>G,xQ:()=>j});var D=k(6498),l=k(3489),F=k(2654),Q=k(5279),ne=k(5283),U=k(7668);class G extends l.L{constructor(K){super(K),this.destination=K}}let j=(()=>{class V extends D.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[U.b](){return new G(this)}lift(J){const ge=new Y(this,this);return ge.operator=J,ge}next(J){if(this.closed)throw new Q.N;if(!this.isStopped){const{observers:ge}=this,Ee=ge.length,Se=ge.slice();for(let Ae=0;Ae<Ee;Ae++)Se[Ae].next(J)}}error(J){if(this.closed)throw new Q.N;this.hasError=!0,this.thrownError=J,this.isStopped=!0;const{observers:ge}=this,Ee=ge.length,Se=ge.slice();for(let Ae=0;Ae<Ee;Ae++)Se[Ae].error(J);this.observers.length=0}complete(){if(this.closed)throw new Q.N;this.isStopped=!0;const{observers:J}=this,ge=J.length,Ee=J.slice();for(let Se=0;Se<ge;Se++)Ee[Se].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(J){if(this.closed)throw new Q.N;return super._trySubscribe(J)}_subscribe(J){if(this.closed)throw new Q.N;return this.hasError?(J.error(this.thrownError),F.w.EMPTY):this.isStopped?(J.complete(),F.w.EMPTY):(this.observers.push(J),new ne.W(this,J))}asObservable(){const J=new D.y;return J.source=this,J}}return V.create=(K,J)=>new Y(K,J),V})();class Y extends j{constructor(K,J){super(),this.destination=K,this.source=J}next(K){const{destination:J}=this;J&&J.next&&J.next(K)}error(K){const{destination:J}=this;J&&J.error&&this.destination.error(K)}complete(){const{destination:K}=this;K&&K.complete&&this.destination.complete()}_subscribe(K){const{source:J}=this;return J?this.source.subscribe(K):F.w.EMPTY}}},5283:(Ue,he,k)=>{"use strict";k.d(he,{W:()=>l});var D=k(2654);class l extends D.w{constructor(Q,ne){super(),this.subject=Q,this.subscriber=ne,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Q=this.subject,ne=Q.observers;if(this.subject=null,!ne||0===ne.length||Q.isStopped||Q.closed)return;const U=ne.indexOf(this.subscriber);-1!==U&&ne.splice(U,1)}}},3489:(Ue,he,k)=>{"use strict";k.d(he,{L:()=>G});var D=k(7043),l=k(3292),F=k(2654),Q=k(7668),ne=k(2830),U=k(2782);class G extends F.w{constructor(V,K,J){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=l.c;break;case 1:if(!V){this.destination=l.c;break}if("object"==typeof V){V instanceof G?(this.syncErrorThrowable=V.syncErrorThrowable,this.destination=V,V.add(this)):(this.syncErrorThrowable=!0,this.destination=new j(this,V));break}default:this.syncErrorThrowable=!0,this.destination=new j(this,V,K,J)}}[Q.b](){return this}static create(V,K,J){const ge=new G(V,K,J);return ge.syncErrorThrowable=!1,ge}next(V){this.isStopped||this._next(V)}error(V){this.isStopped||(this.isStopped=!0,this._error(V))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(V){this.destination.next(V)}_error(V){this.destination.error(V),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:V}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=V,this}}class j extends G{constructor(V,K,J,ge){super(),this._parentSubscriber=V;let Ee,Se=this;(0,D.m)(K)?Ee=K:K&&(Ee=K.next,J=K.error,ge=K.complete,K!==l.c&&(Se=Object.create(K),(0,D.m)(Se.unsubscribe)&&this.add(Se.unsubscribe.bind(Se)),Se.unsubscribe=this.unsubscribe.bind(this))),this._context=Se,this._next=Ee,this._error=J,this._complete=ge}next(V){if(!this.isStopped&&this._next){const{_parentSubscriber:K}=this;ne.v.useDeprecatedSynchronousErrorHandling&&K.syncErrorThrowable?this.__tryOrSetError(K,this._next,V)&&this.unsubscribe():this.__tryOrUnsub(this._next,V)}}error(V){if(!this.isStopped){const{_parentSubscriber:K}=this,{useDeprecatedSynchronousErrorHandling:J}=ne.v;if(this._error)J&&K.syncErrorThrowable?(this.__tryOrSetError(K,this._error,V),this.unsubscribe()):(this.__tryOrUnsub(this._error,V),this.unsubscribe());else if(K.syncErrorThrowable)J?(K.syncErrorValue=V,K.syncErrorThrown=!0):(0,U.z)(V),this.unsubscribe();else{if(this.unsubscribe(),J)throw V;(0,U.z)(V)}}}complete(){if(!this.isStopped){const{_parentSubscriber:V}=this;if(this._complete){const K=()=>this._complete.call(this._context);ne.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?(this.__tryOrSetError(V,K),this.unsubscribe()):(this.__tryOrUnsub(K),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(V,K){try{V.call(this._context,K)}catch(J){if(this.unsubscribe(),ne.v.useDeprecatedSynchronousErrorHandling)throw J;(0,U.z)(J)}}__tryOrSetError(V,K,J){if(!ne.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{K.call(this._context,J)}catch(ge){return ne.v.useDeprecatedSynchronousErrorHandling?(V.syncErrorValue=ge,V.syncErrorThrown=!0,!0):((0,U.z)(ge),!0)}return!1}_unsubscribe(){const{_parentSubscriber:V}=this;this._context=null,this._parentSubscriber=null,V.unsubscribe()}}},2654:(Ue,he,k)=>{"use strict";k.d(he,{w:()=>U});var D=k(6688),l=k(7830),F=k(7043);const ne=(()=>{function j(Y){return Error.call(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((V,K)=>`${K+1}) ${V.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y,this}return j.prototype=Object.create(Error.prototype),j})();class U{constructor(Y){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Y&&(this._ctorUnsubscribe=!0,this._unsubscribe=Y)}unsubscribe(){let Y;if(this.closed)return;let{_parentOrParents:V,_ctorUnsubscribe:K,_unsubscribe:J,_subscriptions:ge}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,V instanceof U)V.remove(this);else if(null!==V)for(let Ee=0;Ee<V.length;++Ee)V[Ee].remove(this);if((0,F.m)(J)){K&&(this._unsubscribe=void 0);try{J.call(this)}catch(Ee){Y=Ee instanceof ne?G(Ee.errors):[Ee]}}if((0,D.k)(ge)){let Ee=-1,Se=ge.length;for(;++Ee<Se;){const Ae=ge[Ee];if((0,l.K)(Ae))try{Ae.unsubscribe()}catch(xe){Y=Y||[],xe instanceof ne?Y=Y.concat(G(xe.errors)):Y.push(xe)}}}if(Y)throw new ne(Y)}add(Y){let V=Y;if(!Y)return U.EMPTY;switch(typeof Y){case"function":V=new U(Y);case"object":if(V===this||V.closed||"function"!=typeof V.unsubscribe)return V;if(this.closed)return V.unsubscribe(),V;if(!(V instanceof U)){const ge=V;V=new U,V._subscriptions=[ge]}break;default:throw new Error("unrecognized teardown "+Y+" added to Subscription.")}let{_parentOrParents:K}=V;if(null===K)V._parentOrParents=this;else if(K instanceof U){if(K===this)return V;V._parentOrParents=[K,this]}else{if(-1!==K.indexOf(this))return V;K.push(this)}const J=this._subscriptions;return null===J?this._subscriptions=[V]:J.push(V),V}remove(Y){const V=this._subscriptions;if(V){const K=V.indexOf(Y);-1!==K&&V.splice(K,1)}}}var j;function G(j){return j.reduce((Y,V)=>Y.concat(V instanceof ne?V.errors:V),[])}U.EMPTY=((j=new U).closed=!0,j)},2830:(Ue,he,k)=>{"use strict";k.d(he,{v:()=>l});let D=!1;const l={Promise:void 0,set useDeprecatedSynchronousErrorHandling(F){if(F){const Q=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Q.stack)}else D&&console.log("RxJS: Back to a better error behavior. Thank you. <3");D=F},get useDeprecatedSynchronousErrorHandling(){return D}}},1177:(Ue,he,k)=>{"use strict";k.d(he,{Ds:()=>U,IY:()=>Q,ft:()=>j});var D=k(3489),l=k(6498),F=k(9249);class Q extends D.L{constructor(V){super(),this.parent=V}_next(V){this.parent.notifyNext(V)}_error(V){this.parent.notifyError(V),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class U extends D.L{notifyNext(V){this.destination.next(V)}notifyError(V){this.destination.error(V)}notifyComplete(){this.destination.complete()}}function j(Y,V){if(V.closed)return;if(Y instanceof l.y)return Y.subscribe(V);let K;try{K=(0,F.s)(Y)(V)}catch(J){V.error(J)}return K}},1762:(Ue,he,k)=>{"use strict";k.d(he,{N:()=>U,c:()=>ne});var D=k(8929),l=k(6498),F=k(2654),Q=k(4327);class ne extends l.y{constructor(K,J){super(),this.source=K,this.subjectFactory=J,this._refCount=0,this._isComplete=!1}_subscribe(K){return this.getSubject().subscribe(K)}getSubject(){const K=this._subject;return(!K||K.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let K=this._connection;return K||(this._isComplete=!1,K=this._connection=new F.w,K.add(this.source.subscribe(new G(this.getSubject(),this))),K.closed&&(this._connection=null,K=F.w.EMPTY)),K}refCount(){return(0,Q.x)()(this)}}const U=(()=>{const V=ne.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:V._subscribe},_isComplete:{value:V._isComplete,writable:!0},getSubject:{value:V.getSubject},connect:{value:V.connect},refCount:{value:V.refCount}}})();class G extends D.Yc{constructor(K,J){super(K),this.connectable=J}_error(K){this._unsubscribe(),super._error(K)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const K=this.connectable;if(K){this.connectable=null;const J=K._connection;K._refCount=0,K._subject=null,K._connection=null,J&&J.unsubscribe()}}}},6053:(Ue,he,k)=>{"use strict";k.d(he,{Ms:()=>j,aj:()=>G});var D=k(2866),l=k(6688),F=k(826),Q=k(448),ne=k(3009);const U={};function G(...V){let K,J;return(0,D.K)(V[V.length-1])&&(J=V.pop()),"function"==typeof V[V.length-1]&&(K=V.pop()),1===V.length&&(0,l.k)(V[0])&&(V=V[0]),(0,ne.n)(V,J).lift(new j(K))}class j{constructor(K){this.resultSelector=K}call(K,J){return J.subscribe(new Y(K,this.resultSelector))}}class Y extends F.L{constructor(K,J){super(K),this.resultSelector=J,this.active=0,this.values=[],this.observables=[]}_next(K){this.values.push(U),this.observables.push(K)}_complete(){const K=this.observables,J=K.length;if(0===J)this.destination.complete();else{this.active=J,this.toRespond=J;for(let ge=0;ge<J;ge++)this.add((0,Q.D)(this,K[ge],void 0,ge))}}notifyComplete(K){0==(this.active-=1)&&this.destination.complete()}notifyNext(K,J,ge){const Ee=this.values,Ae=this.toRespond?Ee[ge]===U?--this.toRespond:this.toRespond:0;Ee[ge]=J,0===Ae&&(this.resultSelector?this._tryResultSelector(Ee):this.destination.next(Ee.slice()))}_tryResultSelector(K){let J;try{J=this.resultSelector.apply(this,K)}catch(ge){return void this.destination.error(ge)}this.destination.next(J)}}},1961:(Ue,he,k)=>{"use strict";k.d(he,{z:()=>F});var D=k(1086),l=k(534);function F(...Q){return(0,l.u)()((0,D.of)(...Q))}},8514:(Ue,he,k)=>{"use strict";k.d(he,{P:()=>Q});var D=k(6498),l=k(5254),F=k(8896);function Q(ne){return new D.y(U=>{let G;try{G=ne()}catch(Y){return void U.error(Y)}return(G?(0,l.D)(G):(0,F.c)()).subscribe(U)})}},8896:(Ue,he,k)=>{"use strict";k.d(he,{E:()=>l,c:()=>F});var D=k(6498);const l=new D.y(ne=>ne.complete());function F(ne){return ne?function Q(ne){return new D.y(U=>ne.schedule(()=>U.complete()))}(ne):l}},5254:(Ue,he,k)=>{"use strict";k.d(he,{D:()=>Se});var D=k(6498),l=k(9249),F=k(2654),Q=k(3821),G=k(6454),j=k(5430),K=k(8955),J=k(8515);function Se(Ae,xe){return xe?function Ee(Ae,xe){if(null!=Ae){if(function V(Ae){return Ae&&"function"==typeof Ae[Q.L]}(Ae))return function ne(Ae,xe){return new D.y(ke=>{const ht=new F.w;return ht.add(xe.schedule(()=>{const wt=Ae[Q.L]();ht.add(wt.subscribe({next(jt){ht.add(xe.schedule(()=>ke.next(jt)))},error(jt){ht.add(xe.schedule(()=>ke.error(jt)))},complete(){ht.add(xe.schedule(()=>ke.complete()))}}))})),ht})}(Ae,xe);if((0,K.t)(Ae))return function U(Ae,xe){return new D.y(ke=>{const ht=new F.w;return ht.add(xe.schedule(()=>Ae.then(wt=>{ht.add(xe.schedule(()=>{ke.next(wt),ht.add(xe.schedule(()=>ke.complete()))}))},wt=>{ht.add(xe.schedule(()=>ke.error(wt)))}))),ht})}(Ae,xe);if((0,J.z)(Ae))return(0,G.r)(Ae,xe);if(function ge(Ae){return Ae&&"function"==typeof Ae[j.hZ]}(Ae)||"string"==typeof Ae)return function Y(Ae,xe){if(!Ae)throw new Error("Iterable cannot be null");return new D.y(ke=>{const ht=new F.w;let wt;return ht.add(()=>{wt&&"function"==typeof wt.return&&wt.return()}),ht.add(xe.schedule(()=>{wt=Ae[j.hZ](),ht.add(xe.schedule(function(){if(ke.closed)return;let jt,fn;try{const Ut=wt.next();jt=Ut.value,fn=Ut.done}catch(Ut){return void ke.error(Ut)}fn?ke.complete():(ke.next(jt),this.schedule())}))})),ht})}(Ae,xe)}throw new TypeError((null!==Ae&&typeof Ae||Ae)+" is not observable")}(Ae,xe):Ae instanceof D.y?Ae:new D.y((0,l.s)(Ae))}},3009:(Ue,he,k)=>{"use strict";k.d(he,{n:()=>Q});var D=k(6498),l=k(3650),F=k(6454);function Q(ne,U){return U?(0,F.r)(ne,U):new D.y((0,l.V)(ne))}},6787:(Ue,he,k)=>{"use strict";k.d(he,{T:()=>ne});var D=k(6498),l=k(2866),F=k(9146),Q=k(3009);function ne(...U){let G=Number.POSITIVE_INFINITY,j=null,Y=U[U.length-1];return(0,l.K)(Y)?(j=U.pop(),U.length>1&&"number"==typeof U[U.length-1]&&(G=U.pop())):"number"==typeof Y&&(G=U.pop()),null===j&&1===U.length&&U[0]instanceof D.y?U[0]:(0,F.J)(G)((0,Q.n)(U,j))}},1086:(Ue,he,k)=>{"use strict";k.d(he,{of:()=>Q});var D=k(2866),l=k(3009),F=k(6454);function Q(...ne){let U=ne[ne.length-1];return(0,D.K)(U)?(ne.pop(),(0,F.r)(ne,U)):(0,l.n)(ne)}},1946:(Ue,he,k)=>{"use strict";k.d(he,{S3:()=>ne});var D=k(6688),l=k(3009),F=k(826),Q=k(448);function ne(...j){if(1===j.length){if(!(0,D.k)(j[0]))return j[0];j=j[0]}return(0,l.n)(j,void 0).lift(new U)}class U{call(Y,V){return V.subscribe(new G(Y))}}class G extends F.L{constructor(Y){super(Y),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(Y){this.observables.push(Y)}_complete(){const Y=this.observables,V=Y.length;if(0===V)this.destination.complete();else{for(let K=0;K<V&&!this.hasFirst;K++){const ge=(0,Q.D)(this,Y[K],void 0,K);this.subscriptions&&this.subscriptions.push(ge),this.add(ge)}this.observables=null}}notifyNext(Y,V,K){if(!this.hasFirst){this.hasFirst=!0;for(let J=0;J<this.subscriptions.length;J++)if(J!==K){let ge=this.subscriptions[J];ge.unsubscribe(),this.remove(ge)}this.subscriptions=null}this.destination.next(V)}}},1737:(Ue,he,k)=>{"use strict";k.d(he,{_:()=>l});var D=k(6498);function l(Q,ne){return new D.y(ne?U=>ne.schedule(F,0,{error:Q,subscriber:U}):U=>U.error(Q))}function F({error:Q,subscriber:ne}){ne.error(Q)}},384:(Ue,he,k)=>{"use strict";k.d(he,{U:()=>l});var D=k(1177);function l(ne){return function(G){return G.lift(new F(ne))}}class F{constructor(U){this.durationSelector=U}call(U,G){return G.subscribe(new Q(U,this.durationSelector))}}class Q extends D.Ds{constructor(U,G){super(U),this.durationSelector=G,this.hasValue=!1}_next(U){if(this.value=U,this.hasValue=!0,!this.throttled){let G;try{const{durationSelector:Y}=this;G=Y(U)}catch(Y){return this.destination.error(Y)}const j=(0,D.ft)(G,new D.IY(this));!j||j.closed?this.clearThrottle():this.add(this.throttled=j)}}clearThrottle(){const{value:U,hasValue:G,throttled:j}=this;j&&(this.remove(j),this.throttled=void 0,j.unsubscribe()),G&&(this.value=void 0,this.hasValue=!1,this.destination.next(U))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}},8062:(Ue,he,k)=>{"use strict";k.d(he,{e:()=>j});var D=k(353),l=k(384),F=k(6498),Q=k(4241),ne=k(2866);function G(Y){const{index:V,period:K,subscriber:J}=Y;if(J.next(V),!J.closed){if(-1===K)return J.complete();Y.index=V+1,this.schedule(Y,K)}}function j(Y,V=D.P){return(0,l.U)(()=>function U(Y=0,V,K){let J=-1;return(0,Q.k)(V)?J=Number(V)<1?1:Number(V):(0,ne.K)(V)&&(K=V),(0,ne.K)(K)||(K=D.P),new F.y(ge=>{const Ee=(0,Q.k)(Y)?Y:+Y-K.now();return K.schedule(G,Ee,{index:0,period:J,subscriber:ge})})}(Y,V))}},7221:(Ue,he,k)=>{"use strict";k.d(he,{K:()=>l});var D=k(1177);function l(ne){return function(G){const j=new F(ne),Y=G.lift(j);return j.caught=Y}}class F{constructor(U){this.selector=U}call(U,G){return G.subscribe(new Q(U,this.selector,this.caught))}}class Q extends D.Ds{constructor(U,G,j){super(U),this.selector=G,this.caught=j}error(U){if(!this.isStopped){let G;try{G=this.selector(U,this.caught)}catch(V){return void super.error(V)}this._unsubscribeAndRecycle();const j=new D.IY(this);this.add(j);const Y=(0,D.ft)(G,j);Y!==j&&this.add(Y)}}}},534:(Ue,he,k)=>{"use strict";k.d(he,{u:()=>l});var D=k(9146);function l(){return(0,D.J)(1)}},1406:(Ue,he,k)=>{"use strict";k.d(he,{b:()=>l});var D=k(1709);function l(F,Q){return(0,D.zg)(F,Q,1)}},13:(Ue,he,k)=>{"use strict";k.d(he,{b:()=>F});var D=k(3489),l=k(353);function F(G,j=l.P){return Y=>Y.lift(new Q(G,j))}class Q{constructor(j,Y){this.dueTime=j,this.scheduler=Y}call(j,Y){return Y.subscribe(new ne(j,this.dueTime,this.scheduler))}}class ne extends D.L{constructor(j,Y,V){super(j),this.dueTime=Y,this.scheduler=V,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(j){this.clearDebounce(),this.lastValue=j,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(U,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:j}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(j)}}clearDebounce(){const j=this.debouncedSubscription;null!==j&&(this.remove(j),j.unsubscribe(),this.debouncedSubscription=null)}}function U(G){G.debouncedNext()}},7314:(Ue,he,k)=>{"use strict";k.d(he,{d:()=>l});var D=k(3489);function l(ne=null){return U=>U.lift(new F(ne))}class F{constructor(U){this.defaultValue=U}call(U,G){return G.subscribe(new Q(U,this.defaultValue))}}class Q extends D.L{constructor(U,G){super(U),this.defaultValue=G,this.isEmpty=!0}_next(U){this.isEmpty=!1,this.destination.next(U)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},943:(Ue,he,k)=>{"use strict";k.d(he,{g:()=>ne});var D=k(353),l=k(2697),F=k(3489),Q=k(9312);function ne(Y,V=D.P){const J=(0,l.J)(Y)?+Y-V.now():Math.abs(Y);return ge=>ge.lift(new U(J,V))}class U{constructor(V,K){this.delay=V,this.scheduler=K}call(V,K){return K.subscribe(new G(V,this.delay,this.scheduler))}}class G extends F.L{constructor(V,K,J){super(V),this.delay=K,this.scheduler=J,this.queue=[],this.active=!1,this.errored=!1}static dispatch(V){const K=V.source,J=K.queue,ge=V.scheduler,Ee=V.destination;for(;J.length>0&&J[0].time-ge.now()<=0;)J.shift().notification.observe(Ee);if(J.length>0){const Se=Math.max(0,J[0].time-ge.now());this.schedule(V,Se)}else this.unsubscribe(),K.active=!1}_schedule(V){this.active=!0,this.destination.add(V.schedule(G.dispatch,this.delay,{source:this,destination:this.destination,scheduler:V}))}scheduleNotification(V){if(!0===this.errored)return;const K=this.scheduler,J=new j(K.now()+this.delay,V);this.queue.push(J),!1===this.active&&this._schedule(K)}_next(V){this.scheduleNotification(Q.P.createNext(V))}_error(V){this.errored=!0,this.queue=[],this.destination.error(V),this.unsubscribe()}_complete(){this.scheduleNotification(Q.P.createComplete()),this.unsubscribe()}}class j{constructor(V,K){this.time=V,this.notification=K}}},5778:(Ue,he,k)=>{"use strict";k.d(he,{x:()=>l});var D=k(3489);function l(ne,U){return G=>G.lift(new F(ne,U))}class F{constructor(U,G){this.compare=U,this.keySelector=G}call(U,G){return G.subscribe(new Q(U,this.compare,this.keySelector))}}class Q extends D.L{constructor(U,G,j){super(U),this.keySelector=j,this.hasKey=!1,"function"==typeof G&&(this.compare=G)}compare(U,G){return U===G}_next(U){let G;try{const{keySelector:Y}=this;G=Y?Y(U):U}catch(Y){return this.destination.error(Y)}let j=!1;if(this.hasKey)try{const{compare:Y}=this;j=Y(this.key,G)}catch(Y){return this.destination.error(Y)}else this.hasKey=!0;j||(this.key=G,this.destination.next(U))}}},2198:(Ue,he,k)=>{"use strict";k.d(he,{h:()=>l});var D=k(3489);function l(ne,U){return function(j){return j.lift(new F(ne,U))}}class F{constructor(U,G){this.predicate=U,this.thisArg=G}call(U,G){return G.subscribe(new Q(U,this.predicate,this.thisArg))}}class Q extends D.L{constructor(U,G,j){super(U),this.predicate=G,this.thisArg=j,this.count=0}_next(U){let G;try{G=this.predicate.call(this.thisArg,U,this.count++)}catch(j){return void this.destination.error(j)}G&&this.destination.next(U)}}},537:(Ue,he,k)=>{"use strict";k.d(he,{x:()=>F});var D=k(3489),l=k(2654);function F(U){return G=>G.lift(new Q(U))}class Q{constructor(G){this.callback=G}call(G,j){return j.subscribe(new ne(G,this.callback))}}class ne extends D.L{constructor(G,j){super(G),this.add(new l.w(j))}}},7224:(Ue,he,k)=>{"use strict";k.d(he,{P:()=>G});var D=k(4450),l=k(2198),F=k(2986),Q=k(7314),ne=k(4907),U=k(5379);function G(j,Y){const V=arguments.length>=2;return K=>K.pipe(j?(0,l.h)((J,ge)=>j(J,ge,K)):U.y,(0,F.q)(1),V?(0,Q.d)(Y):(0,ne.T)(()=>new D.K))}},8127:(Ue,he,k)=>{"use strict";k.d(he,{Z:()=>G});var D=k(4450),l=k(2198),F=k(2821),Q=k(4907),ne=k(7314),U=k(5379);function G(j,Y){const V=arguments.length>=2;return K=>K.pipe(j?(0,l.h)((J,ge)=>j(J,ge,K)):U.y,(0,F.h)(1),V?(0,ne.d)(Y):(0,Q.T)(()=>new D.K))}},4850:(Ue,he,k)=>{"use strict";k.d(he,{U:()=>l});var D=k(3489);function l(ne,U){return function(j){if("function"!=typeof ne)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return j.lift(new F(ne,U))}}class F{constructor(U,G){this.project=U,this.thisArg=G}call(U,G){return G.subscribe(new Q(U,this.project,this.thisArg))}}class Q extends D.L{constructor(U,G,j){super(U),this.project=G,this.count=0,this.thisArg=j||this}_next(U){let G;try{G=this.project.call(this.thisArg,U,this.count++)}catch(j){return void this.destination.error(j)}this.destination.next(G)}}},7604:(Ue,he,k)=>{"use strict";k.d(he,{h:()=>l});var D=k(3489);function l(ne){return U=>U.lift(new F(ne))}class F{constructor(U){this.value=U}call(U,G){return G.subscribe(new Q(U,this.value))}}class Q extends D.L{constructor(U,G){super(U),this.value=G}_next(U){this.destination.next(this.value)}}},9146:(Ue,he,k)=>{"use strict";k.d(he,{J:()=>F});var D=k(1709),l=k(5379);function F(Q=Number.POSITIVE_INFINITY){return(0,D.zg)(l.y,Q)}},1709:(Ue,he,k)=>{"use strict";k.d(he,{VS:()=>G,zg:()=>Q});var D=k(4850),l=k(5254),F=k(1177);function Q(j,Y,V=Number.POSITIVE_INFINITY){return"function"==typeof Y?K=>K.pipe(Q((J,ge)=>(0,l.D)(j(J,ge)).pipe((0,D.U)((Ee,Se)=>Y(J,Ee,ge,Se))),V)):("number"==typeof Y&&(V=Y),K=>K.lift(new ne(j,V)))}class ne{constructor(Y,V=Number.POSITIVE_INFINITY){this.project=Y,this.concurrent=V}call(Y,V){return V.subscribe(new U(Y,this.project,this.concurrent))}}class U extends F.Ds{constructor(Y,V,K=Number.POSITIVE_INFINITY){super(Y),this.project=V,this.concurrent=K,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Y){this.active<this.concurrent?this._tryNext(Y):this.buffer.push(Y)}_tryNext(Y){let V;const K=this.index++;try{V=this.project(Y,K)}catch(J){return void this.destination.error(J)}this.active++,this._innerSub(V)}_innerSub(Y){const V=new F.IY(this),K=this.destination;K.add(V);const J=(0,F.ft)(Y,V);J!==V&&K.add(J)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Y){this.destination.next(Y)}notifyComplete(){const Y=this.buffer;this.active--,Y.length>0?this._next(Y.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}const G=Q},2536:(Ue,he,k)=>{"use strict";k.d(he,{O:()=>l});var D=k(1762);function l(Q,ne){return function(G){let j;if(j="function"==typeof Q?Q:function(){return Q},"function"==typeof ne)return G.lift(new F(j,ne));const Y=Object.create(G,D.N);return Y.source=G,Y.subjectFactory=j,Y}}class F{constructor(ne,U){this.subjectFactory=ne,this.selector=U}call(ne,U){const{selector:G}=this,j=this.subjectFactory(),Y=G(j).subscribe(ne);return Y.add(U.subscribe(j)),Y}}},7770:(Ue,he,k)=>{"use strict";k.d(he,{QV:()=>F,ht:()=>ne});var D=k(3489),l=k(9312);function F(G,j=0){return function(V){return V.lift(new Q(G,j))}}class Q{constructor(j,Y=0){this.scheduler=j,this.delay=Y}call(j,Y){return Y.subscribe(new ne(j,this.scheduler,this.delay))}}class ne extends D.L{constructor(j,Y,V=0){super(j),this.scheduler=Y,this.delay=V}static dispatch(j){const{notification:Y,destination:V}=j;Y.observe(V),this.unsubscribe()}scheduleMessage(j){this.destination.add(this.scheduler.schedule(ne.dispatch,this.delay,new U(j,this.destination)))}_next(j){this.scheduleMessage(l.P.createNext(j))}_error(j){this.scheduleMessage(l.P.createError(j)),this.unsubscribe()}_complete(){this.scheduleMessage(l.P.createComplete()),this.unsubscribe()}}class U{constructor(j,Y){this.notification=j,this.destination=Y}}},519:(Ue,he,k)=>{"use strict";k.d(he,{G:()=>l});var D=k(3489);function l(){return ne=>ne.lift(new F)}class F{call(U,G){return G.subscribe(new Q(U))}}class Q extends D.L{constructor(U){super(U),this.hasPrev=!1}_next(U){let G;this.hasPrev?G=[this.prev,U]:this.hasPrev=!0,this.prev=U,G&&this.destination.next(G)}}},4327:(Ue,he,k)=>{"use strict";k.d(he,{x:()=>l});var D=k(3489);function l(){return function(U){return U.lift(new F(U))}}class F{constructor(U){this.connectable=U}call(U,G){const{connectable:j}=this;j._refCount++;const Y=new Q(U,j),V=G.subscribe(Y);return Y.closed||(Y.connection=j.connect()),V}}class Q extends D.L{constructor(U,G){super(U),this.connectable=G}_unsubscribe(){const{connectable:U}=this;if(!U)return void(this.connection=null);this.connectable=null;const G=U._refCount;if(G<=0)return void(this.connection=null);if(U._refCount=G-1,G>1)return void(this.connection=null);const{connection:j}=this,Y=U._connection;this.connection=null,Y&&(!j||Y===j)&&Y.unsubscribe()}}},2014:(Ue,he,k)=>{"use strict";k.d(he,{R:()=>l});var D=k(3489);function l(ne,U){let G=!1;return arguments.length>=2&&(G=!0),function(Y){return Y.lift(new F(ne,U,G))}}class F{constructor(U,G,j=!1){this.accumulator=U,this.seed=G,this.hasSeed=j}call(U,G){return G.subscribe(new Q(U,this.accumulator,this.seed,this.hasSeed))}}class Q extends D.L{constructor(U,G,j,Y){super(U),this.accumulator=G,this._seed=j,this.hasSeed=Y,this.index=0}get seed(){return this._seed}set seed(U){this.hasSeed=!0,this._seed=U}_next(U){if(this.hasSeed)return this._tryNext(U);this.seed=U,this.destination.next(U)}_tryNext(U){const G=this.index++;let j;try{j=this.accumulator(this.seed,U,G)}catch(Y){this.destination.error(Y)}this.seed=j,this.destination.next(j)}}},8117:(Ue,he,k)=>{"use strict";k.d(he,{B:()=>ne});var D=k(2536),l=k(4327),F=k(8929);function Q(){return new F.xQ}function ne(){return U=>(0,l.x)()((0,D.O)(Q)(U))}},5154:(Ue,he,k)=>{"use strict";k.d(he,{d:()=>l});var D=k(839);function l(Q,ne,U){let G;return G=Q&&"object"==typeof Q?Q:{bufferSize:Q,windowTime:ne,refCount:!1,scheduler:U},j=>j.lift(function F({bufferSize:Q=Number.POSITIVE_INFINITY,windowTime:ne=Number.POSITIVE_INFINITY,refCount:U,scheduler:G}){let j,V,Y=0,K=!1,J=!1;return function(Ee){let Se;Y++,!j||K?(K=!1,j=new D.t(Q,ne,G),Se=j.subscribe(this),V=Ee.subscribe({next(Ae){j.next(Ae)},error(Ae){K=!0,j.error(Ae)},complete(){J=!0,V=void 0,j.complete()}}),J&&(V=void 0)):Se=j.subscribe(this),this.add(()=>{Y--,Se.unsubscribe(),Se=void 0,V&&!J&&U&&0===Y&&(V.unsubscribe(),V=void 0,j=void 0)})}}(G))}},1307:(Ue,he,k)=>{"use strict";k.d(he,{T:()=>l});var D=k(3489);function l(ne){return U=>U.lift(new F(ne))}class F{constructor(U){this.total=U}call(U,G){return G.subscribe(new Q(U,this.total))}}class Q extends D.L{constructor(U,G){super(U),this.total=G,this.count=0}_next(U){++this.count>this.total&&this.destination.next(U)}}},9403:(Ue,he,k)=>{"use strict";k.d(he,{n:()=>l});var D=k(3489);function l(ne){return U=>U.lift(new F(ne))}class F{constructor(U){this.predicate=U}call(U,G){return G.subscribe(new Q(U,this.predicate))}}class Q extends D.L{constructor(U,G){super(U),this.predicate=G,this.skipping=!0,this.index=0}_next(U){const G=this.destination;this.skipping&&this.tryCallPredicate(U),this.skipping||G.next(U)}tryCallPredicate(U){try{const G=this.predicate(U,this.index++);this.skipping=Boolean(G)}catch(G){this.destination.error(G)}}}},1059:(Ue,he,k)=>{"use strict";k.d(he,{O:()=>F});var D=k(1961),l=k(2866);function F(...Q){const ne=Q[Q.length-1];return(0,l.K)(ne)?(Q.pop(),U=>(0,D.z)(Q,U,ne)):U=>(0,D.z)(Q,U)}},3334:(Ue,he,k)=>{"use strict";k.d(he,{R:()=>ne});var D=k(6498),l=k(8139),F=k(4241);class Q extends D.y{constructor(j,Y=0,V=l.e){super(),this.source=j,this.delayTime=Y,this.scheduler=V,(!(0,F.k)(Y)||Y<0)&&(this.delayTime=0),(!V||"function"!=typeof V.schedule)&&(this.scheduler=l.e)}static create(j,Y=0,V=l.e){return new Q(j,Y,V)}static dispatch(j){const{source:Y,subscriber:V}=j;return this.add(Y.subscribe(V))}_subscribe(j){return this.scheduler.schedule(Q.dispatch,this.delayTime,{source:this.source,subscriber:j})}}function ne(G,j=0){return function(V){return V.lift(new U(G,j))}}class U{constructor(j,Y){this.scheduler=j,this.delay=Y}call(j,Y){return new Q(Y,this.delay,this.scheduler).subscribe(j)}}},7545:(Ue,he,k)=>{"use strict";k.d(he,{w:()=>Q});var D=k(4850),l=k(5254),F=k(1177);function Q(G,j){return"function"==typeof j?Y=>Y.pipe(Q((V,K)=>(0,l.D)(G(V,K)).pipe((0,D.U)((J,ge)=>j(V,J,K,ge))))):Y=>Y.lift(new ne(G))}class ne{constructor(j){this.project=j}call(j,Y){return Y.subscribe(new U(j,this.project))}}class U extends F.Ds{constructor(j,Y){super(j),this.project=Y,this.index=0}_next(j){let Y;const V=this.index++;try{Y=this.project(j,V)}catch(K){return void this.destination.error(K)}this._innerSub(Y)}_innerSub(j){const Y=this.innerSubscription;Y&&Y.unsubscribe();const V=new F.IY(this),K=this.destination;K.add(V),this.innerSubscription=(0,F.ft)(j,V),this.innerSubscription!==V&&K.add(this.innerSubscription)}_complete(){const{innerSubscription:j}=this;(!j||j.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(j){this.destination.next(j)}}},2313:(Ue,he,k)=>{"use strict";k.d(he,{c:()=>l});var D=k(7545);function l(F,Q){return Q?(0,D.w)(()=>F,Q):(0,D.w)(()=>F)}},2986:(Ue,he,k)=>{"use strict";k.d(he,{q:()=>Q});var D=k(3489),l=k(4231),F=k(8896);function Q(G){return j=>0===G?(0,F.c)():j.lift(new ne(G))}class ne{constructor(j){if(this.total=j,this.total<0)throw new l.W}call(j,Y){return Y.subscribe(new U(j,this.total))}}class U extends D.L{constructor(j,Y){super(j),this.total=Y,this.count=0}_next(j){const Y=this.total,V=++this.count;V<=Y&&(this.destination.next(j),V===Y&&(this.destination.complete(),this.unsubscribe()))}}},2821:(Ue,he,k)=>{"use strict";k.d(he,{h:()=>Q});var D=k(3489),l=k(4231),F=k(8896);function Q(G){return function(Y){return 0===G?(0,F.c)():Y.lift(new ne(G))}}class ne{constructor(j){if(this.total=j,this.total<0)throw new l.W}call(j,Y){return Y.subscribe(new U(j,this.total))}}class U extends D.L{constructor(j,Y){super(j),this.total=Y,this.ring=new Array,this.count=0}_next(j){const Y=this.ring,V=this.total,K=this.count++;Y.length<V?Y.push(j):Y[K%V]=j}_complete(){const j=this.destination;let Y=this.count;if(Y>0){const V=this.count>=this.total?this.total:this.count,K=this.ring;for(let J=0;J<V;J++){const ge=Y++%V;j.next(K[ge])}}j.complete()}}},7625:(Ue,he,k)=>{"use strict";k.d(he,{R:()=>l});var D=k(1177);function l(ne){return U=>U.lift(new F(ne))}class F{constructor(U){this.notifier=U}call(U,G){const j=new Q(U),Y=(0,D.ft)(this.notifier,new D.IY(j));return Y&&!j.seenValue?(j.add(Y),G.subscribe(j)):j}}class Q extends D.Ds{constructor(U){super(U),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},4290:(Ue,he,k)=>{"use strict";k.d(he,{o:()=>l});var D=k(3489);function l(ne,U=!1){return G=>G.lift(new F(ne,U))}class F{constructor(U,G){this.predicate=U,this.inclusive=G}call(U,G){return G.subscribe(new Q(U,this.predicate,this.inclusive))}}class Q extends D.L{constructor(U,G,j){super(U),this.predicate=G,this.inclusive=j,this.index=0}_next(U){const G=this.destination;let j;try{j=this.predicate(U,this.index++)}catch(Y){return void G.error(Y)}this.nextOrComplete(U,j)}nextOrComplete(U,G){const j=this.destination;Boolean(G)?j.next(U):(this.inclusive&&j.next(U),j.complete())}}},2868:(Ue,he,k)=>{"use strict";k.d(he,{b:()=>Q});var D=k(3489);function l(){}var F=k(7043);function Q(G,j,Y){return function(K){return K.lift(new ne(G,j,Y))}}class ne{constructor(j,Y,V){this.nextOrObserver=j,this.error=Y,this.complete=V}call(j,Y){return Y.subscribe(new U(j,this.nextOrObserver,this.error,this.complete))}}class U extends D.L{constructor(j,Y,V,K){super(j),this._tapNext=l,this._tapError=l,this._tapComplete=l,this._tapError=V||l,this._tapComplete=K||l,(0,F.m)(Y)?(this._context=this,this._tapNext=Y):Y&&(this._context=Y,this._tapNext=Y.next||l,this._tapError=Y.error||l,this._tapComplete=Y.complete||l)}_next(j){try{this._tapNext.call(this._context,j)}catch(Y){return void this.destination.error(Y)}this.destination.next(j)}_error(j){try{this._tapError.call(this._context,j)}catch(Y){return void this.destination.error(Y)}this.destination.error(j)}_complete(){try{this._tapComplete.call(this._context)}catch(j){return void this.destination.error(j)}return this.destination.complete()}}},4907:(Ue,he,k)=>{"use strict";k.d(he,{T:()=>F});var D=k(4450),l=k(3489);function F(G=U){return j=>j.lift(new Q(G))}class Q{constructor(j){this.errorFactory=j}call(j,Y){return Y.subscribe(new ne(j,this.errorFactory))}}class ne extends l.L{constructor(j,Y){super(j),this.errorFactory=Y,this.hasValue=!1}_next(j){this.hasValue=!0,this.destination.next(j)}_complete(){if(this.hasValue)return this.destination.complete();{let j;try{j=this.errorFactory()}catch(Y){j=Y}this.destination.error(j)}}}function U(){return new D.K}},7168:(Ue,he,k)=>{"use strict";k.d(he,{M:()=>F});var D=k(826),l=k(448);function F(...U){return G=>{let j;return"function"==typeof U[U.length-1]&&(j=U.pop()),G.lift(new Q(U,j))}}class Q{constructor(G,j){this.observables=G,this.project=j}call(G,j){return j.subscribe(new ne(G,this.observables,this.project))}}class ne extends D.L{constructor(G,j,Y){super(G),this.observables=j,this.project=Y,this.toRespond=[];const V=j.length;this.values=new Array(V);for(let K=0;K<V;K++)this.toRespond.push(K);for(let K=0;K<V;K++)this.add((0,l.D)(this,j[K],void 0,K))}notifyNext(G,j,Y){this.values[Y]=j;const V=this.toRespond;if(V.length>0){const K=V.indexOf(Y);-1!==K&&V.splice(K,1)}}notifyComplete(){}_next(G){if(0===this.toRespond.length){const j=[G,...this.values];this.project?this._tryProject(j):this.destination.next(j)}}_tryProject(G){let j;try{j=this.project.apply(this,G)}catch(Y){return void this.destination.error(Y)}this.destination.next(j)}}},6454:(Ue,he,k)=>{"use strict";k.d(he,{r:()=>F});var D=k(6498),l=k(2654);function F(Q,ne){return new D.y(U=>{const G=new l.w;let j=0;return G.add(ne.schedule(function(){j!==Q.length?(U.next(Q[j++]),U.closed||G.add(this.schedule())):U.complete()})),G})}},6686:(Ue,he,k)=>{"use strict";k.d(he,{o:()=>F});var D=k(2654);class l extends D.w{constructor(ne,U){super()}schedule(ne,U=0){return this}}class F extends l{constructor(ne,U){super(ne,U),this.scheduler=ne,this.work=U,this.pending=!1}schedule(ne,U=0){if(this.closed)return this;this.state=ne;const G=this.id,j=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(j,G,U)),this.pending=!0,this.delay=U,this.id=this.id||this.requestAsyncId(j,this.id,U),this}requestAsyncId(ne,U,G=0){return setInterval(ne.flush.bind(ne,this),G)}recycleAsyncId(ne,U,G=0){if(null!==G&&this.delay===G&&!1===this.pending)return U;clearInterval(U)}execute(ne,U){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const G=this._execute(ne,U);if(G)return G;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,U){let j,G=!1;try{this.work(ne)}catch(Y){G=!0,j=!!Y&&Y||new Error(Y)}if(G)return this.unsubscribe(),j}_unsubscribe(){const ne=this.id,U=this.scheduler,G=U.actions,j=G.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==j&&G.splice(j,1),null!=ne&&(this.id=this.recycleAsyncId(U,ne,null)),this.delay=null}}},2268:(Ue,he,k)=>{"use strict";k.d(he,{v:()=>l});let D=(()=>{class F{constructor(ne,U=F.now){this.SchedulerAction=ne,this.now=U}schedule(ne,U=0,G){return new this.SchedulerAction(this,ne).schedule(G,U)}}return F.now=()=>Date.now(),F})();class l extends D{constructor(Q,ne=D.now){super(Q,()=>l.delegate&&l.delegate!==this?l.delegate.now():ne()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Q,ne=0,U){return l.delegate&&l.delegate!==this?l.delegate.schedule(Q,ne,U):super.schedule(Q,ne,U)}flush(Q){const{actions:ne}=this;if(this.active)return void ne.push(Q);let U;this.active=!0;do{if(U=Q.execute(Q.state,Q.delay))break}while(Q=ne.shift());if(this.active=!1,U){for(;Q=ne.shift();)Q.unsubscribe();throw U}}}},8139:(Ue,he,k)=>{"use strict";k.d(he,{e:()=>J,E:()=>K});let D=1;const l=Promise.resolve(),F={};function Q(ge){return ge in F&&(delete F[ge],!0)}const ne={setImmediate(ge){const Ee=D++;return F[Ee]=!0,l.then(()=>Q(Ee)&&ge()),Ee},clearImmediate(ge){Q(ge)}};var G=k(6686),Y=k(2268);const K=new class V extends Y.v{flush(Ee){this.active=!0,this.scheduled=void 0;const{actions:Se}=this;let Ae,xe=-1,ke=Se.length;Ee=Ee||Se.shift();do{if(Ae=Ee.execute(Ee.state,Ee.delay))break}while(++xe<ke&&(Ee=Se.shift()));if(this.active=!1,Ae){for(;++xe<ke&&(Ee=Se.shift());)Ee.unsubscribe();throw Ae}}}(class j extends G.o{constructor(Ee,Se){super(Ee,Se),this.scheduler=Ee,this.work=Se}requestAsyncId(Ee,Se,Ae=0){return null!==Ae&&Ae>0?super.requestAsyncId(Ee,Se,Ae):(Ee.actions.push(this),Ee.scheduled||(Ee.scheduled=ne.setImmediate(Ee.flush.bind(Ee,null))))}recycleAsyncId(Ee,Se,Ae=0){if(null!==Ae&&Ae>0||null===Ae&&this.delay>0)return super.recycleAsyncId(Ee,Se,Ae);0===Ee.actions.length&&(ne.clearImmediate(Se),Ee.scheduled=void 0)}}),J=K},353:(Ue,he,k)=>{"use strict";k.d(he,{P:()=>Q,z:()=>F});var D=k(6686);const F=new(k(2268).v)(D.o),Q=F},341:(Ue,he,k)=>{"use strict";k.d(he,{c:()=>U,N:()=>ne});var D=k(6686),F=k(2268);const ne=new class Q extends F.v{}(class l extends D.o{constructor(j,Y){super(j,Y),this.scheduler=j,this.work=Y}schedule(j,Y=0){return Y>0?super.schedule(j,Y):(this.delay=Y,this.state=j,this.scheduler.flush(this),this)}execute(j,Y){return Y>0||this.closed?super.execute(j,Y):this._execute(j,Y)}requestAsyncId(j,Y,V=0){return null!==V&&V>0||null===V&&this.delay>0?super.requestAsyncId(j,Y,V):j.flush(this)}}),U=ne},5430:(Ue,he,k)=>{"use strict";k.d(he,{hZ:()=>l});const l=function D(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(Ue,he,k)=>{"use strict";k.d(he,{L:()=>D});const D="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(Ue,he,k)=>{"use strict";k.d(he,{b:()=>D});const D="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(Ue,he,k)=>{"use strict";k.d(he,{W:()=>l});const l=(()=>{function F(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return F.prototype=Object.create(Error.prototype),F})()},4450:(Ue,he,k)=>{"use strict";k.d(he,{K:()=>l});const l=(()=>{function F(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return F.prototype=Object.create(Error.prototype),F})()},5279:(Ue,he,k)=>{"use strict";k.d(he,{N:()=>l});const l=(()=>{function F(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return F.prototype=Object.create(Error.prototype),F})()},2782:(Ue,he,k)=>{"use strict";function D(l){setTimeout(()=>{throw l},0)}k.d(he,{z:()=>D})},5379:(Ue,he,k)=>{"use strict";function D(l){return l}k.d(he,{y:()=>D})},6688:(Ue,he,k)=>{"use strict";k.d(he,{k:()=>D});const D=Array.isArray||(l=>l&&"number"==typeof l.length)},8515:(Ue,he,k)=>{"use strict";k.d(he,{z:()=>D});const D=l=>l&&"number"==typeof l.length&&"function"!=typeof l},2697:(Ue,he,k)=>{"use strict";function D(l){return l instanceof Date&&!isNaN(+l)}k.d(he,{J:()=>D})},7043:(Ue,he,k)=>{"use strict";function D(l){return"function"==typeof l}k.d(he,{m:()=>D})},4241:(Ue,he,k)=>{"use strict";k.d(he,{k:()=>l});var D=k(6688);function l(F){return!(0,D.k)(F)&&F-parseFloat(F)+1>=0}},7830:(Ue,he,k)=>{"use strict";function D(l){return null!==l&&"object"==typeof l}k.d(he,{K:()=>D})},8955:(Ue,he,k)=>{"use strict";function D(l){return!!l&&"function"!=typeof l.subscribe&&"function"==typeof l.then}k.d(he,{t:()=>D})},2866:(Ue,he,k)=>{"use strict";function D(l){return l&&"function"==typeof l.schedule}k.d(he,{K:()=>D})},4843:(Ue,he,k)=>{"use strict";k.d(he,{U:()=>F,z:()=>l});var D=k(5379);function l(...Q){return F(Q)}function F(Q){return 0===Q.length?D.y:1===Q.length?Q[0]:function(U){return Q.reduce((G,j)=>j(G),U)}}},9249:(Ue,he,k)=>{"use strict";k.d(he,{s:()=>K});var D=k(3650),l=k(2782),Q=k(5430),U=k(3821),j=k(8515),Y=k(8955),V=k(7830);const K=J=>{if(J&&"function"==typeof J[U.L])return(J=>ge=>{const Ee=J[U.L]();if("function"!=typeof Ee.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ee.subscribe(ge)})(J);if((0,j.z)(J))return(0,D.V)(J);if((0,Y.t)(J))return(J=>ge=>(J.then(Ee=>{ge.closed||(ge.next(Ee),ge.complete())},Ee=>ge.error(Ee)).then(null,l.z),ge))(J);if(J&&"function"==typeof J[Q.hZ])return(J=>ge=>{const Ee=J[Q.hZ]();for(;;){let Se;try{Se=Ee.next()}catch(Ae){return ge.error(Ae),ge}if(Se.done){ge.complete();break}if(ge.next(Se.value),ge.closed)break}return"function"==typeof Ee.return&&ge.add(()=>{Ee.return&&Ee.return()}),ge})(J);{const Ee=`You provided ${(0,V.K)(J)?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ee)}}},3650:(Ue,he,k)=>{"use strict";k.d(he,{V:()=>D});const D=l=>F=>{for(let Q=0,ne=l.length;Q<ne&&!F.closed;Q++)F.next(l[Q]);F.complete()}},448:(Ue,he,k)=>{"use strict";k.d(he,{D:()=>ne});var D=k(3489);class l extends D.L{constructor(G,j,Y){super(),this.parent=G,this.outerValue=j,this.outerIndex=Y,this.index=0}_next(G){this.parent.notifyNext(this.outerValue,G,this.outerIndex,this.index++,this)}_error(G){this.parent.notifyError(G,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var F=k(9249),Q=k(6498);function ne(U,G,j,Y,V=new l(U,j,Y)){if(!V.closed)return G instanceof Q.y?G.subscribe(V):(0,F.s)(G)(V)}},1291:(Ue,he,k)=>{"use strict";k.r(he),k.d(he,{audit:()=>D.U,auditTime:()=>l.e,buffer:()=>Q,bufferCount:()=>j,bufferTime:()=>Ee,bufferToggle:()=>Xn,bufferWhen:()=>$e,catchError:()=>bt.K,combineAll:()=>tt,combineLatest:()=>Fn,concat:()=>lr,concatAll:()=>Bi.u,concatMap:()=>cr.b,concatMapTo:()=>Ln,count:()=>yi,debounce:()=>Qi,debounceTime:()=>vs.b,defaultIfEmpty:()=>Di.d,delay:()=>zi.g,delayWhen:()=>fi,dematerialize:()=>Ai,distinct:()=>Gn,distinctUntilChanged:()=>Xt.x,distinctUntilKeyChanged:()=>nt,elementAt:()=>bn,endWith:()=>Kn,every:()=>un,exhaust:()=>ue,exhaustMap:()=>He,expand:()=>Tn,filter:()=>yr.h,finalize:()=>we.x,find:()=>ae,findIndex:()=>Qe,first:()=>At.P,flatMap:()=>bs.VS,groupBy:()=>ut,ignoreElements:()=>Bn,isEmpty:()=>Ht,last:()=>Lr.Z,map:()=>me.U,mapTo:()=>Ft.h,materialize:()=>jn,max:()=>ti,merge:()=>vr,mergeAll:()=>Vr.J,mergeMap:()=>bs.zg,mergeMapTo:()=>dr,mergeScan:()=>wi,min:()=>ji,multicast:()=>xr.O,observeOn:()=>$t.QV,onErrorResumeNext:()=>ro,pairwise:()=>br.G,partition:()=>al,pluck:()=>Ra,publish:()=>In,publishBehavior:()=>oa,publishLast:()=>ll,publishReplay:()=>Br,race:()=>aa,reduce:()=>ur,refCount:()=>rs.x,repeat:()=>ca,repeatWhen:()=>so,retry:()=>Mr,retryWhen:()=>Po,sample:()=>wr,sampleTime:()=>lo,scan:()=>pn.R,sequenceEqual:()=>Fo,share:()=>da.B,shareReplay:()=>jc.d,single:()=>ii,skip:()=>hr.T,skipLast:()=>Fi,skipUntil:()=>O,skipWhile:()=>Pe.n,startWith:()=>Ie.O,subscribeOn:()=>vt.R,switchAll:()=>An,switchMap:()=>dn.w,switchMapTo:()=>mn.c,take:()=>ct.q,takeLast:()=>Cn.h,takeUntil:()=>mi.R,takeWhile:()=>gn.o,tap:()=>On.b,throttle:()=>Yt,throttleTime:()=>zn,throwIfEmpty:()=>vi.T,timeInterval:()=>Vo,timeout:()=>Es,timeoutWith:()=>Li,timestamp:()=>ul,toArray:()=>Nu,window:()=>fa,windowCount:()=>Ws,windowTime:()=>mo,windowToggle:()=>Ki,windowWhen:()=>Fa,withLatestFrom:()=>Ba.M,zip:()=>as,zipAll:()=>ma});var D=k(384),l=k(8062),F=k(1177);function Q(te){return function(x){return x.lift(new ne(te))}}class ne{constructor(w){this.closingNotifier=w}call(w,x){return x.subscribe(new U(w,this.closingNotifier))}}class U extends F.Ds{constructor(w,x){super(w),this.buffer=[],this.add((0,F.ft)(x,new F.IY(this)))}_next(w){this.buffer.push(w)}notifyNext(){const w=this.buffer;this.buffer=[],this.destination.next(w)}}var G=k(3489);function j(te,w=null){return function(Z){return Z.lift(new Y(te,w))}}class Y{constructor(w,x){this.bufferSize=w,this.startBufferEvery=x,this.subscriberClass=x&&w!==x?K:V}call(w,x){return x.subscribe(new this.subscriberClass(w,this.bufferSize,this.startBufferEvery))}}class V extends G.L{constructor(w,x){super(w),this.bufferSize=x,this.buffer=[]}_next(w){const x=this.buffer;x.push(w),x.length==this.bufferSize&&(this.destination.next(x),this.buffer=[])}_complete(){const w=this.buffer;w.length>0&&this.destination.next(w),super._complete()}}class K extends G.L{constructor(w,x,Z){super(w),this.bufferSize=x,this.startBufferEvery=Z,this.buffers=[],this.count=0}_next(w){const{bufferSize:x,startBufferEvery:Z,buffers:be,count:je}=this;this.count++,je%Z==0&&be.push([]);for(let Ct=be.length;Ct--;){const hn=be[Ct];hn.push(w),hn.length===x&&(be.splice(Ct,1),this.destination.next(hn))}}_complete(){const{buffers:w,destination:x}=this;for(;w.length>0;){let Z=w.shift();Z.length>0&&x.next(Z)}super._complete()}}var J=k(353),ge=k(2866);function Ee(te){let w=arguments.length,x=J.P;(0,ge.K)(arguments[arguments.length-1])&&(x=arguments[arguments.length-1],w--);let Z=null;w>=2&&(Z=arguments[1]);let be=Number.POSITIVE_INFINITY;return w>=3&&(be=arguments[2]),function(Ct){return Ct.lift(new Se(te,Z,be,x))}}class Se{constructor(w,x,Z,be){this.bufferTimeSpan=w,this.bufferCreationInterval=x,this.maxBufferSize=Z,this.scheduler=be}call(w,x){return x.subscribe(new xe(w,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class Ae{constructor(){this.buffer=[]}}class xe extends G.L{constructor(w,x,Z,be,je){super(w),this.bufferTimeSpan=x,this.bufferCreationInterval=Z,this.maxBufferSize=be,this.scheduler=je,this.contexts=[];const Ct=this.openContext();if(this.timespanOnly=null==Z||Z<0,this.timespanOnly)this.add(Ct.closeAction=je.schedule(ke,x,{subscriber:this,context:Ct,bufferTimeSpan:x}));else{const ri={bufferTimeSpan:x,bufferCreationInterval:Z,subscriber:this,scheduler:je};this.add(Ct.closeAction=je.schedule(wt,x,{subscriber:this,context:Ct})),this.add(je.schedule(ht,Z,ri))}}_next(w){const x=this.contexts,Z=x.length;let be;for(let je=0;je<Z;je++){const Ct=x[je],hn=Ct.buffer;hn.push(w),hn.length==this.maxBufferSize&&(be=Ct)}be&&this.onBufferFull(be)}_error(w){this.contexts.length=0,super._error(w)}_complete(){const{contexts:w,destination:x}=this;for(;w.length>0;){const Z=w.shift();x.next(Z.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(w){this.closeContext(w);const x=w.closeAction;if(x.unsubscribe(),this.remove(x),!this.closed&&this.timespanOnly){w=this.openContext();const Z=this.bufferTimeSpan;this.add(w.closeAction=this.scheduler.schedule(ke,Z,{subscriber:this,context:w,bufferTimeSpan:Z}))}}openContext(){const w=new Ae;return this.contexts.push(w),w}closeContext(w){this.destination.next(w.buffer);const x=this.contexts;(x?x.indexOf(w):-1)>=0&&x.splice(x.indexOf(w),1)}}function ke(te){const w=te.subscriber,x=te.context;x&&w.closeContext(x),w.closed||(te.context=w.openContext(),te.context.closeAction=this.schedule(te,te.bufferTimeSpan))}function ht(te){const{bufferCreationInterval:w,bufferTimeSpan:x,subscriber:Z,scheduler:be}=te,je=Z.openContext();Z.closed||(Z.add(je.closeAction=be.schedule(wt,x,{subscriber:Z,context:je})),this.schedule(te,w))}function wt(te){const{subscriber:w,context:x}=te;w.closeContext(x)}var jt=k(2654),fn=k(448),Ut=k(826);function Xn(te,w){return function(Z){return Z.lift(new Vt(te,w))}}class Vt{constructor(w,x){this.openings=w,this.closingSelector=x}call(w,x){return x.subscribe(new Ye(w,this.openings,this.closingSelector))}}class Ye extends Ut.L{constructor(w,x,Z){super(w),this.closingSelector=Z,this.contexts=[],this.add((0,fn.D)(this,x))}_next(w){const x=this.contexts,Z=x.length;for(let be=0;be<Z;be++)x[be].buffer.push(w)}_error(w){const x=this.contexts;for(;x.length>0;){const Z=x.shift();Z.subscription.unsubscribe(),Z.buffer=null,Z.subscription=null}this.contexts=null,super._error(w)}_complete(){const w=this.contexts;for(;w.length>0;){const x=w.shift();this.destination.next(x.buffer),x.subscription.unsubscribe(),x.buffer=null,x.subscription=null}this.contexts=null,super._complete()}notifyNext(w,x){w?this.closeBuffer(w):this.openBuffer(x)}notifyComplete(w){this.closeBuffer(w.context)}openBuffer(w){try{const Z=this.closingSelector.call(this,w);Z&&this.trySubscribe(Z)}catch(x){this._error(x)}}closeBuffer(w){const x=this.contexts;if(x&&w){const{buffer:Z,subscription:be}=w;this.destination.next(Z),x.splice(x.indexOf(w),1),this.remove(be),be.unsubscribe()}}trySubscribe(w){const x=this.contexts,be=new jt.w,je={buffer:[],subscription:be};x.push(je);const Ct=(0,fn.D)(this,w,je);!Ct||Ct.closed?this.closeBuffer(je):(Ct.context=je,this.add(Ct),be.add(Ct))}}function $e(te){return function(w){return w.lift(new rt(te))}}class rt{constructor(w){this.closingSelector=w}call(w,x){return x.subscribe(new Ot(w,this.closingSelector))}}class Ot extends F.Ds{constructor(w,x){super(w),this.closingSelector=x,this.subscribing=!1,this.openBuffer()}_next(w){this.buffer.push(w)}_complete(){const w=this.buffer;w&&this.destination.next(w),super._complete()}_unsubscribe(){this.buffer=void 0,this.subscribing=!1}notifyNext(){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let Z,{closingSubscription:w}=this;w&&(this.remove(w),w.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{const{closingSelector:be}=this;Z=be()}catch(be){return this.error(be)}w=new jt.w,this.closingSubscription=w,this.add(w),this.subscribing=!0,w.add((0,F.ft)(Z,new F.IY(this))),this.subscribing=!1}}var bt=k(7221),kt=k(6053);function tt(te){return w=>w.lift(new kt.Ms(te))}var ln=k(6688),_i=k(5254);function Fn(...te){let w=null;return"function"==typeof te[te.length-1]&&(w=te.pop()),1===te.length&&(0,ln.k)(te[0])&&(te=te[0].slice()),x=>x.lift.call((0,_i.D)([x,...te]),new kt.Ms(w))}var Kt=k(1961);function lr(...te){return w=>w.lift.call((0,Kt.z)(w,...te))}var Bi=k(534),cr=k(1406);function Ln(te,w){return(0,cr.b)(()=>te,w)}function yi(te){return w=>w.lift(new Zi(te,w))}class Zi{constructor(w,x){this.predicate=w,this.source=x}call(w,x){return x.subscribe(new Yn(w,this.predicate,this.source))}}class Yn extends G.L{constructor(w,x,Z){super(w),this.predicate=x,this.source=Z,this.count=0,this.index=0}_next(w){this.predicate?this._tryPredicate(w):this.count++}_tryPredicate(w){let x;try{x=this.predicate(w,this.index++,this.source)}catch(Z){return void this.destination.error(Z)}x&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}function Qi(te){return w=>w.lift(new Sn(te))}class Sn{constructor(w){this.durationSelector=w}call(w,x){return x.subscribe(new Vn(w,this.durationSelector))}}class Vn extends F.Ds{constructor(w,x){super(w),this.durationSelector=x,this.hasValue=!1}_next(w){try{const x=this.durationSelector.call(this,w);x&&this._tryNext(w,x)}catch(x){this.destination.error(x)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(w,x){let Z=this.durationSubscription;this.value=w,this.hasValue=!0,Z&&(Z.unsubscribe(),this.remove(Z)),Z=(0,F.ft)(x,new F.IY(this)),Z&&!Z.closed&&this.add(this.durationSubscription=Z)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const w=this.value,x=this.durationSubscription;x&&(this.durationSubscription=void 0,x.unsubscribe(),this.remove(x)),this.value=void 0,this.hasValue=!1,super._next(w)}}}var vs=k(13),Di=k(7314),zi=k(943),We=k(6498);function fi(te,w){return w?x=>new yn(x,w).lift(new gt(te)):x=>x.lift(new gt(te))}class gt{constructor(w){this.delayDurationSelector=w}call(w,x){return x.subscribe(new Mi(w,this.delayDurationSelector))}}class Mi extends Ut.L{constructor(w,x){super(w),this.delayDurationSelector=x,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(w,x,Z,be,je){this.destination.next(w),this.removeSubscription(je),this.tryComplete()}notifyError(w,x){this._error(w)}notifyComplete(w){const x=this.removeSubscription(w);x&&this.destination.next(x),this.tryComplete()}_next(w){const x=this.index++;try{const Z=this.delayDurationSelector(w,x);Z&&this.tryDelay(Z,w)}catch(Z){this.destination.error(Z)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(w){w.unsubscribe();const x=this.delayNotifierSubscriptions.indexOf(w);return-1!==x&&this.delayNotifierSubscriptions.splice(x,1),w.outerValue}tryDelay(w,x){const Z=(0,fn.D)(this,w,x);Z&&!Z.closed&&(this.destination.add(Z),this.delayNotifierSubscriptions.push(Z))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class yn extends We.y{constructor(w,x){super(),this.source=w,this.subscriptionDelay=x}_subscribe(w){this.subscriptionDelay.subscribe(new cn(w,this.source))}}class cn extends G.L{constructor(w,x){super(),this.parent=w,this.source=x,this.sourceSubscribed=!1}_next(w){this.subscribeToSource()}_error(w){this.unsubscribe(),this.parent.error(w)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}function Ai(){return function(w){return w.lift(new Xi)}}class Xi{call(w,x){return x.subscribe(new ai(w))}}class ai extends G.L{constructor(w){super(w)}_next(w){w.observe(this.destination)}}function Gn(te,w){return x=>x.lift(new vn(te,w))}class vn{constructor(w,x){this.keySelector=w,this.flushes=x}call(w,x){return x.subscribe(new es(w,this.keySelector,this.flushes))}}class es extends F.Ds{constructor(w,x,Z){super(w),this.keySelector=x,this.values=new Set,Z&&this.add((0,F.ft)(Z,new F.IY(this)))}notifyNext(){this.values.clear()}notifyError(w){this._error(w)}_next(w){this.keySelector?this._useKeySelector(w):this._finalizeNext(w,w)}_useKeySelector(w){let x;const{destination:Z}=this;try{x=this.keySelector(w)}catch(be){return void Z.error(be)}this._finalizeNext(x,w)}_finalizeNext(w,x){const{values:Z}=this;Z.has(w)||(Z.add(w),this.destination.next(x))}}var Xt=k(5778);function nt(te,w){return(0,Xt.x)((x,Z)=>w?w(x[te],Z[te]):x[te]===Z[te])}var St=k(4231),yr=k(2198),vi=k(4907),ct=k(2986);function bn(te,w){if(te<0)throw new St.W;const x=arguments.length>=2;return Z=>Z.pipe((0,yr.h)((be,je)=>je===te),(0,ct.q)(1),x?(0,Di.d)(w):(0,vi.T)(()=>new St.W))}var li=k(1086);function Kn(...te){return w=>(0,Kt.z)(w,(0,li.of)(...te))}function un(te,w){return x=>x.lift(new Jn(te,w,x))}class Jn{constructor(w,x,Z){this.predicate=w,this.thisArg=x,this.source=Z}call(w,x){return x.subscribe(new ce(w,this.predicate,this.thisArg,this.source))}}class ce extends G.L{constructor(w,x,Z,be){super(w),this.predicate=x,this.thisArg=Z,this.source=be,this.index=0,this.thisArg=Z||this}notifyComplete(w){this.destination.next(w),this.destination.complete()}_next(w){let x=!1;try{x=this.predicate.call(this.thisArg,w,this.index++,this.source)}catch(Z){return void this.destination.error(Z)}x||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function ue(){return te=>te.lift(new oe)}class oe{call(w,x){return x.subscribe(new pe(w))}}class pe extends F.Ds{constructor(w){super(w),this.hasCompleted=!1,this.hasSubscription=!1}_next(w){this.hasSubscription||(this.hasSubscription=!0,this.add((0,F.ft)(w,new F.IY(this))))}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}var me=k(4850);function He(te,w){return w?x=>x.pipe(He((Z,be)=>(0,_i.D)(te(Z,be)).pipe((0,me.U)((je,Ct)=>w(Z,je,be,Ct))))):x=>x.lift(new ot(te))}class ot{constructor(w){this.project=w}call(w,x){return x.subscribe(new xt(w,this.project))}}class xt extends F.Ds{constructor(w,x){super(w),this.project=x,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(w){this.hasSubscription||this.tryNext(w)}tryNext(w){let x;const Z=this.index++;try{x=this.project(w,Z)}catch(be){return void this.destination.error(be)}this.hasSubscription=!0,this._innerSub(x)}_innerSub(w){const x=new F.IY(this),Z=this.destination;Z.add(x);const be=(0,F.ft)(w,x);be!==x&&Z.add(be)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(w){this.destination.next(w)}notifyError(w){this.destination.error(w)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}function Tn(te,w=Number.POSITIVE_INFINITY,x){return w=(w||0)<1?Number.POSITIVE_INFINITY:w,Z=>Z.lift(new xn(te,w,x))}class xn{constructor(w,x,Z){this.project=w,this.concurrent=x,this.scheduler=Z}call(w,x){return x.subscribe(new ki(w,this.project,this.concurrent,this.scheduler))}}class ki extends F.Ds{constructor(w,x,Z,be){super(w),this.project=x,this.concurrent=Z,this.scheduler=be,this.index=0,this.active=0,this.hasCompleted=!1,Z<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(w){const{subscriber:x,result:Z,value:be,index:je}=w;x.subscribeToProjection(Z,be,je)}_next(w){const x=this.destination;if(x.closed)return void this._complete();const Z=this.index++;if(this.active<this.concurrent){x.next(w);try{const{project:be}=this,je=be(w,Z);this.scheduler?this.destination.add(this.scheduler.schedule(ki.dispatch,0,{subscriber:this,result:je,value:w,index:Z})):this.subscribeToProjection(je,w,Z)}catch(be){x.error(be)}}else this.buffer.push(w)}subscribeToProjection(w,x,Z){this.active++,this.destination.add((0,F.ft)(w,new F.IY(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(w){this._next(w)}notifyComplete(){const w=this.buffer;this.active--,w&&w.length>0&&this._next(w.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}var we=k(537);function ae(te,w){if("function"!=typeof te)throw new TypeError("predicate is not a function");return x=>x.lift(new le(te,x,!1,w))}class le{constructor(w,x,Z,be){this.predicate=w,this.source=x,this.yieldIndex=Z,this.thisArg=be}call(w,x){return x.subscribe(new Fe(w,this.predicate,this.source,this.yieldIndex,this.thisArg))}}class Fe extends G.L{constructor(w,x,Z,be,je){super(w),this.predicate=x,this.source=Z,this.yieldIndex=be,this.thisArg=je,this.index=0}notifyComplete(w){const x=this.destination;x.next(w),x.complete(),this.unsubscribe()}_next(w){const{predicate:x,thisArg:Z}=this,be=this.index++;try{x.call(Z||this,w,be,this.source)&&this.notifyComplete(this.yieldIndex?be:w)}catch(je){this.destination.error(je)}}_complete(){this.notifyComplete(this.yieldIndex?-1:void 0)}}function Qe(te,w){return x=>x.lift(new le(te,x,!0,w))}var At=k(7224),Re=k(8929);function ut(te,w,x,Z){return be=>be.lift(new at(te,w,x,Z))}class at{constructor(w,x,Z,be){this.keySelector=w,this.elementSelector=x,this.durationSelector=Z,this.subjectSelector=be}call(w,x){return x.subscribe(new Ke(w,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class Ke extends G.L{constructor(w,x,Z,be,je){super(w),this.keySelector=x,this.elementSelector=Z,this.durationSelector=be,this.subjectSelector=je,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(w){let x;try{x=this.keySelector(w)}catch(Z){return void this.error(Z)}this._group(w,x)}_group(w,x){let Z=this.groups;Z||(Z=this.groups=new Map);let je,be=Z.get(x);if(this.elementSelector)try{je=this.elementSelector(w)}catch(Ct){this.error(Ct)}else je=w;if(!be){be=this.subjectSelector?this.subjectSelector():new Re.xQ,Z.set(x,be);const Ct=new It(x,be,this);if(this.destination.next(Ct),this.durationSelector){let hn;try{hn=this.durationSelector(new It(x,be))}catch(ri){return void this.error(ri)}this.add(hn.subscribe(new kn(x,be,this)))}}be.closed||be.next(je)}_error(w){const x=this.groups;x&&(x.forEach((Z,be)=>{Z.error(w)}),x.clear()),this.destination.error(w)}_complete(){const w=this.groups;w&&(w.forEach((x,Z)=>{x.complete()}),w.clear()),this.destination.complete()}removeGroup(w){this.groups.delete(w)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class kn extends G.L{constructor(w,x,Z){super(x),this.key=w,this.group=x,this.parent=Z}_next(w){this.complete()}_unsubscribe(){const{parent:w,key:x}=this;this.key=this.parent=null,w&&w.removeGroup(x)}}class It extends We.y{constructor(w,x,Z){super(),this.key=w,this.groupSubject=x,this.refCountSubscription=Z}_subscribe(w){const x=new jt.w,{refCountSubscription:Z,groupSubject:be}=this;return Z&&!Z.closed&&x.add(new bi(Z)),x.add(be.subscribe(w)),x}}class bi extends jt.w{constructor(w){super(),this.parent=w,w.count++}unsubscribe(){const w=this.parent;!w.closed&&!this.closed&&(super.unsubscribe(),w.count-=1,0===w.count&&w.attemptedToUnsubscribe&&w.unsubscribe())}}function Bn(){return function(w){return w.lift(new ts)}}class ts{call(w,x){return x.subscribe(new Wi(w))}}class Wi extends G.L{_next(w){}}function Ht(){return te=>te.lift(new Ni)}class Ni{call(w,x){return x.subscribe(new Ji(w))}}class Ji extends G.L{constructor(w){super(w)}notifyComplete(w){const x=this.destination;x.next(w),x.complete()}_next(w){this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var Lr=k(8127),Ft=k(7604),Ze=k(9312);function jn(){return function(w){return w.lift(new ei)}}class ei{call(w,x){return x.subscribe(new Mn(w))}}class Mn extends G.L{constructor(w){super(w)}_next(w){this.destination.next(Ze.P.createNext(w))}_error(w){const x=this.destination;x.next(Ze.P.createError(w)),x.complete()}_complete(){const w=this.destination;w.next(Ze.P.createComplete()),w.complete()}}var pn=k(2014),Cn=k(2821),an=k(4843);function ur(te,w){return arguments.length>=2?function(Z){return(0,an.z)((0,pn.R)(te,w),(0,Cn.h)(1),(0,Di.d)(w))(Z)}:function(Z){return(0,an.z)((0,pn.R)((be,je,Ct)=>te(be,je,Ct+1)),(0,Cn.h)(1))(Z)}}function ti(te){return ur("function"==typeof te?(x,Z)=>te(x,Z)>0?x:Z:(x,Z)=>x>Z?x:Z)}var er=k(6787);function vr(...te){return w=>w.lift.call((0,er.T)(w,...te))}var Vr=k(9146),bs=k(1709);function dr(te,w,x=Number.POSITIVE_INFINITY){return"function"==typeof w?(0,bs.zg)(()=>te,w,x):("number"==typeof w&&(x=w),(0,bs.zg)(()=>te,x))}function wi(te,w,x=Number.POSITIVE_INFINITY){return Z=>Z.lift(new Gl(te,w,x))}class Gl{constructor(w,x,Z){this.accumulator=w,this.seed=x,this.concurrent=Z}call(w,x){return x.subscribe(new Ri(w,this.accumulator,this.seed,this.concurrent))}}class Ri extends F.Ds{constructor(w,x,Z,be){super(w),this.accumulator=x,this.acc=Z,this.concurrent=be,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(w){if(this.active<this.concurrent){const x=this.index++,Z=this.destination;let be;try{const{accumulator:je}=this;be=je(this.acc,w,x)}catch(je){return Z.error(je)}this.active++,this._innerSub(be)}else this.buffer.push(w)}_innerSub(w){const x=new F.IY(this),Z=this.destination;Z.add(x);const be=(0,F.ft)(w,x);be!==x&&Z.add(be)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}notifyNext(w){const{destination:x}=this;this.acc=w,this.hasValue=!0,x.next(w)}notifyComplete(){const w=this.buffer;this.active--,w.length>0?this._next(w.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}function ji(te){return ur("function"==typeof te?(x,Z)=>te(x,Z)<0?x:Z:(x,Z)=>x<Z?x:Z)}var xr=k(2536),$t=k(7770);function ro(...te){return 1===te.length&&(0,ln.k)(te[0])&&(te=te[0]),w=>w.lift(new pi(te))}class pi{constructor(w){this.nextSources=w}call(w,x){return x.subscribe(new Pu(w,this.nextSources))}}class Pu extends F.Ds{constructor(w,x){super(w),this.destination=w,this.nextSources=x}notifyError(){this.subscribeToNextSource()}notifyComplete(){this.subscribeToNextSource()}_error(w){this.subscribeToNextSource(),this.unsubscribe()}_complete(){this.subscribeToNextSource(),this.unsubscribe()}subscribeToNextSource(){const w=this.nextSources.shift();if(w){const x=new F.IY(this),Z=this.destination;Z.add(x);const be=(0,F.ft)(w,x);be!==x&&Z.add(be)}else this.destination.complete()}}var br=k(519);function sa(te,w){function x(){return!x.pred.apply(x.thisArg,arguments)}return x.pred=te,x.thisArg=w,x}function al(te,w){return x=>[(0,yr.h)(te,w)(x),(0,yr.h)(sa(te,w))(x)]}function Ra(...te){const w=te.length;if(0===w)throw new Error("list of properties cannot be empty.");return x=>(0,me.U)(function Pd(te,w){return Z=>{let be=Z;for(let je=0;je<w;je++){const Ct=be?.[te[je]];if(void 0===Ct)return;be=Ct}return be}}(te,w))(x)}function In(te){return te?(0,xr.O)(()=>new Re.xQ,te):(0,xr.O)(new Re.xQ)}var ns=k(591);function oa(te){return w=>(0,xr.O)(new ns.X(te))(w)}class Kl extends Re.xQ{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(w){return this.hasError?(w.error(this.thrownError),jt.w.EMPTY):this.hasCompleted&&this.hasNext?(w.next(this.value),w.complete(),jt.w.EMPTY):super._subscribe(w)}next(w){this.hasCompleted||(this.value=w,this.hasNext=!0)}error(w){this.hasCompleted||super.error(w)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}function ll(){return te=>(0,xr.O)(new Kl)(te)}var ko=k(839);function Br(te,w,x,Z){x&&"function"!=typeof x&&(Z=x);const be="function"==typeof x?x:void 0,je=new ko.t(te,w,Z);return Ct=>(0,xr.O)(()=>je,be)(Ct)}var Vc=k(1946);function aa(...te){return function(x){return 1===te.length&&(0,ln.k)(te[0])&&(te=te[0]),x.lift.call((0,Vc.S3)(x,...te))}}var la=k(8896);function ca(te=-1){return w=>0===te?(0,la.c)():w.lift(new Ro(te<0?-1:te-1,w))}class Ro{constructor(w,x){this.count=w,this.source=x}call(w,x){return x.subscribe(new ws(w,this.count,this.source))}}class ws extends G.L{constructor(w,x,Z){super(w),this.count=x,this.source=Z}complete(){if(!this.isStopped){const{source:w,count:x}=this;if(0===x)return super.complete();x>-1&&(this.count=x-1),w.subscribe(this._unsubscribeAndRecycle())}}}function so(te){return w=>w.lift(new qt(te))}class qt{constructor(w){this.notifier=w}call(w,x){return x.subscribe(new Oo(w,this.notifier,x))}}class Oo extends F.Ds{constructor(w,x,Z){super(w),this.notifier=x,this.source=Z,this.sourceIsBeingSubscribedTo=!0}notifyNext(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next(void 0)}}_unsubscribe(){const{notifications:w,retriesSubscription:x}=this;w&&(w.unsubscribe(),this.notifications=void 0),x&&(x.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}_unsubscribeAndRecycle(){const{_unsubscribe:w}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=w,this}subscribeToRetries(){let w;this.notifications=new Re.xQ;try{const{notifier:x}=this;w=x(this.notifications)}catch{return super.complete()}this.retries=w,this.retriesSubscription=(0,F.ft)(w,new F.IY(this))}}function Mr(te=-1){return w=>w.lift(new is(te,w))}class is{constructor(w,x){this.count=w,this.source=x}call(w,x){return x.subscribe(new oo(w,this.count,this.source))}}class oo extends G.L{constructor(w,x,Z){super(w),this.count=x,this.source=Z}error(w){if(!this.isStopped){const{source:x,count:Z}=this;if(0===Z)return super.error(w);Z>-1&&(this.count=Z-1),x.subscribe(this._unsubscribeAndRecycle())}}}function Po(te){return w=>w.lift(new No(te,w))}class No{constructor(w,x){this.notifier=w,this.source=x}call(w,x){return x.subscribe(new Oa(w,this.notifier,this.source))}}class Oa extends F.Ds{constructor(w,x,Z){super(w),this.notifier=x,this.source=Z}error(w){if(!this.isStopped){let x=this.errors,Z=this.retries,be=this.retriesSubscription;if(Z)this.errors=void 0,this.retriesSubscription=void 0;else{x=new Re.xQ;try{const{notifier:je}=this;Z=je(x)}catch(je){return super.error(je)}be=(0,F.ft)(Z,new F.IY(this))}this._unsubscribeAndRecycle(),this.errors=x,this.retries=Z,this.retriesSubscription=be,x.next(w)}}_unsubscribe(){const{errors:w,retriesSubscription:x}=this;w&&(w.unsubscribe(),this.errors=void 0),x&&(x.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:w}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=w,this.source.subscribe(this)}}var rs=k(4327);function wr(te){return w=>w.lift(new Ar(te))}class Ar{constructor(w){this.notifier=w}call(w,x){const Z=new ao(w),be=x.subscribe(Z);return be.add((0,F.ft)(this.notifier,new F.IY(Z))),be}}class ao extends F.Ds{constructor(){super(...arguments),this.hasValue=!1}_next(w){this.value=w,this.hasValue=!0}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}function lo(te,w=J.P){return x=>x.lift(new wn(te,w))}class wn{constructor(w,x){this.period=w,this.scheduler=x}call(w,x){return x.subscribe(new js(w,this.period,this.scheduler))}}class js extends G.L{constructor(w,x,Z){super(w),this.period=x,this.scheduler=Z,this.hasValue=!1,this.add(Z.schedule(Us,x,{subscriber:this,period:x}))}_next(w){this.lastValue=w,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function Us(te){let{subscriber:w,period:x}=te;w.notifyNext(),this.schedule(te,x)}function Fo(te,w){return x=>x.lift(new ua(te,w))}class ua{constructor(w,x){this.compareTo=w,this.comparator=x}call(w,x){return x.subscribe(new Bc(w,this.compareTo,this.comparator))}}class Bc extends G.L{constructor(w,x,Z){super(w),this.compareTo=x,this.comparator=Z,this._a=[],this._b=[],this._oneComplete=!1,this.destination.add(x.subscribe(new ni(w,this)))}_next(w){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(w),this.checkValues())}_complete(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}checkValues(){const{_a:w,_b:x,comparator:Z}=this;for(;w.length>0&&x.length>0;){let be=w.shift(),je=x.shift(),Ct=!1;try{Ct=Z?Z(be,je):be===je}catch(hn){this.destination.error(hn)}Ct||this.emit(!1)}}emit(w){const{destination:x}=this;x.next(w),x.complete()}nextB(w){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(w),this.checkValues())}completeB(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}class ni extends G.L{constructor(w,x){super(w),this.parent=x}_next(w){this.parent.nextB(w)}_error(w){this.parent.error(w),this.unsubscribe()}_complete(){this.parent.completeB(),this.unsubscribe()}}var da=k(8117),jc=k(5154),co=k(4450);function ii(te){return w=>w.lift(new ha(te,w))}class ha{constructor(w,x){this.predicate=w,this.source=x}call(w,x){return x.subscribe(new Lo(w,this.predicate,this.source))}}class Lo extends G.L{constructor(w,x,Z){super(w),this.predicate=x,this.source=Z,this.seenValue=!1,this.index=0}applySingleValue(w){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=w)}_next(w){const x=this.index++;this.predicate?this.tryNext(w,x):this.applySingleValue(w)}tryNext(w,x){try{this.predicate(w,x,this.source)&&this.applySingleValue(w)}catch(Z){this.destination.error(Z)}}_complete(){const w=this.destination;this.index>0?(w.next(this.seenValue?this.singleValue:void 0),w.complete()):w.error(new co.K)}}var hr=k(1307);function Fi(te){return w=>w.lift(new R(te))}class R{constructor(w){if(this._skipCount=w,this._skipCount<0)throw new St.W}call(w,x){return x.subscribe(0===this._skipCount?new G.L(w):new z(w,this._skipCount))}}class z extends G.L{constructor(w,x){super(w),this._skipCount=x,this._count=0,this._ring=new Array(x)}_next(w){const x=this._skipCount,Z=this._count++;if(Z<x)this._ring[Z]=w;else{const be=Z%x,je=this._ring,Ct=je[be];je[be]=w,this.destination.next(Ct)}}}function O(te){return w=>w.lift(new q(te))}class q{constructor(w){this.notifier=w}call(w,x){return x.subscribe(new _e(w,this.notifier))}}class _e extends F.Ds{constructor(w,x){super(w),this.hasValue=!1;const Z=new F.IY(this);this.add(Z),this.innerSubscription=Z;const be=(0,F.ft)(x,Z);be!==Z&&(this.add(be),this.innerSubscription=be)}_next(w){this.hasValue&&super._next(w)}notifyNext(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}var Pe=k(9403),Ie=k(1059),vt=k(3334),dn=k(7545),Rn=k(5379);function An(){return(0,dn.w)(Rn.y)}var mn=k(2313),mi=k(7625),gn=k(4290),On=k(2868);const Ve={leading:!0,trailing:!1};function Yt(te,w=Ve){return x=>x.lift(new Hs(te,!!w.leading,!!w.trailing))}class Hs{constructor(w,x,Z){this.durationSelector=w,this.leading=x,this.trailing=Z}call(w,x){return x.subscribe(new Er(w,this.durationSelector,this.leading,this.trailing))}}class Er extends F.Ds{constructor(w,x,Z,be){super(w),this.destination=w,this.durationSelector=x,this._leading=Z,this._trailing=be,this._hasValue=!1}_next(w){this._hasValue=!0,this._sendValue=w,this._throttled||(this._leading?this.send():this.throttle(w))}send(){const{_hasValue:w,_sendValue:x}=this;w&&(this.destination.next(x),this.throttle(x)),this._hasValue=!1,this._sendValue=void 0}throttle(w){const x=this.tryDurationSelector(w);x&&this.add(this._throttled=(0,F.ft)(x,new F.IY(this)))}tryDurationSelector(w){try{return this.durationSelector(w)}catch(x){return this.destination.error(x),null}}throttlingDone(){const{_throttled:w,_trailing:x}=this;w&&w.unsubscribe(),this._throttled=void 0,x&&this.send()}notifyNext(){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}function zn(te,w=J.P,x=Ve){return Z=>Z.lift(new uo(te,w,x.leading,x.trailing))}class uo{constructor(w,x,Z,be){this.duration=w,this.scheduler=x,this.leading=Z,this.trailing=be}call(w,x){return x.subscribe(new jr(w,this.duration,this.scheduler,this.leading,this.trailing))}}class jr extends G.L{constructor(w,x,Z,be,je){super(w),this.duration=x,this.scheduler=Z,this.leading=be,this.trailing=je,this._hasTrailingValue=!1,this._trailingValue=null}_next(w){this.throttled?this.trailing&&(this._trailingValue=w,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Ur,this.duration,{subscriber:this})),this.leading?this.destination.next(w):this.trailing&&(this._trailingValue=w,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const w=this.throttled;w&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),w.unsubscribe(),this.remove(w),this.throttled=null)}}function Ur(te){const{subscriber:w}=te;w.clearThrottle()}var ho=k(8514);function Vo(te=J.P){return w=>(0,ho.P)(()=>w.pipe((0,pn.R)(({current:x},Z)=>({value:Z,current:te.now(),last:x}),{current:te.now(),value:void 0,last:void 0}),(0,me.U)(({current:x,last:Z,value:be})=>new kr(be,x-Z))))}class kr{constructor(w,x){this.value=w,this.interval=x}}const $s=(()=>{function te(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return te.prototype=Object.create(Error.prototype),te})();var zs=k(2697);function Li(te,w,x=J.P){return Z=>{let be=(0,zs.J)(te),je=be?+te-x.now():Math.abs(te);return Z.lift(new ss(je,be,w,x))}}class ss{constructor(w,x,Z,be){this.waitFor=w,this.absoluteTimeout=x,this.withObservable=Z,this.scheduler=be}call(w,x){return x.subscribe(new Bo(w,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class Bo extends F.Ds{constructor(w,x,Z,be,je){super(w),this.absoluteTimeout=x,this.waitFor=Z,this.withObservable=be,this.scheduler=je,this.scheduleTimeout()}static dispatchTimeout(w){const{withObservable:x}=w;w._unsubscribeAndRecycle(),w.add((0,F.ft)(x,new F.IY(w)))}scheduleTimeout(){const{action:w}=this;w?this.action=w.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(Bo.dispatchTimeout,this.waitFor,this))}_next(w){this.absoluteTimeout||this.scheduleTimeout(),super._next(w)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var fo=k(1737);function Es(te,w=J.P){return Li(te,(0,fo._)(new $s),w)}function ul(te=J.P){return(0,me.U)(w=>new ql(w,te.now()))}class ql{constructor(w,x){this.value=w,this.timestamp=x}}function Pa(te,w,x){return 0===x?[w]:(te.push(w),te)}function Nu(){return ur(Pa,[])}function fa(te){return function(x){return x.lift(new Na(te))}}class Na{constructor(w){this.windowBoundaries=w}call(w,x){const Z=new dl(w),be=x.subscribe(Z);return be.closed||Z.add((0,F.ft)(this.windowBoundaries,new F.IY(Z))),be}}class dl extends F.Ds{constructor(w){super(w),this.window=new Re.xQ,w.next(this.window)}notifyNext(){this.openWindow()}notifyError(w){this._error(w)}notifyComplete(){this._complete()}_next(w){this.window.next(w)}_error(w){this.window.error(w),this.destination.error(w)}_complete(){this.window.complete(),this.destination.complete()}_unsubscribe(){this.window=null}openWindow(){const w=this.window;w&&w.complete();const x=this.destination,Z=this.window=new Re.xQ;x.next(Z)}}function Ws(te,w=0){return function(Z){return Z.lift(new Yl(te,w))}}class Yl{constructor(w,x){this.windowSize=w,this.startWindowEvery=x}call(w,x){return x.subscribe(new po(w,this.windowSize,this.startWindowEvery))}}class po extends G.L{constructor(w,x,Z){super(w),this.destination=w,this.windowSize=x,this.startWindowEvery=Z,this.windows=[new Re.xQ],this.count=0,w.next(this.windows[0])}_next(w){const x=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,Z=this.destination,be=this.windowSize,je=this.windows,Ct=je.length;for(let ri=0;ri<Ct&&!this.closed;ri++)je[ri].next(w);const hn=this.count-be+1;if(hn>=0&&hn%x==0&&!this.closed&&je.shift().complete(),++this.count%x==0&&!this.closed){const ri=new Re.xQ;je.push(ri),Z.next(ri)}}_error(w){const x=this.windows;if(x)for(;x.length>0&&!this.closed;)x.shift().error(w);this.destination.error(w)}_complete(){const w=this.windows;if(w)for(;w.length>0&&!this.closed;)w.shift().complete();this.destination.complete()}_unsubscribe(){this.count=0,this.windows=null}}var jo=k(4241);function mo(te){let w=J.P,x=null,Z=Number.POSITIVE_INFINITY;return(0,ge.K)(arguments[3])&&(w=arguments[3]),(0,ge.K)(arguments[2])?w=arguments[2]:(0,jo.k)(arguments[2])&&(Z=Number(arguments[2])),(0,ge.K)(arguments[1])?w=arguments[1]:(0,jo.k)(arguments[1])&&(x=Number(arguments[1])),function(je){return je.lift(new Cs(te,x,Z,w))}}class Cs{constructor(w,x,Z,be){this.windowTimeSpan=w,this.windowCreationInterval=x,this.maxWindowSize=Z,this.scheduler=be}call(w,x){return x.subscribe(new Zl(w,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}class os extends Re.xQ{constructor(){super(...arguments),this._numberOfNextedValues=0}next(w){this._numberOfNextedValues++,super.next(w)}get numberOfNextedValues(){return this._numberOfNextedValues}}class Zl extends G.L{constructor(w,x,Z,be,je){super(w),this.destination=w,this.windowTimeSpan=x,this.windowCreationInterval=Z,this.maxWindowSize=be,this.scheduler=je,this.windows=[];const Ct=this.openWindow();if(null!==Z&&Z>=0){const ri={windowTimeSpan:x,windowCreationInterval:Z,subscriber:this,scheduler:je};this.add(je.schedule(Hr,x,{subscriber:this,window:Ct,context:null})),this.add(je.schedule(hl,Z,ri))}else this.add(je.schedule(pa,x,{subscriber:this,window:Ct,windowTimeSpan:x}))}_next(w){const x=this.windows,Z=x.length;for(let be=0;be<Z;be++){const je=x[be];je.closed||(je.next(w),je.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(je))}}_error(w){const x=this.windows;for(;x.length>0;)x.shift().error(w);this.destination.error(w)}_complete(){const w=this.windows;for(;w.length>0;){const x=w.shift();x.closed||x.complete()}this.destination.complete()}openWindow(){const w=new os;return this.windows.push(w),this.destination.next(w),w}closeWindow(w){w.complete();const x=this.windows;x.splice(x.indexOf(w),1)}}function pa(te){const{subscriber:w,windowTimeSpan:x,window:Z}=te;Z&&w.closeWindow(Z),te.window=w.openWindow(),this.schedule(te,x)}function hl(te){const{windowTimeSpan:w,subscriber:x,scheduler:Z,windowCreationInterval:be}=te,je=x.openWindow();let hn={action:this,subscription:null};hn.subscription=Z.schedule(Hr,w,{subscriber:x,window:je,context:hn}),this.add(hn.subscription),this.schedule(te,be)}function Hr(te){const{subscriber:w,window:x,context:Z}=te;Z&&Z.action&&Z.subscription&&Z.action.remove(Z.subscription),w.closeWindow(x)}function Ki(te,w){return x=>x.lift(new Is(te,w))}class Is{constructor(w,x){this.openings=w,this.closingSelector=x}call(w,x){return x.subscribe(new ci(w,this.openings,this.closingSelector))}}class ci extends Ut.L{constructor(w,x,Z){super(w),this.openings=x,this.closingSelector=Z,this.contexts=[],this.add(this.openSubscription=(0,fn.D)(this,x,x))}_next(w){const{contexts:x}=this;if(x){const Z=x.length;for(let be=0;be<Z;be++)x[be].window.next(w)}}_error(w){const{contexts:x}=this;if(this.contexts=null,x){const Z=x.length;let be=-1;for(;++be<Z;){const je=x[be];je.window.error(w),je.subscription.unsubscribe()}}super._error(w)}_complete(){const{contexts:w}=this;if(this.contexts=null,w){const x=w.length;let Z=-1;for(;++Z<x;){const be=w[Z];be.window.complete(),be.subscription.unsubscribe()}}super._complete()}_unsubscribe(){const{contexts:w}=this;if(this.contexts=null,w){const x=w.length;let Z=-1;for(;++Z<x;){const be=w[Z];be.window.unsubscribe(),be.subscription.unsubscribe()}}}notifyNext(w,x,Z,be,je){if(w===this.openings){let Ct;try{const{closingSelector:ga}=this;Ct=ga(x)}catch(ga){return this.error(ga)}const hn=new Re.xQ,ri=new jt.w,Ql={window:hn,subscription:ri};this.contexts.push(Ql);const Ds=(0,fn.D)(this,Ct,Ql);Ds.closed?this.closeWindow(this.contexts.length-1):(Ds.context=Ql,ri.add(Ds)),this.destination.next(hn)}else this.closeWindow(this.contexts.indexOf(w))}notifyError(w){this.error(w)}notifyComplete(w){w!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(w.context))}closeWindow(w){if(-1===w)return;const{contexts:x}=this,Z=x[w],{window:be,subscription:je}=Z;x.splice(w,1),be.complete(),je.unsubscribe()}}function Fa(te){return function(x){return x.lift(new La(te))}}class La{constructor(w){this.closingSelector=w}call(w,x){return x.subscribe(new Va(w,this.closingSelector))}}class Va extends Ut.L{constructor(w,x){super(w),this.destination=w,this.closingSelector=x,this.openWindow()}notifyNext(w,x,Z,be,je){this.openWindow(je)}notifyError(w){this._error(w)}notifyComplete(w){this.openWindow(w)}_next(w){this.window.next(w)}_error(w){this.window.error(w),this.destination.error(w),this.unsubscribeClosingNotification()}_complete(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}unsubscribeClosingNotification(){this.closingNotification&&this.closingNotification.unsubscribe()}openWindow(w=null){w&&(this.remove(w),w.unsubscribe());const x=this.window;x&&x.complete();const Z=this.window=new Re.xQ;let be;this.destination.next(Z);try{const{closingSelector:je}=this;be=je()}catch(je){return this.destination.error(je),void this.window.error(je)}this.add(this.closingNotification=(0,fn.D)(this,be))}}var Ba=k(7168),ja=k(3009),fl=k(5430);class pl{constructor(w){this.resultSelector=w}call(w,x){return x.subscribe(new go(w,this.resultSelector))}}class go extends G.L{constructor(w,x,Z=Object.create(null)){super(w),this.resultSelector=x,this.iterators=[],this.active=0,this.resultSelector="function"==typeof x?x:void 0}_next(w){const x=this.iterators;(0,ln.k)(w)?x.push(new gl(w)):x.push("function"==typeof w[fl.hZ]?new ml(w[fl.hZ]()):new Ua(this.destination,this,w))}_complete(){const w=this.iterators,x=w.length;if(this.unsubscribe(),0!==x){this.active=x;for(let Z=0;Z<x;Z++){let be=w[Z];be.stillUnsubscribed?this.destination.add(be.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const w=this.iterators,x=w.length,Z=this.destination;for(let Ct=0;Ct<x;Ct++){let hn=w[Ct];if("function"==typeof hn.hasValue&&!hn.hasValue())return}let be=!1;const je=[];for(let Ct=0;Ct<x;Ct++){let hn=w[Ct],ri=hn.next();if(hn.hasCompleted()&&(be=!0),ri.done)return void Z.complete();je.push(ri.value)}this.resultSelector?this._tryresultSelector(je):Z.next(je),be&&Z.complete()}_tryresultSelector(w){let x;try{x=this.resultSelector.apply(this,w)}catch(Z){return void this.destination.error(Z)}this.destination.next(x)}}class ml{constructor(w){this.iterator=w,this.nextResult=w.next()}hasValue(){return!0}next(){const w=this.nextResult;return this.nextResult=this.iterator.next(),w}hasCompleted(){const w=this.nextResult;return Boolean(w&&w.done)}}class gl{constructor(w){this.array=w,this.index=0,this.length=0,this.length=w.length}[fl.hZ](){return this}next(w){const x=this.index++;return x<this.length?{value:this.array[x],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Ua extends F.Ds{constructor(w,x,Z){super(w),this.parent=x,this.observable=Z,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[fl.hZ](){return this}next(){const w=this.buffer;return 0===w.length&&this.isComplete?{value:null,done:!0}:{value:w.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(w){this.buffer.push(w),this.parent.checkIterators()}subscribe(){return(0,F.ft)(this.observable,new F.IY(this))}}function as(...te){return function(x){return x.lift.call(function Gs(...te){const w=te[te.length-1];return"function"==typeof w&&te.pop(),(0,ja.n)(te,void 0).lift(new pl(w))}(x,...te))}}function ma(te){return w=>w.lift(new pl(te))}},6895:(Ue,he,k)=>{"use strict";k.r(he),k.d(he,{APP_BASE_HREF:()=>ht,AsyncPipe:()=>ko,CommonModule:()=>lo,CurrencyPipe:()=>Oa,DATE_PIPE_DEFAULT_TIMEZONE:()=>ca,DOCUMENT:()=>G,DatePipe:()=>Ro,DecimalPipe:()=>Po,FormStyle:()=>Ot,FormatWidth:()=>kt,HashLocationStrategy:()=>jt,I18nPluralPipe:()=>so,I18nSelectPipe:()=>qt,JsonPipe:()=>Oo,KeyValuePipe:()=>is,LOCATION_INITIALIZED:()=>V,Location:()=>fn,LocationStrategy:()=>xe,LowerCasePipe:()=>Br,NgClass:()=>ti,NgComponentOutlet:()=>er,NgForOf:()=>dr,NgForOfContext:()=>bs,NgIf:()=>Ri,NgIfContext:()=>ji,NgLocaleLocalization:()=>Cn,NgLocalization:()=>Mn,NgPlural:()=>br,NgPluralCase:()=>sa,NgStyle:()=>al,NgSwitch:()=>ro,NgSwitchCase:()=>Gi,NgSwitchDefault:()=>pi,NgTemplateOutlet:()=>Ra,NumberFormatStyle:()=>$e,NumberSymbol:()=>tt,PathLocationStrategy:()=>wt,PercentPipe:()=>No,PlatformLocation:()=>j,Plural:()=>rt,SlicePipe:()=>Ar,TitleCasePipe:()=>aa,TranslationWidth:()=>bt,UpperCasePipe:()=>la,VERSION:()=>jc,ViewportScroller:()=>co,WeekDay:()=>ln,XhrFactory:()=>Fi,formatCurrency:()=>Ht,formatDate:()=>yr,formatNumber:()=>Ji,formatPercent:()=>Ni,getCurrencySymbol:()=>Ai,getLocaleCurrencyCode:()=>vs,getLocaleCurrencyName:()=>Vn,getLocaleCurrencySymbol:()=>Sn,getLocaleDateFormat:()=>Ln,getLocaleDateTimeFormat:()=>Zi,getLocaleDayNames:()=>Fn,getLocaleDayPeriods:()=>Tr,getLocaleDirection:()=>Mi,getLocaleEraNames:()=>lr,getLocaleExtraDayPeriodRules:()=>fi,getLocaleExtraDayPeriods:()=>gt,getLocaleFirstDayOfWeek:()=>Bi,getLocaleId:()=>_i,getLocaleMonthNames:()=>Kt,getLocaleNumberFormat:()=>Qi,getLocaleNumberSymbol:()=>Yn,getLocalePluralCase:()=>zi,getLocaleTimeFormat:()=>yi,getLocaleWeekEndRange:()=>cr,getNumberOfCurrencyDigits:()=>ai,isPlatformBrowser:()=>ua,isPlatformServer:()=>Bc,isPlatformWorkerApp:()=>ni,isPlatformWorkerUi:()=>da,registerLocaleData:()=>an,\u0275BrowserPlatformLocation:()=>K,\u0275DomAdapter:()=>U,\u0275NullViewportScroller:()=>hr,\u0275PLATFORM_BROWSER_ID:()=>wn,\u0275PLATFORM_SERVER_ID:()=>js,\u0275PLATFORM_WORKER_APP_ID:()=>Us,\u0275PLATFORM_WORKER_UI_ID:()=>Fo,\u0275getDOM:()=>F,\u0275parseCookieValue:()=>ur,\u0275setRootDomAdapter:()=>ne});var D=k(4650);let l=null;function F(){return l}function ne(R){l||(l=R)}class U{}const G=new D.InjectionToken("DocumentToken");let j=(()=>{class R{historyGo(O){throw new Error("Not implemented")}}return R.\u0275fac=function(O){return new(O||R)},R.\u0275prov=D.\u0275\u0275defineInjectable({token:R,factory:function(){return function Y(){return(0,D.\u0275\u0275inject)(K)}()},providedIn:"platform"}),R})();const V=new D.InjectionToken("Location Initialized");let K=(()=>{class R extends j{constructor(O){super(),this._doc=O,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(O){const q=F().getGlobalEventTarget(this._doc,"window");return q.addEventListener("popstate",O,!1),()=>q.removeEventListener("popstate",O)}onHashChange(O){const q=F().getGlobalEventTarget(this._doc,"window");return q.addEventListener("hashchange",O,!1),()=>q.removeEventListener("hashchange",O)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(O){this.location.pathname=O}pushState(O,q,_e){J()?this._history.pushState(O,q,_e):this.location.hash=_e}replaceState(O,q,_e){J()?this._history.replaceState(O,q,_e):this.location.hash=_e}forward(){this._history.forward()}back(){this._history.back()}historyGo(O=0){this._history.go(O)}getState(){return this._history.state}}return R.\u0275fac=function(O){return new(O||R)(D.\u0275\u0275inject(G))},R.\u0275prov=D.\u0275\u0275defineInjectable({token:R,factory:function(){return function ge(){return new K((0,D.\u0275\u0275inject)(G))}()},providedIn:"platform"}),R})();function J(){return!!window.history.pushState}function Ee(R,z){if(0==R.length)return z;if(0==z.length)return R;let O=0;return R.endsWith("/")&&O++,z.startsWith("/")&&O++,2==O?R+z.substring(1):1==O?R+z:R+"/"+z}function Se(R){const z=R.match(/#|\?|$/),O=z&&z.index||R.length;return R.slice(0,O-("/"===R[O-1]?1:0))+R.slice(O)}function Ae(R){return R&&"?"!==R[0]?"?"+R:R}let xe=(()=>{class R{historyGo(O){throw new Error("Not implemented")}}return R.\u0275fac=function(O){return new(O||R)},R.\u0275prov=D.\u0275\u0275defineInjectable({token:R,factory:function(){return function ke(){const R=(0,D.\u0275\u0275inject)(G).location;return new wt((0,D.\u0275\u0275inject)(j),R&&R.origin||"")}()},providedIn:"root"}),R})();const ht=new D.InjectionToken("appBaseHref");let wt=(()=>{class R extends xe{constructor(O,q){if(super(),this._platformLocation=O,this._removeListenerFns=[],null==q&&(q=this._platformLocation.getBaseHrefFromDOM()),null==q)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=q}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}prepareExternalUrl(O){return Ee(this._baseHref,O)}path(O=!1){const q=this._platformLocation.pathname+Ae(this._platformLocation.search),_e=this._platformLocation.hash;return _e&&O?`${q}${_e}`:q}pushState(O,q,_e,Pe){const Ie=this.prepareExternalUrl(_e+Ae(Pe));this._platformLocation.pushState(O,q,Ie)}replaceState(O,q,_e,Pe){const Ie=this.prepareExternalUrl(_e+Ae(Pe));this._platformLocation.replaceState(O,q,Ie)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}}return R.\u0275fac=function(O){return new(O||R)(D.\u0275\u0275inject(j),D.\u0275\u0275inject(ht,8))},R.\u0275prov=D.\u0275\u0275defineInjectable({token:R,factory:R.\u0275fac}),R})(),jt=(()=>{class R extends xe{constructor(O,q){super(),this._platformLocation=O,this._baseHref="",this._removeListenerFns=[],null!=q&&(this._baseHref=q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}path(O=!1){let q=this._platformLocation.hash;return null==q&&(q="#"),q.length>0?q.substring(1):q}prepareExternalUrl(O){const q=Ee(this._baseHref,O);return q.length>0?"#"+q:q}pushState(O,q,_e,Pe){let Ie=this.prepareExternalUrl(_e+Ae(Pe));0==Ie.length&&(Ie=this._platformLocation.pathname),this._platformLocation.pushState(O,q,Ie)}replaceState(O,q,_e,Pe){let Ie=this.prepareExternalUrl(_e+Ae(Pe));0==Ie.length&&(Ie=this._platformLocation.pathname),this._platformLocation.replaceState(O,q,Ie)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}}return R.\u0275fac=function(O){return new(O||R)(D.\u0275\u0275inject(j),D.\u0275\u0275inject(ht,8))},R.\u0275prov=D.\u0275\u0275defineInjectable({token:R,factory:R.\u0275fac}),R})(),fn=(()=>{class R{constructor(O){this._subject=new D.EventEmitter,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=O;const q=this._locationStrategy.getBaseHref();this._baseHref=Se(Vt(q)),this._locationStrategy.onPopState(_e=>{this._subject.emit({url:this.path(!0),pop:!0,state:_e.state,type:_e.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(O=!1){return this.normalize(this._locationStrategy.path(O))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(O,q=""){return this.path()==this.normalize(O+Ae(q))}normalize(O){return R.stripTrailingSlash(function Xn(R,z){return R&&z.startsWith(R)?z.substring(R.length):z}(this._baseHref,Vt(O)))}prepareExternalUrl(O){return O&&"/"!==O[0]&&(O="/"+O),this._locationStrategy.prepareExternalUrl(O)}go(O,q="",_e=null){this._locationStrategy.pushState(_e,"",O,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+Ae(q)),_e)}replaceState(O,q="",_e=null){this._locationStrategy.replaceState(_e,"",O,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+Ae(q)),_e)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(O=0){this._locationStrategy.historyGo?.(O)}onUrlChange(O){return this._urlChangeListeners.push(O),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(q=>{this._notifyUrlChangeListeners(q.url,q.state)})),()=>{const q=this._urlChangeListeners.indexOf(O);this._urlChangeListeners.splice(q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(O="",q){this._urlChangeListeners.forEach(_e=>_e(O,q))}subscribe(O,q,_e){return this._subject.subscribe({next:O,error:q,complete:_e})}}return R.normalizeQueryParams=Ae,R.joinWithSlash=Ee,R.stripTrailingSlash=Se,R.\u0275fac=function(O){return new(O||R)(D.\u0275\u0275inject(xe))},R.\u0275prov=D.\u0275\u0275defineInjectable({token:R,factory:function(){return function Ut(){return new fn((0,D.\u0275\u0275inject)(xe))}()},providedIn:"root"}),R})();function Vt(R){return R.replace(/\/index.html$/,"")}const Ye={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var $e=(()=>(($e=$e||{})[$e.Decimal=0]="Decimal",$e[$e.Percent=1]="Percent",$e[$e.Currency=2]="Currency",$e[$e.Scientific=3]="Scientific",$e))(),rt=(()=>((rt=rt||{})[rt.Zero=0]="Zero",rt[rt.One=1]="One",rt[rt.Two=2]="Two",rt[rt.Few=3]="Few",rt[rt.Many=4]="Many",rt[rt.Other=5]="Other",rt))(),Ot=(()=>((Ot=Ot||{})[Ot.Format=0]="Format",Ot[Ot.Standalone=1]="Standalone",Ot))(),bt=(()=>((bt=bt||{})[bt.Narrow=0]="Narrow",bt[bt.Abbreviated=1]="Abbreviated",bt[bt.Wide=2]="Wide",bt[bt.Short=3]="Short",bt))(),kt=(()=>((kt=kt||{})[kt.Short=0]="Short",kt[kt.Medium=1]="Medium",kt[kt.Long=2]="Long",kt[kt.Full=3]="Full",kt))(),tt=(()=>((tt=tt||{})[tt.Decimal=0]="Decimal",tt[tt.Group=1]="Group",tt[tt.List=2]="List",tt[tt.PercentSign=3]="PercentSign",tt[tt.PlusSign=4]="PlusSign",tt[tt.MinusSign=5]="MinusSign",tt[tt.Exponential=6]="Exponential",tt[tt.SuperscriptingExponent=7]="SuperscriptingExponent",tt[tt.PerMille=8]="PerMille",tt[tt.Infinity=9]="Infinity",tt[tt.NaN=10]="NaN",tt[tt.TimeSeparator=11]="TimeSeparator",tt[tt.CurrencyDecimal=12]="CurrencyDecimal",tt[tt.CurrencyGroup=13]="CurrencyGroup",tt))(),ln=(()=>((ln=ln||{})[ln.Sunday=0]="Sunday",ln[ln.Monday=1]="Monday",ln[ln.Tuesday=2]="Tuesday",ln[ln.Wednesday=3]="Wednesday",ln[ln.Thursday=4]="Thursday",ln[ln.Friday=5]="Friday",ln[ln.Saturday=6]="Saturday",ln))();function _i(R){return(0,D.\u0275findLocaleData)(R)[D.\u0275LocaleDataIndex.LocaleId]}function Tr(R,z,O){const q=(0,D.\u0275findLocaleData)(R),Pe=yn([q[D.\u0275LocaleDataIndex.DayPeriodsFormat],q[D.\u0275LocaleDataIndex.DayPeriodsStandalone]],z);return yn(Pe,O)}function Fn(R,z,O){const q=(0,D.\u0275findLocaleData)(R),Pe=yn([q[D.\u0275LocaleDataIndex.DaysFormat],q[D.\u0275LocaleDataIndex.DaysStandalone]],z);return yn(Pe,O)}function Kt(R,z,O){const q=(0,D.\u0275findLocaleData)(R),Pe=yn([q[D.\u0275LocaleDataIndex.MonthsFormat],q[D.\u0275LocaleDataIndex.MonthsStandalone]],z);return yn(Pe,O)}function lr(R,z){return yn((0,D.\u0275findLocaleData)(R)[D.\u0275LocaleDataIndex.Eras],z)}function Bi(R){return(0,D.\u0275findLocaleData)(R)[D.\u0275LocaleDataIndex.FirstDayOfWeek]}function cr(R){return(0,D.\u0275findLocaleData)(R)[D.\u0275LocaleDataIndex.WeekendRange]}function Ln(R,z){return yn((0,D.\u0275findLocaleData)(R)[D.\u0275LocaleDataIndex.DateFormat],z)}function yi(R,z){return yn((0,D.\u0275findLocaleData)(R)[D.\u0275LocaleDataIndex.TimeFormat],z)}function Zi(R,z){return yn((0,D.\u0275findLocaleData)(R)[D.\u0275LocaleDataIndex.DateTimeFormat],z)}function Yn(R,z){const O=(0,D.\u0275findLocaleData)(R),q=O[D.\u0275LocaleDataIndex.NumberSymbols][z];if(typeof q>"u"){if(z===tt.CurrencyDecimal)return O[D.\u0275LocaleDataIndex.NumberSymbols][tt.Decimal];if(z===tt.CurrencyGroup)return O[D.\u0275LocaleDataIndex.NumberSymbols][tt.Group]}return q}function Qi(R,z){return(0,D.\u0275findLocaleData)(R)[D.\u0275LocaleDataIndex.NumberFormats][z]}function Sn(R){return(0,D.\u0275findLocaleData)(R)[D.\u0275LocaleDataIndex.CurrencySymbol]||null}function Vn(R){return(0,D.\u0275findLocaleData)(R)[D.\u0275LocaleDataIndex.CurrencyName]||null}function vs(R){return(0,D.\u0275getLocaleCurrencyCode)(R)}const zi=D.\u0275getLocalePluralCase;function We(R){if(!R[D.\u0275LocaleDataIndex.ExtraData])throw new Error(`Missing extra locale data for the locale "${R[D.\u0275LocaleDataIndex.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function fi(R){const z=(0,D.\u0275findLocaleData)(R);return We(z),(z[D.\u0275LocaleDataIndex.ExtraData][2]||[]).map(q=>"string"==typeof q?cn(q):[cn(q[0]),cn(q[1])])}function gt(R,z,O){const q=(0,D.\u0275findLocaleData)(R);We(q);const Pe=yn([q[D.\u0275LocaleDataIndex.ExtraData][0],q[D.\u0275LocaleDataIndex.ExtraData][1]],z)||[];return yn(Pe,O)||[]}function Mi(R){return(0,D.\u0275findLocaleData)(R)[D.\u0275LocaleDataIndex.Directionality]}function yn(R,z){for(let O=z;O>-1;O--)if(typeof R[O]<"u")return R[O];throw new Error("Locale data API: locale data undefined")}function cn(R){const[z,O]=R.split(":");return{hours:+z,minutes:+O}}function Ai(R,z,O="en"){const q=function Di(R){return(0,D.\u0275findLocaleData)(R)[D.\u0275LocaleDataIndex.Currencies]}(O)[R]||Ye[R]||[],_e=q[1];return"narrow"===z&&"string"==typeof _e?_e:q[0]||R}function ai(R){let z;const O=Ye[R];return O&&(z=O[2]),"number"==typeof z?z:2}const Gn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,vn={},es=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Xt=(()=>((Xt=Xt||{})[Xt.Short=0]="Short",Xt[Xt.ShortGMT=1]="ShortGMT",Xt[Xt.Long=2]="Long",Xt[Xt.Extended=3]="Extended",Xt))(),nt=(()=>((nt=nt||{})[nt.FullYear=0]="FullYear",nt[nt.Month=1]="Month",nt[nt.Date=2]="Date",nt[nt.Hours=3]="Hours",nt[nt.Minutes=4]="Minutes",nt[nt.Seconds=5]="Seconds",nt[nt.FractionalSeconds=6]="FractionalSeconds",nt[nt.Day=7]="Day",nt))(),St=(()=>((St=St||{})[St.DayPeriods=0]="DayPeriods",St[St.Days=1]="Days",St[St.Months=2]="Months",St[St.Eras=3]="Eras",St))();function yr(R,z,O,q){let _e=function Fe(R){if(At(R))return R;if("number"==typeof R&&!isNaN(R))return new Date(R);if("string"==typeof R){if(R=R.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(R)){const[_e,Pe=1,Ie=1]=R.split("-").map(vt=>+vt);return vi(_e,Pe-1,Ie)}const O=parseFloat(R);if(!isNaN(R-O))return new Date(O);let q;if(q=R.match(Gn))return function Qe(R){const z=new Date(0);let O=0,q=0;const _e=R[8]?z.setUTCFullYear:z.setFullYear,Pe=R[8]?z.setUTCHours:z.setHours;R[9]&&(O=Number(R[9]+R[10]),q=Number(R[9]+R[11])),_e.call(z,Number(R[1]),Number(R[2])-1,Number(R[3]));const Ie=Number(R[4]||0)-O,vt=Number(R[5]||0)-q,dn=Number(R[6]||0),Rn=Math.floor(1e3*parseFloat("0."+(R[7]||0)));return Pe.call(z,Ie,vt,dn,Rn),z}(q)}const z=new Date(R);if(!At(z))throw new Error(`Unable to convert "${R}" into a date`);return z}(R);z=ct(O,z)||z;let vt,Ie=[];for(;z;){if(vt=es.exec(z),!vt){Ie.push(z);break}{Ie=Ie.concat(vt.slice(1));const An=Ie.pop();if(!An)break;z=An}}let dn=_e.getTimezoneOffset();q&&(dn=we(q,dn),_e=function le(R,z,O){const q=O?-1:1,_e=R.getTimezoneOffset();return function ae(R,z){return(R=new Date(R.getTime())).setMinutes(R.getMinutes()+z),R}(R,q*(we(z,_e)-_e))}(_e,q,!0));let Rn="";return Ie.forEach(An=>{const mn=function ki(R){if(xn[R])return xn[R];let z;switch(R){case"G":case"GG":case"GGG":z=ce(St.Eras,bt.Abbreviated);break;case"GGGG":z=ce(St.Eras,bt.Wide);break;case"GGGGG":z=ce(St.Eras,bt.Narrow);break;case"y":z=un(nt.FullYear,1,0,!1,!0);break;case"yy":z=un(nt.FullYear,2,0,!0,!0);break;case"yyy":z=un(nt.FullYear,3,0,!1,!0);break;case"yyyy":z=un(nt.FullYear,4,0,!1,!0);break;case"Y":z=Tn(1);break;case"YY":z=Tn(2,!0);break;case"YYY":z=Tn(3);break;case"YYYY":z=Tn(4);break;case"M":case"L":z=un(nt.Month,1,1);break;case"MM":case"LL":z=un(nt.Month,2,1);break;case"MMM":z=ce(St.Months,bt.Abbreviated);break;case"MMMM":z=ce(St.Months,bt.Wide);break;case"MMMMM":z=ce(St.Months,bt.Narrow);break;case"LLL":z=ce(St.Months,bt.Abbreviated,Ot.Standalone);break;case"LLLL":z=ce(St.Months,bt.Wide,Ot.Standalone);break;case"LLLLL":z=ce(St.Months,bt.Narrow,Ot.Standalone);break;case"w":z=xt(1);break;case"ww":z=xt(2);break;case"W":z=xt(1,!0);break;case"d":z=un(nt.Date,1);break;case"dd":z=un(nt.Date,2);break;case"c":case"cc":z=un(nt.Day,1);break;case"ccc":z=ce(St.Days,bt.Abbreviated,Ot.Standalone);break;case"cccc":z=ce(St.Days,bt.Wide,Ot.Standalone);break;case"ccccc":z=ce(St.Days,bt.Narrow,Ot.Standalone);break;case"cccccc":z=ce(St.Days,bt.Short,Ot.Standalone);break;case"E":case"EE":case"EEE":z=ce(St.Days,bt.Abbreviated);break;case"EEEE":z=ce(St.Days,bt.Wide);break;case"EEEEE":z=ce(St.Days,bt.Narrow);break;case"EEEEEE":z=ce(St.Days,bt.Short);break;case"a":case"aa":case"aaa":z=ce(St.DayPeriods,bt.Abbreviated);break;case"aaaa":z=ce(St.DayPeriods,bt.Wide);break;case"aaaaa":z=ce(St.DayPeriods,bt.Narrow);break;case"b":case"bb":case"bbb":z=ce(St.DayPeriods,bt.Abbreviated,Ot.Standalone,!0);break;case"bbbb":z=ce(St.DayPeriods,bt.Wide,Ot.Standalone,!0);break;case"bbbbb":z=ce(St.DayPeriods,bt.Narrow,Ot.Standalone,!0);break;case"B":case"BB":case"BBB":z=ce(St.DayPeriods,bt.Abbreviated,Ot.Format,!0);break;case"BBBB":z=ce(St.DayPeriods,bt.Wide,Ot.Format,!0);break;case"BBBBB":z=ce(St.DayPeriods,bt.Narrow,Ot.Format,!0);break;case"h":z=un(nt.Hours,1,-12);break;case"hh":z=un(nt.Hours,2,-12);break;case"H":z=un(nt.Hours,1);break;case"HH":z=un(nt.Hours,2);break;case"m":z=un(nt.Minutes,1);break;case"mm":z=un(nt.Minutes,2);break;case"s":z=un(nt.Seconds,1);break;case"ss":z=un(nt.Seconds,2);break;case"S":z=un(nt.FractionalSeconds,1);break;case"SS":z=un(nt.FractionalSeconds,2);break;case"SSS":z=un(nt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":z=oe(Xt.Short);break;case"ZZZZZ":z=oe(Xt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":z=oe(Xt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":z=oe(Xt.Long);break;default:return null}return xn[R]=z,z}(An);Rn+=mn?mn(_e,O,dn):"''"===An?"'":An.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Rn}function vi(R,z,O){const q=new Date(0);return q.setFullYear(R,z,O),q.setHours(0,0,0),q}function ct(R,z){const O=_i(R);if(vn[O]=vn[O]||{},vn[O][z])return vn[O][z];let q="";switch(z){case"shortDate":q=Ln(R,kt.Short);break;case"mediumDate":q=Ln(R,kt.Medium);break;case"longDate":q=Ln(R,kt.Long);break;case"fullDate":q=Ln(R,kt.Full);break;case"shortTime":q=yi(R,kt.Short);break;case"mediumTime":q=yi(R,kt.Medium);break;case"longTime":q=yi(R,kt.Long);break;case"fullTime":q=yi(R,kt.Full);break;case"short":const _e=ct(R,"shortTime"),Pe=ct(R,"shortDate");q=bn(Zi(R,kt.Short),[_e,Pe]);break;case"medium":const Ie=ct(R,"mediumTime"),vt=ct(R,"mediumDate");q=bn(Zi(R,kt.Medium),[Ie,vt]);break;case"long":const dn=ct(R,"longTime"),Rn=ct(R,"longDate");q=bn(Zi(R,kt.Long),[dn,Rn]);break;case"full":const An=ct(R,"fullTime"),mn=ct(R,"fullDate");q=bn(Zi(R,kt.Full),[An,mn])}return q&&(vn[O][z]=q),q}function bn(R,z){return z&&(R=R.replace(/\{([^}]+)}/g,function(O,q){return null!=z&&q in z?z[q]:O})),R}function li(R,z,O="-",q,_e){let Pe="";(R<0||_e&&R<=0)&&(_e?R=1-R:(R=-R,Pe=O));let Ie=String(R);for(;Ie.length<z;)Ie="0"+Ie;return q&&(Ie=Ie.slice(Ie.length-z)),Pe+Ie}function un(R,z,O=0,q=!1,_e=!1){return function(Pe,Ie){let vt=function Jn(R,z){switch(R){case nt.FullYear:return z.getFullYear();case nt.Month:return z.getMonth();case nt.Date:return z.getDate();case nt.Hours:return z.getHours();case nt.Minutes:return z.getMinutes();case nt.Seconds:return z.getSeconds();case nt.FractionalSeconds:return z.getMilliseconds();case nt.Day:return z.getDay();default:throw new Error(`Unknown DateType value "${R}".`)}}(R,Pe);if((O>0||vt>-O)&&(vt+=O),R===nt.Hours)0===vt&&-12===O&&(vt=12);else if(R===nt.FractionalSeconds)return function Kn(R,z){return li(R,3).substring(0,z)}(vt,z);const dn=Yn(Ie,tt.MinusSign);return li(vt,z,dn,q,_e)}}function ce(R,z,O=Ot.Format,q=!1){return function(_e,Pe){return function ue(R,z,O,q,_e,Pe){switch(O){case St.Months:return Kt(z,_e,q)[R.getMonth()];case St.Days:return Fn(z,_e,q)[R.getDay()];case St.DayPeriods:const Ie=R.getHours(),vt=R.getMinutes();if(Pe){const Rn=fi(z),An=gt(z,_e,q),mn=Rn.findIndex(mi=>{if(Array.isArray(mi)){const[gn,On]=mi,Ve=Ie>=gn.hours&&vt>=gn.minutes,Yt=Ie<On.hours||Ie===On.hours&&vt<On.minutes;if(gn.hours<On.hours){if(Ve&&Yt)return!0}else if(Ve||Yt)return!0}else if(mi.hours===Ie&&mi.minutes===vt)return!0;return!1});if(-1!==mn)return An[mn]}return Tr(z,_e,q)[Ie<12?0:1];case St.Eras:return lr(z,q)[R.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${O}`)}}(_e,Pe,R,z,O,q)}}function oe(R){return function(z,O,q){const _e=-1*q,Pe=Yn(O,tt.MinusSign),Ie=_e>0?Math.floor(_e/60):Math.ceil(_e/60);switch(R){case Xt.Short:return(_e>=0?"+":"")+li(Ie,2,Pe)+li(Math.abs(_e%60),2,Pe);case Xt.ShortGMT:return"GMT"+(_e>=0?"+":"")+li(Ie,1,Pe);case Xt.Long:return"GMT"+(_e>=0?"+":"")+li(Ie,2,Pe)+":"+li(Math.abs(_e%60),2,Pe);case Xt.Extended:return 0===q?"Z":(_e>=0?"+":"")+li(Ie,2,Pe)+":"+li(Math.abs(_e%60),2,Pe);default:throw new Error(`Unknown zone width "${R}"`)}}}function ot(R){return vi(R.getFullYear(),R.getMonth(),R.getDate()+(4-R.getDay()))}function xt(R,z=!1){return function(O,q){let _e;if(z){const Pe=new Date(O.getFullYear(),O.getMonth(),1).getDay()-1,Ie=O.getDate();_e=1+Math.floor((Ie+Pe)/7)}else{const Pe=ot(O),Ie=function He(R){const z=vi(R,0,1).getDay();return vi(R,0,1+(z<=4?4:11)-z)}(Pe.getFullYear()),vt=Pe.getTime()-Ie.getTime();_e=1+Math.round(vt/6048e5)}return li(_e,R,Yn(q,tt.MinusSign))}}function Tn(R,z=!1){return function(O,q){return li(ot(O).getFullYear(),R,Yn(q,tt.MinusSign),z)}}const xn={};function we(R,z){R=R.replace(/:/g,"");const O=Date.parse("Jan 01, 1970 00:00:00 "+R)/6e4;return isNaN(O)?z:O}function At(R){return R instanceof Date&&!isNaN(R.valueOf())}const Re=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Wi(R,z,O,q,_e,Pe,Ie=!1){let vt="",dn=!1;if(isFinite(R)){let Rn=function Ze(R){let q,_e,Pe,Ie,vt,z=Math.abs(R)+"",O=0;for((_e=z.indexOf("."))>-1&&(z=z.replace(".","")),(Pe=z.search(/e/i))>0?(_e<0&&(_e=Pe),_e+=+z.slice(Pe+1),z=z.substring(0,Pe)):_e<0&&(_e=z.length),Pe=0;"0"===z.charAt(Pe);Pe++);if(Pe===(vt=z.length))q=[0],_e=1;else{for(vt--;"0"===z.charAt(vt);)vt--;for(_e-=Pe,q=[],Ie=0;Pe<=vt;Pe++,Ie++)q[Ie]=Number(z.charAt(Pe))}return _e>22&&(q=q.splice(0,21),O=_e-1,_e=1),{digits:q,exponent:O,integerLen:_e}}(R);Ie&&(Rn=function Ft(R){if(0===R.digits[0])return R;const z=R.digits.length-R.integerLen;return R.exponent?R.exponent+=2:(0===z?R.digits.push(0,0):1===z&&R.digits.push(0),R.integerLen+=2),R}(Rn));let An=z.minInt,mn=z.minFrac,mi=z.maxFrac;if(Pe){const Er=Pe.match(Re);if(null===Er)throw new Error(`${Pe} is not a valid digit info`);const zn=Er[1],uo=Er[3],jr=Er[5];null!=zn&&(An=ei(zn)),null!=uo&&(mn=ei(uo)),null!=jr?mi=ei(jr):null!=uo&&mn>mi&&(mi=mn)}!function jn(R,z,O){if(z>O)throw new Error(`The minimum number of digits after fraction (${z}) is higher than the maximum (${O}).`);let q=R.digits,_e=q.length-R.integerLen;const Pe=Math.min(Math.max(z,_e),O);let Ie=Pe+R.integerLen,vt=q[Ie];if(Ie>0){q.splice(Math.max(R.integerLen,Ie));for(let mn=Ie;mn<q.length;mn++)q[mn]=0}else{_e=Math.max(0,_e),R.integerLen=1,q.length=Math.max(1,Ie=Pe+1),q[0]=0;for(let mn=1;mn<Ie;mn++)q[mn]=0}if(vt>=5)if(Ie-1<0){for(let mn=0;mn>Ie;mn--)q.unshift(0),R.integerLen++;q.unshift(1),R.integerLen++}else q[Ie-1]++;for(;_e<Math.max(0,Pe);_e++)q.push(0);let dn=0!==Pe;const Rn=z+R.integerLen,An=q.reduceRight(function(mn,mi,gn,On){return On[gn]=(mi+=mn)<10?mi:mi-10,dn&&(0===On[gn]&&gn>=Rn?On.pop():dn=!1),mi>=10?1:0},0);An&&(q.unshift(An),R.integerLen++)}(Rn,mn,mi);let gn=Rn.digits,On=Rn.integerLen;const Ve=Rn.exponent;let Yt=[];for(dn=gn.every(Er=>!Er);On<An;On++)gn.unshift(0);for(;On<0;On++)gn.unshift(0);On>0?Yt=gn.splice(On,gn.length):(Yt=gn,gn=[0]);const Hs=[];for(gn.length>=z.lgSize&&Hs.unshift(gn.splice(-z.lgSize,gn.length).join(""));gn.length>z.gSize;)Hs.unshift(gn.splice(-z.gSize,gn.length).join(""));gn.length&&Hs.unshift(gn.join("")),vt=Hs.join(Yn(O,q)),Yt.length&&(vt+=Yn(O,_e)+Yt.join("")),Ve&&(vt+=Yn(O,tt.Exponential)+"+"+Ve)}else vt=Yn(O,tt.Infinity);return vt=R<0&&!dn?z.negPre+vt+z.negSuf:z.posPre+vt+z.posSuf,vt}function Ht(R,z,O,q,_e){const Ie=Lr(Qi(z,$e.Currency),Yn(z,tt.MinusSign));return Ie.minFrac=ai(q),Ie.maxFrac=Ie.minFrac,Wi(R,Ie,z,tt.CurrencyGroup,tt.CurrencyDecimal,_e).replace("\xa4",O).replace("\xa4","").trim()}function Ni(R,z,O){return Wi(R,Lr(Qi(z,$e.Percent),Yn(z,tt.MinusSign)),z,tt.Group,tt.Decimal,O,!0).replace(new RegExp("%","g"),Yn(z,tt.PercentSign))}function Ji(R,z,O){return Wi(R,Lr(Qi(z,$e.Decimal),Yn(z,tt.MinusSign)),z,tt.Group,tt.Decimal,O)}function Lr(R,z="-"){const O={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},q=R.split(";"),_e=q[0],Pe=q[1],Ie=-1!==_e.indexOf(".")?_e.split("."):[_e.substring(0,_e.lastIndexOf("0")+1),_e.substring(_e.lastIndexOf("0")+1)],vt=Ie[0],dn=Ie[1]||"";O.posPre=vt.substring(0,vt.indexOf("#"));for(let An=0;An<dn.length;An++){const mn=dn.charAt(An);"0"===mn?O.minFrac=O.maxFrac=An+1:"#"===mn?O.maxFrac=An+1:O.posSuf+=mn}const Rn=vt.split(",");if(O.gSize=Rn[1]?Rn[1].length:0,O.lgSize=Rn[2]||Rn[1]?(Rn[2]||Rn[1]).length:0,Pe){const An=_e.length-O.posPre.length-O.posSuf.length,mn=Pe.indexOf("#");O.negPre=Pe.substring(0,mn).replace(/'/g,""),O.negSuf=Pe.slice(mn+An).replace(/'/g,"")}else O.negPre=z+O.posPre,O.negSuf=O.posSuf;return O}function ei(R){const z=parseInt(R);if(isNaN(z))throw new Error("Invalid integer literal when parsing "+R);return z}let Mn=(()=>{class R{}return R.\u0275fac=function(O){return new(O||R)},R.\u0275prov=D.\u0275\u0275defineInjectable({token:R,factory:function(O){let q=null;return O?q=new O:(_e=D.\u0275\u0275inject(D.LOCALE_ID),q=new Cn(_e)),q;var _e},providedIn:"root"}),R})();function pn(R,z,O,q){let _e=`=${R}`;if(z.indexOf(_e)>-1||(_e=O.getPluralCategory(R,q),z.indexOf(_e)>-1))return _e;if(z.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${R}"`)}let Cn=(()=>{class R extends Mn{constructor(O){super(),this.locale=O}getPluralCategory(O,q){switch(zi(q||this.locale)(O)){case rt.Zero:return"zero";case rt.One:return"one";case rt.Two:return"two";case rt.Few:return"few";case rt.Many:return"many";default:return"other"}}}return R.\u0275fac=function(O){return new(O||R)(D.\u0275\u0275inject(D.LOCALE_ID))},R.\u0275prov=D.\u0275\u0275defineInjectable({token:R,factory:R.\u0275fac}),R})();function an(R,z,O){return(0,D.\u0275registerLocaleData)(R,z,O)}function ur(R,z){z=encodeURIComponent(z);for(const O of R.split(";")){const q=O.indexOf("="),[_e,Pe]=-1==q?[O,""]:[O.slice(0,q),O.slice(q+1)];if(_e.trim()===z)return decodeURIComponent(Pe)}return null}let ti=(()=>{class R{constructor(O,q,_e,Pe){this._iterableDiffers=O,this._keyValueDiffers=q,this._ngEl=_e,this._renderer=Pe,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(O){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof O?O.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(O){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof O?O.split(/\s+/):O,this._rawClass&&((0,D.\u0275isListLikeIterable)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const O=this._iterableDiffer.diff(this._rawClass);O&&this._applyIterableChanges(O)}else if(this._keyValueDiffer){const O=this._keyValueDiffer.diff(this._rawClass);O&&this._applyKeyValueChanges(O)}}_applyKeyValueChanges(O){O.forEachAddedItem(q=>this._toggleClass(q.key,q.currentValue)),O.forEachChangedItem(q=>this._toggleClass(q.key,q.currentValue)),O.forEachRemovedItem(q=>{q.previousValue&&this._toggleClass(q.key,!1)})}_applyIterableChanges(O){O.forEachAddedItem(q=>{if("string"!=typeof q.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,D.\u0275stringify)(q.item)}`);this._toggleClass(q.item,!0)}),O.forEachRemovedItem(q=>this._toggleClass(q.item,!1))}_applyClasses(O){O&&(Array.isArray(O)||O instanceof Set?O.forEach(q=>this._toggleClass(q,!0)):Object.keys(O).forEach(q=>this._toggleClass(q,!!O[q])))}_removeClasses(O){O&&(Array.isArray(O)||O instanceof Set?O.forEach(q=>this._toggleClass(q,!1)):Object.keys(O).forEach(q=>this._toggleClass(q,!1)))}_toggleClass(O,q){(O=O.trim())&&O.split(/\s+/g).forEach(_e=>{q?this._renderer.addClass(this._ngEl.nativeElement,_e):this._renderer.removeClass(this._ngEl.nativeElement,_e)})}}return R.\u0275fac=function(O){return new(O||R)(D.\u0275\u0275directiveInject(D.IterableDiffers),D.\u0275\u0275directiveInject(D.KeyValueDiffers),D.\u0275\u0275directiveInject(D.ElementRef),D.\u0275\u0275directiveInject(D.Renderer2))},R.\u0275dir=D.\u0275\u0275defineDirective({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),R})(),er=(()=>{class R{constructor(O){this._viewContainerRef=O,this.ngComponentOutlet=null}ngOnChanges(O){const{_viewContainerRef:q,ngComponentOutletNgModule:_e,ngComponentOutletNgModuleFactory:Pe}=this;if(q.clear(),this._componentRef=void 0,this.ngComponentOutlet){const Ie=this.ngComponentOutletInjector||q.parentInjector;(O.ngComponentOutletNgModule||O.ngComponentOutletNgModuleFactory)&&(this._moduleRef&&this._moduleRef.destroy(),this._moduleRef=_e?(0,D.createNgModule)(_e,vr(Ie)):Pe?Pe.create(vr(Ie)):void 0),this._componentRef=q.createComponent(this.ngComponentOutlet,{index:q.length,injector:Ie,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return R.\u0275fac=function(O){return new(O||R)(D.\u0275\u0275directiveInject(D.ViewContainerRef))},R.\u0275dir=D.\u0275\u0275defineDirective({type:R,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[D.\u0275\u0275NgOnChangesFeature]}),R})();function vr(R){return R.get(D.NgModuleRef).injector}class bs{constructor(z,O,q,_e){this.$implicit=z,this.ngForOf=O,this.index=q,this.count=_e}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dr=(()=>{class R{constructor(O,q,_e){this._viewContainer=O,this._template=q,this._differs=_e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(O){this._ngForOf=O,this._ngForOfDirty=!0}set ngForTrackBy(O){this._trackByFn=O}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(O){O&&(this._template=O)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const O=this._ngForOf;!this._differ&&O&&(this._differ=this._differs.find(O).create(this.ngForTrackBy))}if(this._differ){const O=this._differ.diff(this._ngForOf);O&&this._applyChanges(O)}}_applyChanges(O){const q=this._viewContainer;O.forEachOperation((_e,Pe,Ie)=>{if(null==_e.previousIndex)q.createEmbeddedView(this._template,new bs(_e.item,this._ngForOf,-1,-1),null===Ie?void 0:Ie);else if(null==Ie)q.remove(null===Pe?void 0:Pe);else if(null!==Pe){const vt=q.get(Pe);q.move(vt,Ie),wi(vt,_e)}});for(let _e=0,Pe=q.length;_e<Pe;_e++){const vt=q.get(_e).context;vt.index=_e,vt.count=Pe,vt.ngForOf=this._ngForOf}O.forEachIdentityChange(_e=>{wi(q.get(_e.currentIndex),_e)})}static ngTemplateContextGuard(O,q){return!0}}return R.\u0275fac=function(O){return new(O||R)(D.\u0275\u0275directiveInject(D.ViewContainerRef),D.\u0275\u0275directiveInject(D.TemplateRef),D.\u0275\u0275directiveInject(D.IterableDiffers))},R.\u0275dir=D.\u0275\u0275defineDirective({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),R})();function wi(R,z){R.context.$implicit=z.item}let Ri=(()=>{class R{constructor(O,q){this._viewContainer=O,this._context=new ji,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=q}set ngIf(O){this._context.$implicit=this._context.ngIf=O,this._updateView()}set ngIfThen(O){xr("ngIfThen",O),this._thenTemplateRef=O,this._thenViewRef=null,this._updateView()}set ngIfElse(O){xr("ngIfElse",O),this._elseTemplateRef=O,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(O,q){return!0}}return R.\u0275fac=function(O){return new(O||R)(D.\u0275\u0275directiveInject(D.ViewContainerRef),D.\u0275\u0275directiveInject(D.TemplateRef))},R.\u0275dir=D.\u0275\u0275defineDirective({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),R})();class ji{constructor(){this.$implicit=null,this.ngIf=null}}function xr(R,z){if(z&&!z.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,D.\u0275stringify)(z)}'.`)}class $t{constructor(z,O){this._viewContainerRef=z,this._templateRef=O,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(z){z&&!this._created?this.create():!z&&this._created&&this.destroy()}}let ro=(()=>{class R{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(O){this._ngSwitch=O,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(O){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(O)}_matchCase(O){const q=O==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||q,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),q}_updateDefaultCases(O){if(this._defaultViews&&O!==this._defaultUsed){this._defaultUsed=O;for(let q=0;q<this._defaultViews.length;q++)this._defaultViews[q].enforceState(O)}}}return R.\u0275fac=function(O){return new(O||R)},R.\u0275dir=D.\u0275\u0275defineDirective({type:R,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),R})(),Gi=(()=>{class R{constructor(O,q,_e){this.ngSwitch=_e,_e._addCase(),this._view=new $t(O,q)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return R.\u0275fac=function(O){return new(O||R)(D.\u0275\u0275directiveInject(D.ViewContainerRef),D.\u0275\u0275directiveInject(D.TemplateRef),D.\u0275\u0275directiveInject(ro,9))},R.\u0275dir=D.\u0275\u0275defineDirective({type:R,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),R})(),pi=(()=>{class R{constructor(O,q,_e){_e._addDefault(new $t(O,q))}}return R.\u0275fac=function(O){return new(O||R)(D.\u0275\u0275directiveInject(D.ViewContainerRef),D.\u0275\u0275directiveInject(D.TemplateRef),D.\u0275\u0275directiveInject(ro,9))},R.\u0275dir=D.\u0275\u0275defineDirective({type:R,selectors:[["","ngSwitchDefault",""]],standalone:!0}),R})(),br=(()=>{class R{constructor(O){this._localization=O,this._caseViews={}}set ngPlural(O){this._switchValue=O,this._updateView()}addCase(O,q){this._caseViews[O]=q}_updateView(){this._clearViews();const O=Object.keys(this._caseViews),q=pn(this._switchValue,O,this._localization);this._activateView(this._caseViews[q])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(O){O&&(this._activeView=O,this._activeView.create())}}return R.\u0275fac=function(O){return new(O||R)(D.\u0275\u0275directiveInject(Mn))},R.\u0275dir=D.\u0275\u0275defineDirective({type:R,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"},standalone:!0}),R})(),sa=(()=>{class R{constructor(O,q,_e,Pe){this.value=O;const Ie=!isNaN(Number(O));Pe.addCase(Ie?`=${O}`:O,new $t(_e,q))}}return R.\u0275fac=function(O){return new(O||R)(D.\u0275\u0275injectAttribute("ngPluralCase"),D.\u0275\u0275directiveInject(D.TemplateRef),D.\u0275\u0275directiveInject(D.ViewContainerRef),D.\u0275\u0275directiveInject(br,1))},R.\u0275dir=D.\u0275\u0275defineDirective({type:R,selectors:[["","ngPluralCase",""]],standalone:!0}),R})(),al=(()=>{class R{constructor(O,q,_e){this._ngEl=O,this._differs=q,this._renderer=_e,this._ngStyle=null,this._differ=null}set ngStyle(O){this._ngStyle=O,!this._differ&&O&&(this._differ=this._differs.find(O).create())}ngDoCheck(){if(this._differ){const O=this._differ.diff(this._ngStyle);O&&this._applyChanges(O)}}_setStyle(O,q){const[_e,Pe]=O.split("."),Ie=-1===_e.indexOf("-")?void 0:D.RendererStyleFlags2.DashCase;null!=q?this._renderer.setStyle(this._ngEl.nativeElement,_e,Pe?`${q}${Pe}`:q,Ie):this._renderer.removeStyle(this._ngEl.nativeElement,_e,Ie)}_applyChanges(O){O.forEachRemovedItem(q=>this._setStyle(q.key,null)),O.forEachAddedItem(q=>this._setStyle(q.key,q.currentValue)),O.forEachChangedItem(q=>this._setStyle(q.key,q.currentValue))}}return R.\u0275fac=function(O){return new(O||R)(D.\u0275\u0275directiveInject(D.ElementRef),D.\u0275\u0275directiveInject(D.KeyValueDiffers),D.\u0275\u0275directiveInject(D.Renderer2))},R.\u0275dir=D.\u0275\u0275defineDirective({type:R,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),R})(),Ra=(()=>{class R{constructor(O){this._viewContainerRef=O,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(O){if(O.ngTemplateOutlet||O.ngTemplateOutletInjector){const q=this._viewContainerRef;if(this._viewRef&&q.remove(q.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:_e,ngTemplateOutletContext:Pe,ngTemplateOutletInjector:Ie}=this;this._viewRef=q.createEmbeddedView(_e,Pe,Ie?{injector:Ie}:void 0)}else this._viewRef=null}else this._viewRef&&O.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return R.\u0275fac=function(O){return new(O||R)(D.\u0275\u0275directiveInject(D.ViewContainerRef))},R.\u0275dir=D.\u0275\u0275defineDirective({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[D.\u0275\u0275NgOnChangesFeature]}),R})();function In(R,z){return new D.\u0275RuntimeError(2100,!1)}class ns{createSubscription(z,O){return z.subscribe({next:O,error:q=>{throw q}})}dispose(z){z.unsubscribe()}}class oa{createSubscription(z,O){return z.then(O,q=>{throw q})}dispose(z){}}const Kl=new oa,ll=new ns;let ko=(()=>{class R{constructor(O){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=O}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(O){return this._obj?O!==this._obj?(this._dispose(),this.transform(O)):this._latestValue:(O&&this._subscribe(O),this._latestValue)}_subscribe(O){this._obj=O,this._strategy=this._selectStrategy(O),this._subscription=this._strategy.createSubscription(O,q=>this._updateLatestValue(O,q))}_selectStrategy(O){if((0,D.\u0275isPromise)(O))return Kl;if((0,D.\u0275isSubscribable)(O))return ll;throw In()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(O,q){O===this._obj&&(this._latestValue=q,this._ref.markForCheck())}}return R.\u0275fac=function(O){return new(O||R)(D.\u0275\u0275directiveInject(D.ChangeDetectorRef,16))},R.\u0275pipe=D.\u0275\u0275definePipe({name:"async",type:R,pure:!1,standalone:!0}),R})(),Br=(()=>{class R{transform(O){if(null==O)return null;if("string"!=typeof O)throw In();return O.toLowerCase()}}return R.\u0275fac=function(O){return new(O||R)},R.\u0275pipe=D.\u0275\u0275definePipe({name:"lowercase",type:R,pure:!0,standalone:!0}),R})();const Vc=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let aa=(()=>{class R{transform(O){if(null==O)return null;if("string"!=typeof O)throw In();return O.replace(Vc,q=>q[0].toUpperCase()+q.slice(1).toLowerCase())}}return R.\u0275fac=function(O){return new(O||R)},R.\u0275pipe=D.\u0275\u0275definePipe({name:"titlecase",type:R,pure:!0,standalone:!0}),R})(),la=(()=>{class R{transform(O){if(null==O)return null;if("string"!=typeof O)throw In();return O.toUpperCase()}}return R.\u0275fac=function(O){return new(O||R)},R.\u0275pipe=D.\u0275\u0275definePipe({name:"uppercase",type:R,pure:!0,standalone:!0}),R})();const ca=new D.InjectionToken("DATE_PIPE_DEFAULT_TIMEZONE");let Ro=(()=>{class R{constructor(O,q){this.locale=O,this.defaultTimezone=q}transform(O,q="mediumDate",_e,Pe){if(null==O||""===O||O!=O)return null;try{return yr(O,q,Pe||this.locale,_e??this.defaultTimezone??void 0)}catch(Ie){throw In()}}}return R.\u0275fac=function(O){return new(O||R)(D.\u0275\u0275directiveInject(D.LOCALE_ID,16),D.\u0275\u0275directiveInject(ca,24))},R.\u0275pipe=D.\u0275\u0275definePipe({name:"date",type:R,pure:!0,standalone:!0}),R})();const ws=/#/g;let so=(()=>{class R{constructor(O){this._localization=O}transform(O,q,_e){if(null==O)return"";if("object"!=typeof q||null===q)throw In();return q[pn(O,Object.keys(q),this._localization,_e)].replace(ws,O.toString())}}return R.\u0275fac=function(O){return new(O||R)(D.\u0275\u0275directiveInject(Mn,16))},R.\u0275pipe=D.\u0275\u0275definePipe({name:"i18nPlural",type:R,pure:!0,standalone:!0}),R})(),qt=(()=>{class R{transform(O,q){if(null==O)return"";if("object"!=typeof q||"string"!=typeof O)throw In();return q.hasOwnProperty(O)?q[O]:q.hasOwnProperty("other")?q.other:""}}return R.\u0275fac=function(O){return new(O||R)},R.\u0275pipe=D.\u0275\u0275definePipe({name:"i18nSelect",type:R,pure:!0,standalone:!0}),R})(),Oo=(()=>{class R{transform(O){return JSON.stringify(O,null,2)}}return R.\u0275fac=function(O){return new(O||R)},R.\u0275pipe=D.\u0275\u0275definePipe({name:"json",type:R,pure:!1,standalone:!0}),R})(),is=(()=>{class R{constructor(O){this.differs=O,this.keyValues=[],this.compareFn=oo}transform(O,q=oo){if(!O||!(O instanceof Map)&&"object"!=typeof O)return null;this.differ||(this.differ=this.differs.find(O).create());const _e=this.differ.diff(O),Pe=q!==this.compareFn;return _e&&(this.keyValues=[],_e.forEachItem(Ie=>{this.keyValues.push(function Mr(R,z){return{key:R,value:z}}(Ie.key,Ie.currentValue))})),(_e||Pe)&&(this.keyValues.sort(q),this.compareFn=q),this.keyValues}}return R.\u0275fac=function(O){return new(O||R)(D.\u0275\u0275directiveInject(D.KeyValueDiffers,16))},R.\u0275pipe=D.\u0275\u0275definePipe({name:"keyvalue",type:R,pure:!1,standalone:!0}),R})();function oo(R,z){const O=R.key,q=z.key;if(O===q)return 0;if(void 0===O)return 1;if(void 0===q)return-1;if(null===O)return 1;if(null===q)return-1;if("string"==typeof O&&"string"==typeof q)return O<q?-1:1;if("number"==typeof O&&"number"==typeof q)return O-q;if("boolean"==typeof O&&"boolean"==typeof q)return O<q?-1:1;const _e=String(O),Pe=String(q);return _e==Pe?0:_e<Pe?-1:1}let Po=(()=>{class R{constructor(O){this._locale=O}transform(O,q,_e){if(!rs(O))return null;_e=_e||this._locale;try{return Ji(wr(O),_e,q)}catch(Pe){throw In()}}}return R.\u0275fac=function(O){return new(O||R)(D.\u0275\u0275directiveInject(D.LOCALE_ID,16))},R.\u0275pipe=D.\u0275\u0275definePipe({name:"number",type:R,pure:!0,standalone:!0}),R})(),No=(()=>{class R{constructor(O){this._locale=O}transform(O,q,_e){if(!rs(O))return null;_e=_e||this._locale;try{return Ni(wr(O),_e,q)}catch(Pe){throw In()}}}return R.\u0275fac=function(O){return new(O||R)(D.\u0275\u0275directiveInject(D.LOCALE_ID,16))},R.\u0275pipe=D.\u0275\u0275definePipe({name:"percent",type:R,pure:!0,standalone:!0}),R})(),Oa=(()=>{class R{constructor(O,q="USD"){this._locale=O,this._defaultCurrencyCode=q}transform(O,q=this._defaultCurrencyCode,_e="symbol",Pe,Ie){if(!rs(O))return null;Ie=Ie||this._locale,"boolean"==typeof _e&&(_e=_e?"symbol":"code");let vt=q||this._defaultCurrencyCode;"code"!==_e&&(vt="symbol"===_e||"symbol-narrow"===_e?Ai(vt,"symbol"===_e?"wide":"narrow",Ie):_e);try{return Ht(wr(O),Ie,vt,q,Pe)}catch(dn){throw In()}}}return R.\u0275fac=function(O){return new(O||R)(D.\u0275\u0275directiveInject(D.LOCALE_ID,16),D.\u0275\u0275directiveInject(D.DEFAULT_CURRENCY_CODE,16))},R.\u0275pipe=D.\u0275\u0275definePipe({name:"currency",type:R,pure:!0,standalone:!0}),R})();function rs(R){return!(null==R||""===R||R!=R)}function wr(R){if("string"==typeof R&&!isNaN(Number(R)-parseFloat(R)))return Number(R);if("number"!=typeof R)throw new Error(`${R} is not a number`);return R}let Ar=(()=>{class R{transform(O,q,_e){if(null==O)return null;if(!this.supports(O))throw In();return O.slice(q,_e)}supports(O){return"string"==typeof O||Array.isArray(O)}}return R.\u0275fac=function(O){return new(O||R)},R.\u0275pipe=D.\u0275\u0275definePipe({name:"slice",type:R,pure:!1,standalone:!0}),R})(),lo=(()=>{class R{}return R.\u0275fac=function(O){return new(O||R)},R.\u0275mod=D.\u0275\u0275defineNgModule({type:R}),R.\u0275inj=D.\u0275\u0275defineInjector({}),R})();const wn="browser",js="server",Us="browserWorkerApp",Fo="browserWorkerUi";function ua(R){return R===wn}function Bc(R){return R===js}function ni(R){return R===Us}function da(R){return R===Fo}const jc=new D.Version("14.1.0");let co=(()=>{class R{}return R.\u0275prov=(0,D.\u0275\u0275defineInjectable)({token:R,providedIn:"root",factory:()=>new ii((0,D.\u0275\u0275inject)(G),window)}),R})();class ii{constructor(z,O){this.document=z,this.window=O,this.offset=()=>[0,0]}setOffset(z){this.offset=Array.isArray(z)?()=>z:z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(z){this.supportsScrolling()&&this.window.scrollTo(z[0],z[1])}scrollToAnchor(z){if(!this.supportsScrolling())return;const O=function Lo(R,z){const O=R.getElementById(z)||R.getElementsByName(z)[0];if(O)return O;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const q=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let _e=q.currentNode;for(;_e;){const Pe=_e.shadowRoot;if(Pe){const Ie=Pe.getElementById(z)||Pe.querySelector(`[name="${z}"]`);if(Ie)return Ie}_e=q.nextNode()}}return null}(this.document,z);O&&(this.scrollToElement(O),O.focus())}setHistoryScrollRestoration(z){if(this.supportScrollRestoration()){const O=this.window.history;O&&O.scrollRestoration&&(O.scrollRestoration=z)}}scrollToElement(z){const O=z.getBoundingClientRect(),q=O.left+this.window.pageXOffset,_e=O.top+this.window.pageYOffset,Pe=this.offset();this.window.scrollTo(q-Pe[0],_e-Pe[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const z=ha(this.window.history)||ha(Object.getPrototypeOf(this.window.history));return!(!z||!z.writable&&!z.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ha(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class hr{setOffset(z){}getScrollPosition(){return[0,0]}scrollToPosition(z){}scrollToAnchor(z){}setHistoryScrollRestoration(z){}}class Fi{}},4650:(Ue,he,k)=>{"use strict";k.r(he),k.d(he,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>Bu,ANIMATION_MODULE_TYPE:()=>GI,APP_BOOTSTRAP_LISTENER:()=>WI,APP_ID:()=>rb,APP_INITIALIZER:()=>HI,ApplicationInitStatus:()=>Xg,ApplicationModule:()=>Dt,ApplicationRef:()=>Mp,Attribute:()=>us,COMPILER_OPTIONS:()=>qI,CUSTOM_ELEMENTS_SCHEMA:()=>fx,ChangeDetectionStrategy:()=>Gn,ChangeDetectorRef:()=>Tk,Compiler:()=>Jg,CompilerFactory:()=>bk,Component:()=>VI,ComponentFactory:()=>Xm,ComponentFactoryResolver:()=>Ff,ComponentRef:()=>Mw,ContentChild:()=>Kc,ContentChildren:()=>Uu,DEFAULT_CURRENCY_CODE:()=>KI,DebugElement:()=>Ap,DebugEventListener:()=>Ak,DebugNode:()=>gb,DefaultIterableDiffer:()=>wD,Directive:()=>Qg,ENVIRONMENT_INITIALIZER:()=>hc,ElementRef:()=>rh,EmbeddedViewRef:()=>Mk,EnvironmentInjector:()=>iu,ErrorHandler:()=>tg,EventEmitter:()=>Sc,Host:()=>Kr,HostBinding:()=>fk,HostListener:()=>pk,INJECTOR:()=>Xu,Inject:()=>Lt,InjectFlags:()=>gt,Injectable:()=>eM,InjectionToken:()=>Un,Injector:()=>ou,Input:()=>BI,IterableDiffers:()=>vb,KeyValueDiffers:()=>bb,LOCALE_ID:()=>xp,MissingTranslationStrategy:()=>Pr,ModuleWithComponentFactories:()=>Xa,NO_ERRORS_SCHEMA:()=>Ow,NgModule:()=>mk,NgModuleFactory:()=>MA,NgModuleRef:()=>vp,NgProbeToken:()=>nD,NgZone:()=>Qo,Optional:()=>Zt,Output:()=>jI,PACKAGE_ROOT_URL:()=>gk,PLATFORM_ID:()=>Tp,PLATFORM_INITIALIZER:()=>zI,Pipe:()=>hk,PlatformRef:()=>i_,Query:()=>zo,QueryList:()=>Bg,ReflectiveInjector:()=>Wf,ReflectiveKey:()=>Co,Renderer2:()=>kw,RendererFactory2:()=>Ty,RendererStyleFlags2:()=>pc,ResolvedReflectiveFactory:()=>$f,Sanitizer:()=>Rw,SecurityContext:()=>fe,Self:()=>Nt,SimpleChange:()=>is,SkipSelf:()=>Ci,TRANSLATIONS:()=>yk,TRANSLATIONS_FORMAT:()=>vk,TemplateRef:()=>bp,Testability:()=>db,TestabilityRegistry:()=>JI,Type:()=>Yc,VERSION:()=>hx,Version:()=>dx,ViewChild:()=>nc,ViewChildren:()=>qc,ViewContainerRef:()=>wp,ViewEncapsulation:()=>Xt,ViewRef:()=>_D,asNativeElements:()=>kk,assertPlatform:()=>oD,createComponent:()=>a_,createEnvironmentInjector:()=>Uv,createNgModule:()=>AA,createNgModuleRef:()=>FL,createPlatform:()=>bu,createPlatformFactory:()=>sD,defineInjectable:()=>yi,destroyPlatform:()=>lD,enableProdMode:()=>pb,forwardRef:()=>K,getDebugNode:()=>bd,getModuleFactory:()=>mD,getNgModuleById:()=>gD,getPlatform:()=>Fh,importProvidersFrom:()=>fc,inject:()=>se,isDevMode:()=>Sk,platformCore:()=>Ac,reflectComponentType:()=>gs,resolveForwardRef:()=>J,setTestabilityGetter:()=>yd,\u0275ALLOW_MULTIPLE_PLATFORMS:()=>hb,\u0275APP_ID_RANDOM_PROVIDER:()=>Xs,\u0275ChangeDetectorStatus:()=>vn,\u0275ComponentFactory:()=>Xm,\u0275Console:()=>_k,\u0275DEFAULT_LOCALE_ID:()=>Dh,\u0275INJECTOR_SCOPE:()=>Ey,\u0275LContext:()=>$w,\u0275LifecycleHooksFeature:()=>NM,\u0275LocaleDataIndex:()=>Wt,\u0275NG_COMP_DEF:()=>bn,\u0275NG_DIR_DEF:()=>li,\u0275NG_ELEMENT_ID:()=>ce,\u0275NG_INJ_DEF:()=>zi,\u0275NG_MOD_DEF:()=>un,\u0275NG_PIPE_DEF:()=>Kn,\u0275NG_PROV_DEF:()=>Di,\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>sh,\u0275NO_CHANGE:()=>sn,\u0275NgModuleFactory:()=>Fg,\u0275NoopNgZone:()=>QI,\u0275ReflectionCapabilities:()=>za,\u0275Render3ComponentFactory:()=>mh,\u0275Render3ComponentRef:()=>jE,\u0275Render3NgModuleRef:()=>jv,\u0275RuntimeError:()=>Se,\u0275TESTABILITY:()=>XI,\u0275TESTABILITY_GETTER:()=>As,\u0275ViewRef:()=>hh,\u0275_sanitizeHtml:()=>E,\u0275_sanitizeUrl:()=>X,\u0275allowSanitizationBypassAndThrow:()=>tu,\u0275bypassSanitizationTrustHtml:()=>fy,\u0275bypassSanitizationTrustResourceUrl:()=>Iw,\u0275bypassSanitizationTrustScript:()=>Ew,\u0275bypassSanitizationTrustStyle:()=>py,\u0275bypassSanitizationTrustUrl:()=>Cw,\u0275clearResolutionOfComponentResourcesQueue:()=>Tf,\u0275coerceToBoolean:()=>Eb,\u0275compileComponent:()=>MI,\u0275compileDirective:()=>Sp,\u0275compileNgModule:()=>DI,\u0275compileNgModuleDefs:()=>Jv,\u0275compileNgModuleFactory:()=>eD,\u0275compilePipe:()=>Do,\u0275createInjector:()=>$y,\u0275defaultIterableDiffers:()=>QL,\u0275defaultKeyValueDiffers:()=>$k,\u0275detectChanges:()=>jM,\u0275devModeEqual:()=>zE,\u0275findLocaleData:()=>TC,\u0275flushModuleScopingQueueAsMuchAsPossible:()=>CI,\u0275getDebugNode:()=>bd,\u0275getDebugNodeR2:()=>Mc,\u0275getDirectives:()=>FA,\u0275getHostElement:()=>Lg,\u0275getInjectableDef:()=>Yn,\u0275getLContext:()=>Ms,\u0275getLocaleCurrencyCode:()=>mL,\u0275getLocalePluralCase:()=>oA,\u0275getSanitizationBypassType:()=>jm,\u0275getUnknownElementStrictMode:()=>Pw,\u0275getUnknownPropertyStrictMode:()=>FN,\u0275global:()=>nt,\u0275injectChangeDetectorRef:()=>xk,\u0275internalBootstrapApplication:()=>rD,\u0275isBoundToModule:()=>tD,\u0275isDefaultChangeDetectionStrategy:()=>es,\u0275isListLikeIterable:()=>mg,\u0275isObservable:()=>zM,\u0275isPromise:()=>Eg,\u0275isStandalone:()=>Rh,\u0275isSubscribable:()=>$M,\u0275ivyEnabled:()=>on,\u0275makeDecorator:()=>va,\u0275markDirty:()=>YE,\u0275noSideEffects:()=>ai,\u0275patchComponentDefWithScope:()=>_d,\u0275publishDefaultGlobalUtils:()=>wk,\u0275publishGlobalUtil:()=>Zo,\u0275registerLocaleData:()=>pL,\u0275resetCompiledComponents:()=>TI,\u0275resetJitOptions:()=>ik,\u0275resolveComponentResources:()=>Tl,\u0275setAllowDuplicateNgModuleIdsForTest:()=>dy,\u0275setClassMetadata:()=>nI,\u0275setCurrentInjector:()=>Go,\u0275setDocument:()=>kf,\u0275setLocaleId:()=>Rv,\u0275setUnknownElementStrictMode:()=>px,\u0275setUnknownPropertyStrictMode:()=>oh,\u0275store:()=>UM,\u0275stringify:()=>j,\u0275transitiveScopesFor:()=>ir,\u0275unregisterLocaleData:()=>gL,\u0275unwrapSafeValue:()=>vo,\u0275whenRendered:()=>HE,\u0275\u0275CopyDefinitionFeature:()=>$E,\u0275\u0275FactoryTarget:()=>Si,\u0275\u0275InheritDefinitionFeature:()=>nv,\u0275\u0275NgOnChangesFeature:()=>oo,\u0275\u0275ProvidersFeature:()=>xA,\u0275\u0275StandaloneFeature:()=>kA,\u0275\u0275advance:()=>uE,\u0275\u0275attribute:()=>WE,\u0275\u0275attributeInterpolate1:()=>av,\u0275\u0275attributeInterpolate2:()=>lv,\u0275\u0275attributeInterpolate3:()=>gg,\u0275\u0275attributeInterpolate4:()=>du,\u0275\u0275attributeInterpolate5:()=>cv,\u0275\u0275attributeInterpolate6:()=>GE,\u0275\u0275attributeInterpolate7:()=>uv,\u0275\u0275attributeInterpolate8:()=>KE,\u0275\u0275attributeInterpolateV:()=>qE,\u0275\u0275classMap:()=>fd,\u0275\u0275classMapInterpolate1:()=>rA,\u0275\u0275classMapInterpolate2:()=>fC,\u0275\u0275classMapInterpolate3:()=>pC,\u0275\u0275classMapInterpolate4:()=>mC,\u0275\u0275classMapInterpolate5:()=>gC,\u0275\u0275classMapInterpolate6:()=>Dv,\u0275\u0275classMapInterpolate7:()=>up,\u0275\u0275classMapInterpolate8:()=>Ic,\u0275\u0275classMapInterpolateV:()=>sA,\u0275\u0275classProp:()=>wv,\u0275\u0275contentQuery:()=>Qv,\u0275\u0275defineComponent:()=>oe,\u0275\u0275defineDirective:()=>ki,\u0275\u0275defineInjectable:()=>Ln,\u0275\u0275defineInjector:()=>Zi,\u0275\u0275defineNgModule:()=>xt,\u0275\u0275definePipe:()=>we,\u0275\u0275directiveInject:()=>Gf,\u0275\u0275disableBindings:()=>On,\u0275\u0275element:()=>hv,\u0275\u0275elementContainer:()=>QE,\u0275\u0275elementContainerEnd:()=>fu,\u0275\u0275elementContainerStart:()=>wg,\u0275\u0275elementEnd:()=>bg,\u0275\u0275elementStart:()=>vg,\u0275\u0275enableBindings:()=>gn,\u0275\u0275getCurrentView:()=>vh,\u0275\u0275getInheritedFactory:()=>ec,\u0275\u0275hostProperty:()=>DC,\u0275\u0275i18n:()=>DA,\u0275\u0275i18nApply:()=>YC,\u0275\u0275i18nAttributes:()=>md,\u0275\u0275i18nEnd:()=>Fv,\u0275\u0275i18nExp:()=>Pg,\u0275\u0275i18nPostprocess:()=>ZC,\u0275\u0275i18nStart:()=>qC,\u0275\u0275inject:()=>P,\u0275\u0275injectAttribute:()=>tc,\u0275\u0275invalidFactory:()=>Ky,\u0275\u0275invalidFactoryDep:()=>W,\u0275\u0275listener:()=>XE,\u0275\u0275loadQuery:()=>_I,\u0275\u0275namespaceHTML:()=>Va,\u0275\u0275namespaceMathML:()=>La,\u0275\u0275namespaceSVG:()=>Fa,\u0275\u0275nextContext:()=>eC,\u0275\u0275ngDeclareClassMetadata:()=>Cb,\u0275\u0275ngDeclareComponent:()=>Rp,\u0275\u0275ngDeclareDirective:()=>o_,\u0275\u0275ngDeclareFactory:()=>zk,\u0275\u0275ngDeclareInjectable:()=>Wk,\u0275\u0275ngDeclareInjector:()=>Gk,\u0275\u0275ngDeclareNgModule:()=>Kk,\u0275\u0275ngDeclarePipe:()=>ms,\u0275\u0275pipe:()=>Wv,\u0275\u0275pipeBind1:()=>zA,\u0275\u0275pipeBind2:()=>Gv,\u0275\u0275pipeBind3:()=>dI,\u0275\u0275pipeBind4:()=>hI,\u0275\u0275pipeBindV:()=>fI,\u0275\u0275projection:()=>qM,\u0275\u0275projectionDef:()=>gi,\u0275\u0275property:()=>yg,\u0275\u0275propertyInterpolate:()=>tC,\u0275\u0275propertyInterpolate1:()=>pv,\u0275\u0275propertyInterpolate2:()=>cd,\u0275\u0275propertyInterpolate3:()=>Ec,\u0275\u0275propertyInterpolate4:()=>ud,\u0275\u0275propertyInterpolate5:()=>bh,\u0275\u0275propertyInterpolate6:()=>mv,\u0275\u0275propertyInterpolate7:()=>nC,\u0275\u0275propertyInterpolate8:()=>iC,\u0275\u0275propertyInterpolateV:()=>gv,\u0275\u0275pureFunction0:()=>iI,\u0275\u0275pureFunction1:()=>Vg,\u0275\u0275pureFunction2:()=>jA,\u0275\u0275pureFunction3:()=>UA,\u0275\u0275pureFunction4:()=>rI,\u0275\u0275pureFunction5:()=>HA,\u0275\u0275pureFunction6:()=>$A,\u0275\u0275pureFunction7:()=>$v,\u0275\u0275pureFunction8:()=>sI,\u0275\u0275pureFunctionV:()=>oI,\u0275\u0275queryRefresh:()=>gI,\u0275\u0275reference:()=>dv,\u0275\u0275registerNgModuleType:()=>Af,\u0275\u0275resetView:()=>Er,\u0275\u0275resolveBody:()=>Ix,\u0275\u0275resolveDocument:()=>Cx,\u0275\u0275resolveWindow:()=>Ex,\u0275\u0275restoreView:()=>Hs,\u0275\u0275sanitizeHtml:()=>Oe,\u0275\u0275sanitizeResourceUrl:()=>Mt,\u0275\u0275sanitizeScript:()=>Wn,\u0275\u0275sanitizeStyle:()=>st,\u0275\u0275sanitizeUrl:()=>Je,\u0275\u0275sanitizeUrlOrResourceUrl:()=>Qu,\u0275\u0275setComponentScope:()=>pe,\u0275\u0275setNgModuleScope:()=>Tn,\u0275\u0275styleMap:()=>Za,\u0275\u0275styleMapInterpolate1:()=>_C,\u0275\u0275styleMapInterpolate2:()=>yC,\u0275\u0275styleMapInterpolate3:()=>Sv,\u0275\u0275styleMapInterpolate4:()=>Tv,\u0275\u0275styleMapInterpolate5:()=>xv,\u0275\u0275styleMapInterpolate6:()=>vC,\u0275\u0275styleMapInterpolate7:()=>Ch,\u0275\u0275styleMapInterpolate8:()=>Yr,\u0275\u0275styleMapInterpolateV:()=>bC,\u0275\u0275styleProp:()=>bv,\u0275\u0275stylePropInterpolate1:()=>xg,\u0275\u0275stylePropInterpolate2:()=>dp,\u0275\u0275stylePropInterpolate3:()=>wC,\u0275\u0275stylePropInterpolate4:()=>hp,\u0275\u0275stylePropInterpolate5:()=>Mg,\u0275\u0275stylePropInterpolate6:()=>Mv,\u0275\u0275stylePropInterpolate7:()=>EC,\u0275\u0275stylePropInterpolate8:()=>CC,\u0275\u0275stylePropInterpolateV:()=>IC,\u0275\u0275syntheticHostListener:()=>JE,\u0275\u0275syntheticHostProperty:()=>SC,\u0275\u0275template:()=>hu,\u0275\u0275templateRefExtractor:()=>wI,\u0275\u0275text:()=>uC,\u0275\u0275textInterpolate:()=>dC,\u0275\u0275textInterpolate1:()=>Dg,\u0275\u0275textInterpolate2:()=>cp,\u0275\u0275textInterpolate3:()=>Cv,\u0275\u0275textInterpolate4:()=>Sg,\u0275\u0275textInterpolate5:()=>Eh,\u0275\u0275textInterpolate6:()=>Tg,\u0275\u0275textInterpolate7:()=>Iv,\u0275\u0275textInterpolate8:()=>hC,\u0275\u0275textInterpolateV:()=>Ol,\u0275\u0275trustConstantHtml:()=>Zn,\u0275\u0275trustConstantResourceUrl:()=>Or,\u0275\u0275viewQuery:()=>JA});var D=k(8929),l=k(2654),F=k(6498),Q=k(6787),ne=k(8117);function U(o){for(let a in o)if(o[a]===U)return a;throw Error("Could not find renamed property on target object.")}function G(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function j(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(j).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function Y(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const V=U({__forward_ref__:U});function K(o){return o.__forward_ref__=K,o.toString=function(){return j(this())},o}function J(o){return ge(o)?o():o}function ge(o){return"function"==typeof o&&o.hasOwnProperty(V)&&o.__forward_ref__===K}class Se extends Error{constructor(a,c){super(function Ae(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}(a,c)),this.code=a}}function xe(o){return"string"==typeof o?o:null==o?"":String(o)}function ke(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():xe(o)}function fn(o,a){throw new Se(-201,!1)}function Kt(o,a,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}function Ln(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}const yi=Ln;function Zi(o){return{providers:o.providers||[],imports:o.imports||[]}}function Yn(o){return Qi(o,Di)||Qi(o,We)}function Qi(o,a){return o.hasOwnProperty(a)?o[a]:null}function vs(o){return o&&(o.hasOwnProperty(zi)||o.hasOwnProperty(fi))?o[zi]:null}const Di=U({\u0275prov:U}),zi=U({\u0275inj:U}),We=U({ngInjectableDef:U}),fi=U({ngInjectorDef:U});var gt=(()=>((gt=gt||{})[gt.Default=0]="Default",gt[gt.Host=1]="Host",gt[gt.Self=2]="Self",gt[gt.SkipSelf=4]="SkipSelf",gt[gt.Optional=8]="Optional",gt))();let Mi;function cn(o){const a=Mi;return Mi=o,a}function Ai(o,a,c){const d=Yn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&gt.Optional?null:void 0!==a?a:void fn(j(o))}function ai(o){return{toString:o}.toString()}var Gn=(()=>((Gn=Gn||{})[Gn.OnPush=0]="OnPush",Gn[Gn.Default=1]="Default",Gn))(),vn=(()=>((vn=vn||{})[vn.CheckOnce=0]="CheckOnce",vn[vn.Checked=1]="Checked",vn[vn.CheckAlways=2]="CheckAlways",vn[vn.Detached=3]="Detached",vn[vn.Errored=4]="Errored",vn[vn.Destroyed=5]="Destroyed",vn))();function es(o){return null==o||o===Gn.Default}var Xt=(()=>{return(o=Xt||(Xt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Xt;var o})();const nt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),vi={},ct=[],bn=U({\u0275cmp:U}),li=U({\u0275dir:U}),Kn=U({\u0275pipe:U}),un=U({\u0275mod:U}),Jn=U({\u0275fac:U}),ce=U({__NG_ELEMENT_ID__:U});let ue=0;function oe(o){return ai(()=>{const c=!0===o.standalone,d={},f={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Gn.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||ct,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Xt.Emulated,id:"c"+ue++,styles:o.styles||ct,_:null,setInput:null,schemas:o.schemas||null,tView:null},g=o.dependencies,v=o.features;return f.inputs=xn(o.inputs,d),f.outputs=xn(o.outputs),v&&v.forEach(I=>I(f)),f.directiveDefs=g?()=>("function"==typeof g?g():g).map(me).filter(He):null,f.pipeDefs=g?()=>("function"==typeof g?g():g).map(Fe).filter(He):null,f})}function pe(o,a,c){const d=o.\u0275cmp;d.directiveDefs=()=>("function"==typeof a?a():a).map(me),d.pipeDefs=()=>("function"==typeof c?c():c).map(Fe)}function me(o){return ae(o)||le(o)}function He(o){return null!==o}const ot={};function xt(o){return ai(()=>{const a={type:o.type,bootstrap:o.bootstrap||ct,declarations:o.declarations||ct,imports:o.imports||ct,exports:o.exports||ct,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(ot[o.id]=o.type),a})}function Tn(o,a){return ai(()=>{const c=Qe(o,!0);c.declarations=a.declarations||ct,c.imports=a.imports||ct,c.exports=a.exports||ct})}function xn(o,a){if(null==o)return vi;const c={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),c[f]=d,a&&(a[f]=g)}return c}const ki=oe;function we(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function ae(o){return o[bn]||null}function le(o){return o[li]||null}function Fe(o){return o[Kn]||null}function Qe(o,a){const c=o[un]||null;if(!c&&!0===a)throw new Error(`Type ${j(o)} does not have '\u0275mod' property.`);return c}function Ri(o){return Array.isArray(o)&&"object"==typeof o[1]}function ji(o){return Array.isArray(o)&&!0===o[1]}function xr(o){return 0!=(8&o.flags)}function $t(o){return 2==(2&o.flags)}function ro(o){return 1==(1&o.flags)}function Gi(o){return null!==o.template}function pi(o){return 0!=(256&o[2])}function Mr(o,a){return o.hasOwnProperty(Jn)?o[Jn]:null}class is{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function oo(){return Po}function Po(o){return o.type.prototype.ngOnChanges&&(o.setInput=Oa),No}function No(){const o=wr(this),a=o?.current;if(a){const c=o.previous;if(c===vi)o.previous=a;else for(let d in a)c[d]=a[d];o.current=null,this.ngOnChanges(a)}}function Oa(o,a,c,d){const f=wr(o)||function Ar(o,a){return o[rs]=a}(o,{previous:vi,current:null}),g=f.current||(f.current={}),v=f.previous,I=this.declaredInputs[c],S=v[I];g[I]=new is(S&&S.currentValue,a,v===vi),o[d]=a}oo.ngInherit=!0;const rs="__ngSimpleChanges__";function wr(o){return o[rs]||null}let ao=null;const lo=o=>{ao=o},wn=function(o,a,c){ao?.(o,a,c)};function ni(o){for(;Array.isArray(o);)o=o[0];return o}function co(o,a){return ni(a[o])}function ii(o,a){return ni(a[o.index])}function Lo(o,a){return o.data[a]}function hr(o,a){return o[a]}function Fi(o,a){const c=a[o];return Ri(c)?c:c[0]}function R(o){return 4==(4&o[2])}function z(o){return 64==(64&o[2])}function q(o,a){return null==a?null:o[a]}function _e(o){o[18]=0}function Pe(o,a){o[5]+=a;let c=o,d=o[3];for(;null!==d&&(1===a&&1===c[5]||-1===a&&0===c[5]);)d[5]+=a,c=d,d=d[3]}const Ie={lFrame:Cs(null),bindingsEnabled:!0};function mi(){return Ie.bindingsEnabled}function gn(){Ie.bindingsEnabled=!0}function On(){Ie.bindingsEnabled=!1}function Ve(){return Ie.lFrame.lView}function Yt(){return Ie.lFrame.tView}function Hs(o){return Ie.lFrame.contextLView=o,o[8]}function Er(o){return Ie.lFrame.contextLView=null,o}function zn(){let o=uo();for(;null!==o&&64===o.type;)o=o.parent;return o}function uo(){return Ie.lFrame.currentTNode}function jr(){const o=Ie.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}function Ur(o,a){const c=Ie.lFrame;c.currentTNode=o,c.isParent=a}function ho(){return Ie.lFrame.isParent}function Vo(){Ie.lFrame.isParent=!1}function Li(){const o=Ie.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function ss(){return Ie.lFrame.bindingIndex}function Bo(o){return Ie.lFrame.bindingIndex=o}function fo(){return Ie.lFrame.bindingIndex++}function Es(o){const a=Ie.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function ql(o){Ie.lFrame.inI18n=o}function Pa(o,a){const c=Ie.lFrame;c.bindingIndex=c.bindingRootIndex=o,fa(a)}function fa(o){Ie.lFrame.currentDirectiveIndex=o}function Na(o){const a=Ie.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function dl(){return Ie.lFrame.currentQueryIndex}function Ws(o){Ie.lFrame.currentQueryIndex=o}function Yl(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function po(o,a,c){if(c&gt.SkipSelf){let f=a,g=o;for(;!(f=f.parent,null!==f||c&gt.Host||(f=Yl(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;a=f,o=g}const d=Ie.lFrame=mo();return d.currentTNode=a,d.lView=o,!0}function jo(o){const a=mo(),c=o[1];Ie.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function mo(){const o=Ie.lFrame,a=null===o?null:o.child;return null===a?Cs(o):a}function Cs(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function os(){const o=Ie.lFrame;return Ie.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Zl=os;function pa(){const o=os();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Ki(){return Ie.lFrame.selectedIndex}function Is(o){Ie.lFrame.selectedIndex=o}function ci(){const o=Ie.lFrame;return Lo(o.tView,o.selectedIndex)}function Fa(){Ie.lFrame.currentNamespace="svg"}function La(){Ie.lFrame.currentNamespace="math"}function Va(){!function Ba(){Ie.lFrame.currentNamespace=null}()}function Gs(o,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const g=o.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:I,ngAfterViewInit:S,ngAfterViewChecked:N,ngOnDestroy:H}=g;v&&(o.contentHooks||(o.contentHooks=[])).push(-c,v),I&&((o.contentHooks||(o.contentHooks=[])).push(c,I),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,I)),S&&(o.viewHooks||(o.viewHooks=[])).push(-c,S),N&&((o.viewHooks||(o.viewHooks=[])).push(c,N),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,N)),null!=H&&(o.destroyHooks||(o.destroyHooks=[])).push(c,H)}}function pl(o,a,c){gl(o,a,3,c)}function go(o,a,c,d){(3&o[2])===c&&gl(o,a,c,d)}function ml(o,a){let c=o[2];(3&c)===a&&(c&=2047,c+=1,o[2]=c)}function gl(o,a,c,d){const g=d??-1,v=a.length-1;let I=0;for(let S=void 0!==d?65535&o[18]:0;S<v;S++)if("number"==typeof a[S+1]){if(I=a[S],null!=d&&I>=d)break}else a[S]<0&&(o[18]+=65536),(I<g||-1==g)&&(Ua(o,c,a,S),o[18]=(4294901760&o[18])+S+2),S++}function Ua(o,a,c,d){const f=c[d]<0,g=c[d+1],I=o[f?-c[d]:c[d]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048,wn(4,I,g);try{g.call(I)}finally{wn(5,I,g)}}}else{wn(4,I,g);try{g.call(I)}finally{wn(5,I,g)}}}class ma{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function ri(o,a,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const g=c[d++],v=c[d++],I=c[d++];o.setAttribute(a,v,I,g)}else{const g=f,v=c[++d];Ds(g)?o.setProperty(a,g,v):o.setAttribute(a,g,v),d++}}return d}function Ql(o){return 3===o||4===o||6===o}function Ds(o){return 64===o.charCodeAt(0)}function ga(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?c=f:0===c||Uc(o,c,f,null,-1===c||2===c?a[++d]:null)}}return o}function Uc(o,a,c,d,f){let g=0,v=o.length;if(-1===a)v=-1;else for(;g<o.length;){const I=o[g++];if("number"==typeof I){if(I===a){v=-1;break}if(I>a){v=g-1;break}}}for(;g<o.length;){const I=o[g];if("number"==typeof I)break;if(I===c){if(null===d)return void(null!==f&&(o[g+1]=f));if(d===o[g+1])return void(o[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==v&&(o.splice(v,0,a),g=v+1),o.splice(g++,0,c),null!==d&&o.splice(g++,0,d),null!==f&&o.splice(g++,0,f)}function Nd(o){return-1!==o}function _l(o){return 32767&o}function _a(o,a){let c=function ls(o){return o>>16}(o),d=a;for(;c>0;)d=d[15],c--;return d}let cs=!0;function Xl(o){const a=cs;return cs=o,a}let Fu=0;const Ss={};function ya(o,a){const c=Uo(o,a);if(-1!==c)return c;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,$r(d.data,o),$r(a,null),$r(d.blueprint,null));const f=Hc(o,a),g=o.injectorIndex;if(Nd(f)){const v=_l(f),I=_a(f,a),S=I[1].data;for(let N=0;N<8;N++)a[g+N]=I[v+N]|S[v+N]}return a[g+8]=f,g}function $r(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Uo(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Hc(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,f=a;for(;null!==f;){if(d=wl(f),null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function $c(o,a,c){!function Ld(o,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(ce)&&(d=c[ce]),null==d&&(d=c[ce]=Fu++);const f=255&d;a.data[o+(f>>5)]|=1<<f}(o,a,c)}function yl(o,a,c){if(c&gt.Optional)return o;fn()}function vl(o,a,c,d){if(c&gt.Optional&&void 0===d&&(d=null),0==(c&(gt.Self|gt.Host))){const f=o[9],g=cn(void 0);try{return f?f.get(a,d,c&gt.Optional):Ai(a,d,c&gt.Optional)}finally{cn(g)}}return yl(d,0,c)}function zc(o,a,c,d=gt.Default,f){if(null!==o){if(1024&a[2]){const v=function Vu(o,a,c,d,f){let g=o,v=a;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const I=Wc(g,v,c,d|gt.Self,Ss);if(I!==Ss)return I;let S=g.parent;if(!S){const N=v[21];if(N){const H=N.get(c,Ss,d);if(H!==Ss)return H}S=wl(v),v=v[15]}g=S}return f}(o,a,c,d,Ss);if(v!==Ss)return v}const g=Wc(o,a,c,d,Ss);if(g!==Ss)return g}return vl(a,c,d,f)}function Wc(o,a,c,d,f){const g=function Vd(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(ce)?o[ce]:void 0;return"number"==typeof a?a>=0?255&a:Ef:a}(c);if("function"==typeof g){if(!po(a,o,d))return d&gt.Host?yl(f,0,d):vl(a,c,d,f);try{const v=g(d);if(null!=v||d&gt.Optional)return v;fn()}finally{Zl()}}else if("number"==typeof g){let v=null,I=Uo(o,a),S=-1,N=d&gt.Host?a[16][6]:null;for((-1===I||d&gt.SkipSelf)&&(S=-1===I?Hc(o,a):a[I+8],-1!==S&&bl(d,!1)?(v=a[1],I=_l(S),a=_a(S,a)):I=-1);-1!==I;){const H=a[1];if(Bd(g,I,H.data)){const ie=Gc(I,a,c,v,d,N);if(ie!==Ss)return ie}S=a[I+8],-1!==S&&bl(d,a[1].data[I+8]===N)&&Bd(g,I,a)?(v=H,I=_l(S),a=_a(S,a)):I=-1}}return f}function Gc(o,a,c,d,f,g){const v=a[1],I=v.data[o+8],H=$a(I,v,c,null==d?$t(I)&&cs:d!=v&&0!=(3&I.type),f&gt.Host&&g===I);return null!==H?Jl(a,v,H,I):Ss}function $a(o,a,c,d,f){const g=o.providerIndexes,v=a.data,I=1048575&g,S=o.directiveStart,H=g>>20,de=f?I+H:o.directiveEnd;for(let De=d?I:I+H;De<de;De++){const Be=v[De];if(De<S&&c===Be||De>=S&&Be.type===c)return De}if(f){const De=v[S];if(De&&Gi(De)&&De.type===c)return S}return null}function Jl(o,a,c,d){let f=o[c];const g=a.data;if(function te(o){return o instanceof ma}(f)){const v=f;v.resolving&&function ht(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new Se(-200,`Circular dependency in DI detected for ${o}${c}`)}(ke(g[c]));const I=Xl(v.canSeeViewProviders);v.resolving=!0;const S=v.injectImpl?cn(v.injectImpl):null;po(o,d,gt.Default);try{f=o[c]=v.factory(void 0,g,o,d),a.firstCreatePass&&c>=d.directiveStart&&function fl(o,a,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=a.type.prototype;if(d){const v=Po(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,v)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,f),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,g))}(c,g[c],a)}finally{null!==S&&cn(S),Xl(I),v.resolving=!1,Zl()}}return f}function Bd(o,a,c){return!!(c[a+(o>>5)]&1<<o)}function bl(o,a){return!(o&gt.Self||o&gt.Host&&a)}class zr{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return zc(this._tNode,this._lView,a,d,c)}}function Ef(){return new zr(zn(),Ve())}function ec(o){return ai(()=>{const a=o.prototype.constructor,c=a[Jn]||Lu(a),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const g=f[Jn]||Lu(f);if(g&&g!==c)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function Lu(o){return ge(o)?()=>{const a=Lu(J(o));return a&&a()}:Mr(o)}function wl(o){const a=o[1],c=a.type;return 2===c?a.declTNode:1===c?o[6]:null}function tc(o){return function Ha(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const g=c[f];if(Ql(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(g===a)return c[f+1];f+=2}}}return null}(zn(),o)}const Ei="__annotations__",Wr="__parameters__",Ho="__prop__metadata__";function va(o,a,c,d,f){return ai(()=>{const g=ba(a);function v(...I){if(this instanceof v)return g.call(this,...I),this;const S=new v(...I);return function(H){return f&&f(H,...I),(H.hasOwnProperty(Ei)?H[Ei]:Object.defineProperty(H,Ei,{value:[]})[Ei]).push(S),d&&d(H),H}}return c&&(v.prototype=Object.create(c.prototype)),v.prototype.ngMetadataName=o,v.annotationCls=v,v})}function ba(o){return function(...c){if(o){const d=o(...c);for(const f in d)this[f]=d[f]}}}function $o(o,a,c){return ai(()=>{const d=ba(a);function f(...g){if(this instanceof f)return d.apply(this,g),this;const v=new f(...g);return I.annotation=v,I;function I(S,N,H){const ie=S.hasOwnProperty(Wr)?S[Wr]:Object.defineProperty(S,Wr,{value:[]})[Wr];for(;ie.length<=H;)ie.push(null);return(ie[H]=ie[H]||[]).push(v),S}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}function _o(o,a,c,d){return ai(()=>{const f=ba(a);function g(...v){if(this instanceof g)return f.apply(this,v),this;const I=new g(...v);return function S(N,H){const ie=N.constructor,de=ie.hasOwnProperty(Ho)?ie[Ho]:Object.defineProperty(ie,Ho,{value:{}})[Ho];de[H]=de.hasOwnProperty(H)&&de[H]||[],de[H].unshift(I),d&&d(N,H,...v)}}return c&&(g.prototype=Object.create(c.prototype)),g.prototype.ngMetadataName=o,g.annotationCls=g,g})}const us=$o("Attribute",o=>({attributeName:o,__NG_ELEMENT_ID__:()=>tc(o)}));class Un{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Ln({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Bu=new Un("AnalyzeForEntryComponents");class zo{}const Uu=_o("ContentChildren",(o,a={})=>({selector:o,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0,...a}),zo),Kc=_o("ContentChild",(o,a={})=>({selector:o,first:!0,isViewQuery:!1,descendants:!0,...a}),zo),qc=_o("ViewChildren",(o,a={})=>({selector:o,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0,...a}),zo),nc=_o("ViewChild",(o,a)=>({selector:o,first:!0,isViewQuery:!0,descendants:!0,...a}),zo);var Si=(()=>((Si=Si||{})[Si.Directive=0]="Directive",Si[Si.Component=1]="Component",Si[Si.Injectable=2]="Injectable",Si[Si.Pipe=3]="Pipe",Si[Si.NgModule=4]="NgModule",Si))();function Ti(o){const a=nt.ng;if(a&&a.\u0275compilerFacade)return a.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const Yc=Function;function ic(o){return"function"==typeof o}function Gr(o,a){void 0===a&&(a=o);for(let c=0;c<o.length;c++){let d=o[c];Array.isArray(d)?(a===o&&(a=o.slice(0,c)),Gr(d,a)):a!==o&&a.push(d)}return a}function Wo(o,a){o.forEach(c=>Array.isArray(c)?Wo(c,a):a(c))}function rc(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function El(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Cl(o,a){const c=[];for(let d=0;d<o;d++)c.push(a);return c}function Rr(o,a,c){let d=Ks(o,a);return d>=0?o[1|d]=c:(d=~d,function Hd(o,a,c,d){let f=o.length;if(f==a)o.push(c,d);else if(1===f)o.push(d,o[0]),o[0]=c;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=c,o[a+1]=d}}(o,d,a,c)),d}function Il(o,a){const c=Ks(o,a);if(c>=0)return o[1|c]}function Ks(o,a){return function ac(o,a,c){let d=0,f=o.length>>c;for(;f!==d;){const g=d+(f-d>>1),v=o[g<<c];if(a===v)return g<<c;v>a?f=g:d=g+1}return~(f<<c)}(o,a,1)}const Cf=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Pm=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,$d=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,zd=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class za{constructor(a){this._reflect=a||nt.Reflect}factory(a){return(...c)=>new a(...c)}_zipTypesAndAnnotations(a,c){let d;d=Cl(typeof a>"u"?c.length:a.length);for(let f=0;f<d.length;f++)d[f]=typeof a>"u"?[]:a[f]&&a[f]!=Object?[a[f]]:[],c&&null!=c[f]&&(d[f]=d[f].concat(c[f]));return d}_ownParameters(a,c){if(function If(o){return Cf.test(o)||zd.test(o)||Pm.test(o)&&!$d.test(o)}(a.toString()))return null;if(a.parameters&&a.parameters!==c.parameters)return a.parameters;const f=a.ctorParameters;if(f&&f!==c.ctorParameters){const I="function"==typeof f?f():f,S=I.map(H=>H&&H.type),N=I.map(H=>H&&Qc(H.decorators));return this._zipTypesAndAnnotations(S,N)}const g=a.hasOwnProperty(Wr)&&a[Wr],v=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",a);return v||g?this._zipTypesAndAnnotations(v,g):Cl(a.length)}parameters(a){if(!ic(a))return[];const c=Dl(a);let d=this._ownParameters(a,c);return!d&&c!==Object&&(d=this.parameters(c)),d||[]}_ownAnnotations(a,c){if(a.annotations&&a.annotations!==c.annotations){let d=a.annotations;return"function"==typeof d&&d.annotations&&(d=d.annotations),d}return a.decorators&&a.decorators!==c.decorators?Qc(a.decorators):a.hasOwnProperty(Ei)?a[Ei]:null}annotations(a){if(!ic(a))return[];const c=Dl(a),d=this._ownAnnotations(a,c)||[];return(c!==Object?this.annotations(c):[]).concat(d)}_ownPropMetadata(a,c){if(a.propMetadata&&a.propMetadata!==c.propMetadata){let d=a.propMetadata;return"function"==typeof d&&d.propMetadata&&(d=d.propMetadata),d}if(a.propDecorators&&a.propDecorators!==c.propDecorators){const d=a.propDecorators,f={};return Object.keys(d).forEach(g=>{f[g]=Qc(d[g])}),f}return a.hasOwnProperty(Ho)?a[Ho]:null}propMetadata(a){if(!ic(a))return{};const c=Dl(a),d={};if(c!==Object){const g=this.propMetadata(c);Object.keys(g).forEach(v=>{d[v]=g[v]})}const f=this._ownPropMetadata(a,c);return f&&Object.keys(f).forEach(g=>{const v=[];d.hasOwnProperty(g)&&v.push(...d[g]),v.push(...f[g]),d[g]=v}),d}ownPropMetadata(a){return ic(a)&&this._ownPropMetadata(a,Dl(a))||{}}hasLifecycleHook(a,c){return a instanceof Yc&&c in a.prototype}}function Qc(o){return o?o.map(a=>new(0,a.type.annotationCls)(...a.args?a.args:[])):[]}function Dl(o){const a=o.prototype?Object.getPrototypeOf(o.prototype):null;return(a?a.constructor:null)||Object}const tr={},Wu="__NG_DI_FLAG__",Ts="ngTempTokenPath",Gu=/\n/gm,Sl="__source";let lc;function Go(o){const a=lc;return lc=o,a}function T(o,a=gt.Default){if(void 0===lc)throw new Se(-203,!1);return null===lc?Ai(o,void 0,a):lc.get(o,a&gt.Optional?null:void 0,a)}function P(o,a=gt.Default){return(function yn(){return Mi}()||T)(J(o),a)}function W(o){throw new Se(202,!1)}function se(o,a=gt.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),P(o,a)}function ve(o){const a=[];for(let c=0;c<o.length;c++){const d=J(o[c]);if(Array.isArray(d)){if(0===d.length)throw new Se(900,!1);let f,g=gt.Default;for(let v=0;v<d.length;v++){const I=d[v],S=ze(I);"number"==typeof S?-1===S?f=I.token:g|=S:f=I}a.push(P(f,g))}else a.push(P(d))}return a}function Ce(o,a){return o[Wu]=a,o.prototype[Wu]=a,o}function ze(o){return o[Wu]}const Lt=Ce($o("Inject",o=>({token:o})),-1),Zt=Ce($o("Optional"),8),Nt=Ce($o("Self"),2),Ci=Ce($o("SkipSelf"),4),Kr=Ce($o("Host"),1);let wa=null;function yo(){return wa=wa||new za}function Ea(o){return Ga(yo().parameters(o))}function Ga(o){return o.map(a=>function Xc(o){const a={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(o)&&o.length>0)for(let c=0;c<o.length;c++){const d=o[c];if(void 0===d)continue;const f=Object.getPrototypeOf(d);if(d instanceof Zt||"Optional"===f.ngMetadataName)a.optional=!0;else if(d instanceof Ci||"SkipSelf"===f.ngMetadataName)a.skipSelf=!0;else if(d instanceof Nt||"Self"===f.ngMetadataName)a.self=!0;else if(d instanceof Kr||"Host"===f.ngMetadataName)a.host=!0;else if(d instanceof Lt)a.token=d.token;else if(d instanceof us){if(void 0===d.attributeName)throw new Se(204,!1);a.attribute=d.attributeName}else a.token=d}else a.token=void 0===o||Array.isArray(o)&&0===o.length?null:o;return a}(a))}function Tl(o){const a=[],c=new Map;function d(f){let g=c.get(f);if(!g){const v=o(f);c.set(f,g=v.then(uy))}return g}return Oi.forEach((f,g)=>{const v=[];f.templateUrl&&v.push(d(f.templateUrl).then(ie=>{f.template=ie}));const I=f.styleUrls,S=f.styles||(f.styles=[]),N=f.styles.length;I&&I.forEach((ie,de)=>{S.push(""),v.push(d(ie).then(De=>{S[N+de]=De,I.splice(I.indexOf(ie),1),0==I.length&&(f.styleUrls=void 0)}))});const H=Promise.all(v).then(()=>function Mf(o){qs.delete(o)}(g));a.push(H)}),Tf(),Promise.all(a).then(()=>{})}let Oi=new Map;const qs=new Set;function Wd(o){return!!(o.templateUrl&&!o.hasOwnProperty("template")||o.styleUrls&&o.styleUrls.length)}function Tf(){const o=Oi;return Oi=new Map,o}function uy(o){return"string"==typeof o?o:o.text()}const Gd=new Map;let Jc,eu,Rf,Nm=!0;function Af(o,a){(function Kd(o,a,c){if(a&&a!==c&&Nm)throw new Error(`Duplicate module registered for ${o} - ${j(a)} vs ${j(a.name)}`)})(a,Gd.get(a)||null,o),Gd.set(a,o)}function qd(o){return Gd.get(o)}function dy(o){Nm=!o}function kf(o){Jc=o}function Yd(){return void 0!==Jc?Jc:typeof document<"u"?document:void 0}function Ku(){if(void 0===eu&&(eu=null,nt.trustedTypes))try{eu=nt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return eu}function Ml(o){return Ku()?.createHTML(o)||o}function Zd(){if(void 0===Rf&&(Rf=null,nt.trustedTypes))try{Rf=nt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Rf}function Qd(o){return Zd()?.createHTML(o)||o}function cc(o){return Zd()?.createScript(o)||o}function Qt(o){return Zd()?.createScriptURL(o)||o}class Ys{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class uc extends Ys{getTypeName(){return"HTML"}}class Vm extends Ys{getTypeName(){return"Style"}}class ww extends Ys{getTypeName(){return"Script"}}class Bm extends Ys{getTypeName(){return"URL"}}class Of extends Ys{getTypeName(){return"ResourceURL"}}function vo(o){return o instanceof Ys?o.changingThisBreaksApplicationSecurity:o}function tu(o,a){const c=jm(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}function jm(o){return o instanceof Ys&&o.getTypeName()||null}function fy(o){return new uc(o)}function py(o){return new Vm(o)}function Ew(o){return new ww(o)}function Cw(o){return new Bm(o)}function Iw(o){return new Of(o)}function Um(o){const a=new Dw(o);return function Sw(){try{return!!(new window.DOMParser).parseFromString(Ml(""),"text/html")}catch{return!1}}()?new Hm(a):a}class Hm{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(Ml(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class Dw{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Ml(a),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Ml(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const c=a.attributes;for(let f=c.length-1;0<f;f--){const v=c.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&a.removeAttribute(v)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Le=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ko=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function X(o){return(o=String(o)).match(Le)||o.match(Ko)?o:"unsafe:"+o}function bo(o){return(o=String(o)).split(",").map(a=>X(a.trim())).join(", ")}function qo(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function qu(...o){const a={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const $m=qo("area,br,col,hr,img,wbr"),qi=qo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wo=qo("rp,rt"),Pf=qu($m,qu(qi,qo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qu(wo,qo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),qu(wo,qi)),Zu=qo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xd=qo("srcset"),Wm=qu(Zu,Xd,qo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yy=qo("script,style,template");class ds{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!Pf.hasOwnProperty(c))return this.sanitizedSomething=!0,!yy.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let f=0;f<d.length;f++){const g=d.item(f),v=g.name,I=v.toLowerCase();if(!Wm.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let S=g.value;Zu[I]&&(S=X(S)),Xd[I]&&(S=bo(S)),this.buf.push(" ",v,'="',m(S),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();Pf.hasOwnProperty(c)&&!$m.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(m(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const Jd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/([^\#-~ |!])/g;function m(o){return o.replace(/&/g,"&amp;").replace(Jd,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(b,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _;function E(o,a){let c=null;try{_=_||Um(o);let d=a?String(a):"";c=_.getInertBodyElement(d);let f=5,g=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=g,g=c.innerHTML,c=_.getInertBodyElement(d)}while(d!==g);return Ml((new ds).sanitizeChildren(L(c)||c))}finally{if(c){const d=L(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function L(o){return"content"in o&&function $(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var fe=(()=>((fe=fe||{})[fe.NONE=0]="NONE",fe[fe.HTML=1]="HTML",fe[fe.STYLE=2]="STYLE",fe[fe.SCRIPT=3]="SCRIPT",fe[fe.URL=4]="URL",fe[fe.RESOURCE_URL=5]="RESOURCE_URL",fe))();function Oe(o){const a=dc();return a?Qd(a.sanitize(fe.HTML,o)||""):tu(o,"HTML")?Qd(vo(o)):E(Yd(),xe(o))}function st(o){const a=dc();return a?a.sanitize(fe.STYLE,o)||"":tu(o,"Style")?vo(o):xe(o)}function Je(o){const a=dc();return a?a.sanitize(fe.URL,o)||"":tu(o,"URL")?vo(o):X(xe(o))}function Mt(o){const a=dc();if(a)return Qt(a.sanitize(fe.RESOURCE_URL,o)||"");if(tu(o,"ResourceURL"))return Qt(vo(o));throw new Se(904,!1)}function Wn(o){const a=dc();if(a)return cc(a.sanitize(fe.SCRIPT,o)||"");if(tu(o,"Script"))return cc(vo(o));throw new Se(905,!1)}function Zn(o){return Ml(o[0])}function Or(o){return function Lm(o){return Ku()?.createScriptURL(o)||o}(o[0])}function Qu(o,a,c){return function Al(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?Mt:Je}(a,c)(o)}function dc(){const o=Ve();return o&&o[12]}const hc=new Un("ENVIRONMENT_INITIALIZER"),Xu=new Un("INJECTOR",-1),Ju=new Un("INJECTOR_DEF_TYPES");class ed{get(a,c=tr){if(c===tr){const d=new Error(`NullInjectorError: No provider for ${j(a)}!`);throw d.name="NullInjectorError",d}return c}}function fc(...o){return{\u0275providers:Km(0,o)}}function Km(o,...a){const c=[],d=new Set;let f;return Wo(a,g=>{const v=g;eh(v,c,[],d)&&(f||(f=[]),f.push(v))}),void 0!==f&&nu(f,c),c}function nu(o,a){for(let c=0;c<o.length;c++){const{providers:f}=o[c];Wo(f,g=>{a.push(g)})}}function eh(o,a,c,d){if(!(o=J(o)))return!1;let f=null,g=vs(o);const v=!g&&ae(o);if(g||v){if(v&&!v.standalone)return!1;f=o}else{const S=o.ngModule;if(g=vs(S),!g)return!1;f=S}const I=d.has(f);if(v){if(I)return!1;if(d.add(f),v.dependencies){const S="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const N of S)eh(N,a,c,d)}}else{if(!g)return!1;{if(null!=g.imports&&!I){let N;d.add(f);try{Wo(g.imports,H=>{eh(H,a,c,d)&&(N||(N=[]),N.push(H))})}finally{}void 0!==N&&nu(N,a)}if(!I){const N=Mr(f)||(()=>new f);a.push({provide:f,useFactory:N,deps:ct},{provide:Ju,useValue:f,multi:!0},{provide:hc,useValue:()=>P(f),multi:!0})}const S=g.providers;null==S||I||Wo(S,H=>{a.push(H)})}}return f!==o&&void 0!==o.providers}const by=U({provide:String,useValue:U});function qm(o){return null!==o&&"object"==typeof o&&by in o}function td(o){return"function"==typeof o}const Ey=new Un("Set Injector scope."),nd={},Cy={};let Nf;function th(){return void 0===Nf&&(Nf=new ed),Nf}class iu{}class Tw extends iu{constructor(a,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Iy(a,v=>this.processProvider(v)),this.records.set(Xu,nh(void 0,this)),f.has("environment")&&this.records.set(iu,nh(void 0,this));const g=this.records.get(Ey);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Ju.multi,ct,gt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const c=Go(this),d=cn(void 0);try{return a()}finally{Go(c),cn(d)}}get(a,c=tr,d=gt.Default){this.assertNotDestroyed();const f=Go(this),g=cn(void 0);try{if(!(d&gt.SkipSelf)){let I=this.records.get(a);if(void 0===I){const S=function ox(o){return"function"==typeof o||"object"==typeof o&&o instanceof Un}(a)&&Yn(a);I=S&&this.injectableDefInScope(S)?nh(Zm(a),nd):null,this.records.set(a,I)}if(null!=I)return this.hydrate(a,I)}return(d&gt.Self?th():this.parent).get(a,c=d&gt.Optional&&c===tr?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[Ts]=v[Ts]||[]).unshift(j(a)),f)throw v;return function lt(o,a,c,d){const f=o[Ts];throw a[Sl]&&f.unshift(a[Sl]),o.message=function Pt(o,a,c,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=j(a);if(Array.isArray(a))f=a.map(j).join(" -> ");else if("object"==typeof a){let g=[];for(let v in a)if(a.hasOwnProperty(v)){let I=a[v];g.push(v+":"+("string"==typeof I?JSON.stringify(I):j(I)))}f=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${o.replace(Gu,"\n  ")}`}("\n"+o.message,f,c,d),o.ngTokenPath=f,o[Ts]=null,o}(v,a,"R3InjectorError",this.source)}throw v}finally{cn(g),Go(f)}}resolveInjectorInitializers(){const a=Go(this),c=cn(void 0);try{const d=this.get(hc.multi,ct,gt.Self);for(const f of d)f()}finally{Go(a),cn(c)}}toString(){const a=[],c=this.records;for(const d of c.keys())a.push(j(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processProvider(a){let c=td(a=J(a))?a:J(a&&a.provide);const d=function ix(o){return qm(o)?nh(void 0,o.useValue):nh(xw(o),nd)}(a);if(td(a)||!0!==a.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=nh(void 0,nd,!0),f.factory=()=>ve(f.multi),this.records.set(c,f)),c=a,f.multi.push(a)}this.records.set(c,d)}hydrate(a,c){return c.value===nd&&(c.value=Cy,c.value=c.factory()),"object"==typeof c.value&&c.value&&function sx(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=J(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Zm(o){const a=Yn(o),c=null!==a?a.factory:Mr(o);if(null!==c)return c;if(o instanceof Un)throw new Se(204,!1);if(o instanceof Function)return function Qm(o){const a=o.length;if(a>0)throw Cl(a,"?"),new Se(204,!1);const c=function Sn(o){const a=o&&(o[Di]||o[We]);if(a){const c=function Vn(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Se(204,!1)}function xw(o,a,c){let d;if(td(o)){const f=J(o);return Mr(f)||Zm(f)}if(qm(o))d=()=>J(o.useValue);else if(function Ym(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...ve(o.deps||[]));else if(function wy(o){return!(!o||!o.useExisting)}(o))d=()=>P(J(o.useExisting));else{const f=J(o&&(o.useClass||o.provide));if(!function rx(o){return!!o.deps}(o))return Mr(f)||Zm(f);d=()=>new f(...ve(o.deps))}return d}function nh(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function ax(o){return!!o.\u0275providers}function Iy(o,a){for(const c of o)Array.isArray(c)?Iy(c,a):ax(c)?Iy(c.\u0275providers,a):a(c)}class Mw{}class Xm{}class Sy{resolveComponentFactory(a){throw function Jm(o){const a=Error(`No component factory found for ${j(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let Ff=(()=>{class o{}return o.NULL=new Sy,o})();function cx(){return ih(zn(),Ve())}function ih(o,a){return new rh(ii(o,a))}let rh=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=cx,o})();function Aw(o){return o instanceof rh?o.nativeElement:o}class Ty{}let kw=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function NN(){const o=Ve(),c=Fi(zn().index,o);return(Ri(c)?c:o)[11]}(),o})(),Rw=(()=>{class o{}return o.\u0275prov=Ln({token:o,providedIn:"root",factory:()=>null}),o})();class dx{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const hx=new dx("14.1.0"),sh={},fx={name:"custom-elements"},Ow={name:"no-errors-schema"};let eg=!1;function px(o){eg=o}function Pw(){return eg}let Lf=!1;function oh(o){Lf=o}function FN(){return Lf}const Vw="ngOriginalError";function Bw(o){return o[Vw]}class tg{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&Bw(a);for(;c&&Bw(c);)c=Bw(c);return c||null}}const UN=/^>|^->|<!--|-->|--!>|<!-$/g,ah=/(<|>)/;const Uw=new Map;let Ay=0;function Hw(o){return Uw.get(o)||null}class $w{constructor(a,c,d){this.lViewId=a,this.nodeIndex=c,this.native=d}get lView(){return Hw(this.lViewId)}}function Ms(o){let a=ng(o);if(a){if(Ri(a)){const c=a;let d,f,g;if(function $N(o){return o&&o.constructor&&o.constructor.\u0275cmp}(o)){if(d=wx(c,o),-1==d)throw new Error("The provided component was not found in the application");f=o}else if(function zN(o){return o&&o.constructor&&o.constructor.\u0275dir}(o)){if(d=function GN(o,a){let c=o[1].firstChild;for(;c;){const f=c.directiveEnd;for(let g=c.directiveStart;g<f;g++)if(o[g]===a)return c.index;c=WN(c)}return-1}(c,o),-1==d)throw new Error("The provided directive was not found in the application");g=qw(d,c,!1)}else if(d=Kw(c,o),-1==d)return null;const v=ni(c[d]),I=ng(v),S=I&&!Array.isArray(I)?I:ky(c,d,v);if(f&&void 0===S.component&&(S.component=f,Zs(S.component,S)),g&&void 0===S.directives){S.directives=g;for(let N=0;N<g.length;N++)Zs(g[N],S)}Zs(S.native,S),a=S}}else{const c=o;let d=c;for(;d=d.parentNode;){const f=ng(d);if(f){const g=Array.isArray(f)?f:f.lView;if(!g)return null;const v=Kw(g,c);if(v>=0){const I=ni(g[v]),S=ky(g,v,I);Zs(I,S),a=S;break}}}}return a||null}function ky(o,a,c){return new $w(o[20],a,c)}function zw(o){let c,a=ng(o);if(Ri(a)){const d=a,f=wx(d,o);c=Fi(f,d);const g=ky(d,f,c[0]);g.component=o,Zs(o,g),Zs(g.native,g)}else c=Fi(a.nodeIndex,a.lView);return c}const Ww="__ngContext__";function Zs(o,a){Ri(a)?(o[Ww]=a[20],function vx(o){Uw.set(o[20],o)}(a)):o[Ww]=a}function ng(o){const a=o[Ww];return"number"==typeof a?Hw(a):a||null}function Gw(o){const a=ng(o);return a?Ri(a)?a:a.lView:null}function Kw(o,a){const c=o[1];for(let d=22;d<c.bindingStartIndex;d++)if(ni(o[d])===a)return d;return-1}function WN(o){if(o.child)return o.child;if(o.next)return o.next;for(;o.parent&&!o.parent.next;)o=o.parent;return o.parent&&o.parent.next}function wx(o,a){const c=o[1].components;if(c)for(let d=0;d<c.length;d++){const f=c[d];if(Fi(f,o)[8]===a)return f}else if(Fi(22,o)[8]===a)return 22;return-1}function qw(o,a,c){const d=a[1].data[o];let f=d.directiveStart;return 0==f?ct:(!c&&2&d.flags&&f++,a.slice(f,d.directiveEnd))}const YN=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(nt))();function Ex(o){return o.ownerDocument.defaultView}function Cx(o){return o.ownerDocument}function Ix(o){return o.ownerDocument.body}function ru(o){return o instanceof Function?o():o}var pc=(()=>((pc=pc||{})[pc.Important=1]="Important",pc[pc.DashCase=2]="DashCase",pc))();let Yw;function Zw(o,a){return Yw(o,a)}function ig(o){const a=o[3];return ji(a)?a[3]:a}function Tx(o){return function eF(o){let a=Ri(o)?o:Gw(o);for(;a&&!(256&a[2]);)a=ig(a);return a}(o)[8]}function Qw(o){return xx(o[13])}function Xw(o){return xx(o[4])}function xx(o){for(;null!==o&&!ji(o);)o=o[4];return o}function Bf(o,a,c,d,f){if(null!=d){let g,v=!1;ji(d)?g=d:Ri(d)&&(v=!0,d=d[0]);const I=ni(d);0===o&&null!==c?null==f?Cr(a,c,I):mc(a,c,I,f||null,!0):1===o&&null!==c?mc(a,c,I,f||null,!0):2===o?Nx(a,I,v):3===o&&a.destroyNode(I),null!=g&&function Fx(o,a,c,d,f){const g=c[7];g!==ni(c)&&Bf(a,o,d,g,f);for(let I=10;I<c.length;I++){const S=c[I];id(S[1],S,o,a,d,g)}}(a,o,g,c,f)}}function Jw(o,a){return o.createText(a)}function Mx(o,a,c){o.setValue(a,c)}function nF(o,a){return o.createComment(function My(o){return o.replace(UN,a=>a.replace(ah,"\u200b$1\u200b"))}(a))}function eE(o,a,c){return o.createElement(a,c)}function kx(o,a){const c=o[9],d=c.indexOf(a),f=a[3];512&a[2]&&(a[2]&=-513,Pe(f,-1)),c.splice(d,1)}function tE(o,a){if(o.length<=10)return;const c=10+a,d=o[c];if(d){const f=d[17];null!==f&&f!==o&&kx(f,d),a>0&&(o[c-1][4]=d[4]);const g=El(o,10+a);!function iF(o,a){id(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Rx(o,a){if(!(128&a[2])){const c=a[11];c.destroyNode&&id(o,a,c,3,null,null),function oF(o){let a=o[13];if(!a)return Ry(o[1],o);for(;a;){let c=null;if(Ri(a))c=a[13];else{const d=a[10];d&&(c=d)}if(!c){for(;a&&!a[4]&&a!==o;)Ri(a)&&Ry(a[1],a),a=a[3];null===a&&(a=o),Ri(a)&&Ry(a[1],a),c=a&&a[4]}a=c}}(a)}}function Ry(o,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function rg(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const f=a[c[d]];if(!(f instanceof ma)){const g=c[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const I=f[g[v]],S=g[v+1];wn(4,I,S);try{S.call(I)}finally{wn(5,I,S)}}else{wn(4,f,g);try{g.call(f)}finally{wn(5,f,g)}}}}}(o,a),function Ca(o,a){const c=o.cleanup,d=a[7];let f=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+1],I="function"==typeof v?v(a):ni(a[v]),S=d[f=c[g+2]],N=c[g+3];"boolean"==typeof N?I.removeEventListener(c[g],S,N):N>=0?d[f=N]():d[f=-N].unsubscribe(),g+=2}else{const v=d[f=c[g+1]];c[g].call(v)}if(null!==d){for(let g=f+1;g<d.length;g++)(0,d[g])();a[7]=null}}(o,a),1===a[1].type&&a[11].destroy();const c=a[17];if(null!==c&&ji(a[3])){c!==a[3]&&kx(c,a);const d=a[19];null!==d&&d.detachView(o)}!function bx(o){Uw.delete(o[20])}(a)}}function Oy(o,a,c){return Py(o,a.parent,c)}function Py(o,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[0];if(2&d.flags){const f=o.data[d.directiveStart].encapsulation;if(f===Xt.None||f===Xt.Emulated)return null}return ii(d,c)}function mc(o,a,c,d,f){o.insertBefore(a,c,d,f)}function Cr(o,a,c){o.appendChild(a,c)}function jf(o,a,c,d,f){null!==d?mc(o,a,c,d,f):Cr(o,a,c)}function ch(o,a){return o.parentNode(a)}function sg(o,a,c){return ag(o,a,c)}function og(o,a,c){return 40&o.type?ii(o,c):null}let Uf,ag=og;function su(o,a){ag=o,Uf=a}function lg(o,a,c,d){const f=Oy(o,d,a),g=a[11],I=sg(d.parent||a[6],d,a);if(null!=f)if(Array.isArray(c))for(let S=0;S<c.length;S++)jf(g,f,c[S],I,!1);else jf(g,f,c,I,!1);void 0!==Uf&&Uf(g,d,a,c,f)}function gc(o,a){if(null!==a){const c=a.type;if(3&c)return ii(a,o);if(4&c)return iE(-1,o[a.index]);if(8&c){const d=a.child;if(null!==d)return gc(o,d);{const f=o[a.index];return ji(f)?iE(-1,f):ni(f)}}if(32&c)return Zw(a,o)()||ni(o[a.index]);{const d=Px(o,a);return null!==d?Array.isArray(d)?d[0]:gc(ig(o[16]),d):gc(o,a.next)}}return null}function Px(o,a){return null!==a?o[16][6].projection[a.projection]:null}function iE(o,a){const c=10+o+1;if(c<a.length){const d=a[c],f=d[1].firstChild;if(null!==f)return gc(d,f)}return a[7]}function Nx(o,a,c){const d=ch(o,a);d&&function Ox(o,a,c,d){o.removeChild(a,c,d)}(o,d,a,c)}function rE(o,a,c,d,f,g,v){for(;null!=c;){const I=d[c.index],S=c.type;if(v&&0===a&&(I&&Zs(ni(I),d),c.flags|=4),64!=(64&c.flags))if(8&S)rE(o,a,c.child,d,f,g,!1),Bf(a,o,f,I,g);else if(32&S){const N=Zw(c,d);let H;for(;H=N();)Bf(a,o,f,H,g);Bf(a,o,f,I,g)}else 16&S?Ly(o,a,d,c,f,g):Bf(a,o,f,I,g);c=v?c.projectionNext:c.next}}function id(o,a,c,d,f,g){rE(c,d,o.firstChild,a,f,g,!1)}function Ly(o,a,c,d,f,g){const v=c[16],S=v[6].projection[d.projection];if(Array.isArray(S))for(let N=0;N<S.length;N++)Bf(a,o,f,S[N],g);else rE(o,a,S,v[3],f,g,!0)}function sE(o,a,c){o.setAttribute(a,"style",c)}function Vy(o,a,c){""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c)}function By(o,a,c){let d=o.length;for(;;){const f=o.indexOf(a,c);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const g=a.length;if(f+g===d||o.charCodeAt(f+g)<=32)return f}c=f+1}}const oE="ng-template";function Vx(o,a,c){let d=0;for(;d<o.length;){let f=o[d++];if(c&&"class"===f){if(f=o[d],-1!==By(f.toLowerCase(),a,0))return!0}else if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function aE(o){return 4===o.type&&o.value!==oE}function Bx(o,a,c){return a===(4!==o.type||c?o.value:oE)}function jx(o,a,c){let d=4;const f=o.attrs||[],g=function $x(o){for(let a=0;a<o.length;a++)if(Ql(o[a]))return a;return o.length}(f);let v=!1;for(let I=0;I<a.length;I++){const S=a[I];if("number"!=typeof S){if(!v)if(4&d){if(d=2|1&d,""!==S&&!Bx(o,S,c)||""===S&&1===a.length){if(Ka(d))return!1;v=!0}}else{const N=8&d?S:a[++I];if(8&d&&null!==o.attrs){if(!Vx(o.attrs,N,c)){if(Ka(d))return!1;v=!0}continue}const ie=Ux(8&d?"class":S,f,aE(o),c);if(-1===ie){if(Ka(d))return!1;v=!0;continue}if(""!==N){let de;de=ie>g?"":f[ie+1].toLowerCase();const De=8&d?de:null;if(De&&-1!==By(De,N,0)||2&d&&N!==de){if(Ka(d))return!1;v=!0}}}}else{if(!v&&!Ka(d)&&!Ka(S))return!1;if(v&&Ka(S))continue;v=!1,d=S|1&d}}return Ka(d)||v}function Ka(o){return 0==(1&o)}function Ux(o,a,c,d){if(null===a)return-1;let f=0;if(d||!c){let g=!1;for(;f<a.length;){const v=a[f];if(v===o)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let I=a[++f];for(;"string"==typeof I;)I=a[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function zx(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,o)}function lE(o,a,c=!1){for(let d=0;d<a.length;d++)if(jx(o,a[d],c))return!0;return!1}function Wx(o,a){e:for(let c=0;c<a.length;c++){const d=a[c];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function cE(o,a){return o?":not("+a.trim()+")":a}function Gx(o){let a=o[0],c=1,d=2,f="",g=!1;for(;c<o.length;){let v=o[c];if("string"==typeof v)if(2&d){const I=o[++c];f+="["+v+(I.length>0?'="'+I+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!Ka(v)&&(a+=cE(g,f),f=""),d=v,g=g||!Ka(d);c++}return""!==f&&(a+=cE(g,f)),a}const sn={};function uE(o){jy(Yt(),Ve(),Ki()+o,!1)}function jy(o,a,c,d){if(!d)if(3==(3&a[2])){const g=o.preOrderCheckHooks;null!==g&&pl(a,g,c)}else{const g=o.preOrderHooks;null!==g&&go(a,g,0,c)}Is(c)}const Uy={\u0275\u0275defineInjectable:Ln,\u0275\u0275defineInjector:Zi,\u0275\u0275inject:P,\u0275\u0275invalidFactoryDep:W,resolveForwardRef:J};const Zx=U({provide:String,useValue:U});function Hy(o){return void 0!==o.useClass}function dE(o){return void 0!==o.useFactory}const eM=va("Injectable",void 0,void 0,void 0,(o,a)=>function Yx(o,a){let c=null,d=null;o.hasOwnProperty(Di)||Object.defineProperty(o,Di,{get:()=>(null===c&&(c=Ti().compileInjectable(Uy,`ng:///${o.name}/\u0275prov.js`,function Jx(o,a){const c=a||{providedIn:null},d={name:o.name,type:o,typeArgumentCount:0,providedIn:c.providedIn};return(Hy(c)||dE(c))&&void 0!==c.deps&&(d.deps=Ga(c.deps)),Hy(c)?d.useClass=c.useClass:function Qx(o){return Zx in o}(c)?d.useValue=c.useValue:dE(c)?d.useFactory=c.useFactory:function Xx(o){return void 0!==o.useExisting}(c)&&(d.useExisting=c.useExisting),d}(o,a))),c)}),o.hasOwnProperty(Jn)||Object.defineProperty(o,Jn,{get:()=>{if(null===d){const f=Ti();d=f.compileFactory(Uy,`ng:///${o.name}/\u0275fac.js`,{name:o.name,type:o,typeArgumentCount:0,deps:Ea(o),target:f.FactoryTarget.Injectable})}return d},configurable:!0})}(o,a));function $y(o,a=null,c=null,d){const f=hE(o,a,c,d);return f.resolveInjectorInitializers(),f}function hE(o,a=null,c=null,d,f=new Set){const g=[c||ct,fc(o)];return d=d||("object"==typeof o?void 0:j(o)),new Tw(g,a||th(),d||null,f)}let ou=(()=>{class o{static create(c,d){if(Array.isArray(c))return $y({name:""},d,c,"");{const f=c.name??"";return $y({name:f},c.parent,c.providers,f)}}}return o.THROW_IF_NOT_FOUND=tr,o.NULL=new ed,o.\u0275prov=Ln({token:o,providedIn:"any",factory:()=>P(Xu)}),o.__NG_ELEMENT_ID__=-1,o})();function zy(o){return o.length>1?" ("+function fE(o){const a=[];for(let c=0;c<o.length;++c){if(a.indexOf(o[c])>-1)return a.push(o[c]),a;a.push(o[c])}return a}(o.slice().reverse()).map(d=>j(d.token)).join(" -> ")+")":""}function Hf(o,a,c,d){const f=[a],g=c(f),v=d?function jN(o,a){const c=`${o} caused by: ${a instanceof Error?a.message:a}`,d=Error(c);return d[Vw]=a,d}(g,d):Error(g);return v.addKey=tM,v.keys=f,v.injectors=[o],v.constructResolvingMessage=c,v[Vw]=d,v}function tM(o,a){this.injectors.push(o),this.keys.push(a),this.message=this.constructResolvingMessage(this.keys)}function cg(o,a){const c=[];for(let d=0,f=a.length;d<f;d++){const g=a[d];c.push(g&&0!=g.length?g.map(j).join(" "):"?")}return Error("Cannot resolve all parameters for '"+j(o)+"'("+c.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+j(o)+"' is decorated with Injectable.")}function cF(o,a){return Error(`Cannot mix multi providers and regular providers, got: ${o} ${a}`)}class Co{constructor(a,c){if(this.token=a,this.id=c,!a)throw new Se(208,!1);this.displayName=j(this.token)}static get(a){return Wy.get(J(a))}static get numberOfKeys(){return Wy.numberOfKeys}}class pE{constructor(){this._allKeys=new Map}get(a){if(a instanceof Co)return a;if(this._allKeys.has(a))return this._allKeys.get(a);const c=new Co(a,Co.numberOfKeys);return this._allKeys.set(a,c),c}get numberOfKeys(){return this._allKeys.size}}const Wy=new pE;class au{constructor(a,c,d){this.key=a,this.optional=c,this.visibility=d}static fromKey(a){return new au(a,!1,null)}}const sM=[];class rd{constructor(a,c,d){this.key=a,this.resolvedFactories=c,this.multiProvider=d,this.resolvedFactory=this.resolvedFactories[0]}}class $f{constructor(a,c){this.factory=a,this.dependencies=c}}function sd(o){let a,c;if(o.useClass){const d=J(o.useClass);a=yo().factory(d),c=lM(d)}else o.useExisting?(a=d=>d,c=[au.fromKey(Co.get(o.useExisting))]):o.useFactory?(a=o.useFactory,c=function aM(o,a){if(a){const c=a.map(d=>[d]);return a.map(d=>_c(o,d,c))}return lM(o)}(o.useFactory,o.deps)):(a=()=>o.useValue,c=sM);return new $f(a,c)}function oM(o){return new rd(Co.get(o.provide),[sd(o)],o.multi||!1)}function uF(o){const d=function Gy(o,a){for(let c=0;c<o.length;c++){const d=o[c],f=a.get(d.key.id);if(f){if(d.multiProvider!==f.multiProvider)throw cF(f,d);if(d.multiProvider)for(let g=0;g<d.resolvedFactories.length;g++)f.resolvedFactories.push(d.resolvedFactories[g]);else a.set(d.key.id,d)}else{let g;g=d.multiProvider?new rd(d.key,d.resolvedFactories.slice(),d.multiProvider):d,a.set(d.key.id,g)}}return a}(mE(o,[]).map(oM),new Map);return Array.from(d.values())}function mE(o,a){return o.forEach(c=>{if(c instanceof Yc)a.push({provide:c,useClass:c});else if(c&&"object"==typeof c&&void 0!==c.provide)a.push(c);else{if(!Array.isArray(c))throw function rM(o){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${o}`)}(c);mE(c,a)}}),a}function lM(o){const a=yo().parameters(o);if(!a)return[];if(a.some(c=>null==c))throw cg(o,a);return a.map(c=>_c(o,c,a))}function _c(o,a,c){let d=null,f=!1;if(!Array.isArray(a))return zf(a instanceof Lt?a.token:a,f,null);let g=null;for(let v=0;v<a.length;++v){const I=a[v];I instanceof Yc?d=I:I instanceof Lt?d=I.token:I instanceof Zt?f=!0:I instanceof Nt||I instanceof Ci?g=I:I instanceof Un&&(d=I)}if(d=J(d),null!=d)return zf(d,f,g);throw cg(o,c)}function zf(o,a,c){return new au(Co.get(o),a,c)}const hs={};class Wf{static resolve(a){return uF(a)}static resolveAndCreate(a,c){const d=Wf.resolve(a);return Wf.fromResolvedProviders(d,c)}static fromResolvedProviders(a,c){return new dF(a,c)}}let dF=(()=>{class o{constructor(c,d){this._constructionCounter=0,this._providers=c,this.parent=d||null;const f=c.length;this.keyIds=[],this.objs=[];for(let g=0;g<f;g++)this.keyIds[g]=c[g].key.id,this.objs[g]=hs}get(c,d=tr){return this._getByKey(Co.get(c),null,d)}resolveAndCreateChild(c){const d=Wf.resolve(c);return this.createChildFromResolved(d)}createChildFromResolved(c){const d=new o(c);return d.parent=this,d}resolveAndInstantiate(c){return this.instantiateResolved(Wf.resolve([c])[0])}instantiateResolved(c){return this._instantiateProvider(c)}getProviderAtIndex(c){if(c<0||c>=this._providers.length)throw function Eo(o){return Error(`Index ${o} is out-of-bounds.`)}(c);return this._providers[c]}_new(c){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function iM(o,a){return Hf(o,a,function(c){return`Cannot instantiate cyclic dependency!${zy(c)}`})}(this,c.key);return this._instantiateProvider(c)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(c){if(c.multiProvider){const d=[];for(let f=0;f<c.resolvedFactories.length;++f)d[f]=this._instantiate(c,c.resolvedFactories[f]);return d}return this._instantiate(c,c.resolvedFactories[0])}_instantiate(c,d){const f=d.factory;let g,v;try{g=d.dependencies.map(I=>this._getByReflectiveDependency(I))}catch(I){throw I.addKey&&I.addKey(this,c.key),I}try{v=f(...g)}catch(I){throw function uh(o,a,c,d){return Hf(o,d,function(f){const g=j(f[0].token);return`${a.message}: Error during instantiation of ${g}!${zy(f)}.`},a)}(this,I,0,c.key)}return v}_getByReflectiveDependency(c){return this._getByKey(c.key,c.visibility,c.optional?null:tr)}_getByKey(c,d,f){return c===o.INJECTOR_KEY?this:d instanceof Nt?this._getByKeySelf(c,f):this._getByKeyDefault(c,f,d)}_getObjByKeyId(c){for(let d=0;d<this.keyIds.length;d++)if(this.keyIds[d]===c)return this.objs[d]===hs&&(this.objs[d]=this._new(this._providers[d])),this.objs[d];return hs}_throwOrNull(c,d){if(d!==tr)return d;throw function nM(o,a){return Hf(o,a,function(c){return`No provider for ${j(c[0].token)}!${zy(c)}`})}(this,c)}_getByKeySelf(c,d){const f=this._getObjByKeyId(c.id);return f!==hs?f:this._throwOrNull(c,d)}_getByKeyDefault(c,d,f){let g;for(g=f instanceof Ci?this.parent:this;g instanceof o;){const v=g,I=v._getObjByKeyId(c.id);if(I!==hs)return I;g=v.parent}return null!==g?g.get(c.token,d):this._throwOrNull(c,d)}get displayName(){return`ReflectiveInjector(providers: [${function gE(o,a){const c=[];for(let d=0;d<o._providers.length;++d)c[d]=a(o.getProviderAtIndex(d));return c}(this,d=>' "'+d.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return o.INJECTOR_KEY=Co.get(ou),o})();function Gf(o,a=gt.Default){const c=Ve();return null===c?P(o,a):zc(zn(),c,J(o),a)}function Ky(){throw new Error("invalid")}function ug(o,a){return o<<17|a<<2}function qa(o){return o>>17&32767}function Kf(o){return 2|o}function yc(o){return(131068&o)>>2}function qy(o,a){return-131069&o|a<<2}function dg(o){return 1|o}const TE=(()=>Promise.resolve(null))();function _M(o,a){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],g=c[d+1];if(-1!==g){const v=o.data[g];Ws(f),v.contentQueries(2,a[g],g)}}}function Yy(o,a,c,d,f,g,v,I,S,N,H){const ie=a.blueprint.slice();return ie[0]=f,ie[2]=76|d,(null!==H||o&&1024&o[2])&&(ie[2]|=1024),_e(ie),ie[3]=ie[15]=o,ie[8]=c,ie[10]=v||o&&o[10],ie[11]=I||o&&o[11],ie[12]=S||o&&o[12]||null,ie[9]=N||o&&o[9]||null,ie[6]=g,ie[20]=function yx(){return Ay++}(),ie[21]=H,ie[16]=2==a.type?o[16]:ie,ie}function dh(o,a,c,d,f){let g=o.data[a];if(null===g)g=Zy(o,a,c,d,f),function ul(){return Ie.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=d,g.attrs=f;const v=jr();g.injectorIndex=null===v?-1:v.injectorIndex}return Ur(g,!0),g}function Zy(o,a,c,d,f){const g=uo(),v=ho(),S=o.data[a]=function xF(o,a,c,d,f,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,a,d,f);return null===o.firstChild&&(o.firstChild=S),null!==g&&(v?null==g.child&&null!==S.parent&&(g.child=S):null===g.next&&(g.next=S)),S}function Yf(o,a,c,d){if(0===c)return-1;const f=a.length;for(let g=0;g<c;g++)a.push(d),o.blueprint.push(d),o.data.push(null);return f}function Qy(o,a,c){jo(a);try{const d=o.viewQuery;null!==d&&pg(1,d,c);const f=o.template;null!==f&&yM(o,a,f,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&_M(o,a),o.staticViewQueries&&pg(2,o.viewQuery,c);const g=o.components;null!==g&&function IF(o,a){for(let c=0;c<a.length;c++)zF(o,a[c])}(a,g)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,pa()}}function fg(o,a,c,d){const f=a[2];if(128!=(128&f)){jo(a);try{_e(a),Bo(o.bindingStartIndex),null!==c&&yM(o,a,c,2,d);const v=3==(3&f);if(v){const N=o.preOrderCheckHooks;null!==N&&pl(a,N,null)}else{const N=o.preOrderHooks;null!==N&&go(a,N,0,null),ml(a,0)}if(function HF(o){for(let a=Qw(o);null!==a;a=Xw(a)){if(!a[2])continue;const c=a[9];for(let d=0;d<c.length;d++){const f=c[d],g=f[3];0==(512&f[2])&&Pe(g,1),f[2]|=512}}}(a),function UF(o){for(let a=Qw(o);null!==a;a=Xw(a))for(let c=10;c<a.length;c++){const d=a[c],f=d[1];z(d)&&fg(f,d,f.template,d[8])}}(a),null!==o.contentQueries&&_M(o,a),v){const N=o.contentCheckHooks;null!==N&&pl(a,N)}else{const N=o.contentHooks;null!==N&&go(a,N,1),ml(a,1)}!function EF(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)Is(~f);else{const g=f,v=c[++d],I=c[++d];Pa(v,g),I(2,a[g])}}}finally{Is(-1)}}(o,a);const I=o.components;null!==I&&function CF(o,a){for(let c=0;c<a.length;c++)$F(o,a[c])}(a,I);const S=o.viewQuery;if(null!==S&&pg(2,S,d),v){const N=o.viewCheckHooks;null!==N&&pl(a,N)}else{const N=o.viewHooks;null!==N&&go(a,N,2),ml(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,Pe(a[3],-1))}finally{pa()}}}function DF(o,a,c,d){const f=a[10],v=R(a);try{!v&&f.begin&&f.begin(),v&&Qy(o,a,d),fg(o,a,c,d)}finally{!v&&f.end&&f.end()}}function yM(o,a,c,d,f){const g=Ki(),v=2&d;try{Is(-1),v&&a.length>22&&jy(o,a,22,!1),wn(v?2:0,f),c(d,f)}finally{Is(g),wn(v?3:1,f)}}function vM(o,a,c){if(xr(a)){const f=a.directiveEnd;for(let g=a.directiveStart;g<f;g++){const v=o.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function xE(o,a,c){!mi()||(function OF(o,a,c,d){const f=c.directiveStart,g=c.directiveEnd;o.firstCreatePass||ya(c,a),Zs(d,a);const v=c.initialInputs;for(let I=f;I<g;I++){const S=o.data[I],N=Gi(S);N&&VF(a,c,S);const H=Jl(a,o,I,c);Zs(H,a),null!==v&&BF(0,I-f,H,S,0,v),N&&(Fi(c.index,a)[8]=H)}}(o,a,c,ii(c,a)),128==(128&c.flags)&&function PF(o,a,c){const d=c.directiveStart,f=c.directiveEnd,g=c.index,v=function Nu(){return Ie.lFrame.currentDirectiveIndex}();try{Is(g);for(let I=d;I<f;I++){const S=o.data[I],N=a[I];fa(I),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&SM(S,N)}}finally{Is(-1),fa(v)}}(o,a,c))}function ME(o,a,c=ii){const d=a.localNames;if(null!==d){let f=a.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],I=-1===v?c(a,o):o[v];o[f++]=I}}}function bM(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=AE(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function AE(o,a,c,d,f,g,v,I,S,N){const H=22+d,ie=H+f,de=function SF(o,a){const c=[];for(let d=0;d<a;d++)c.push(d<o?null:sn);return c}(H,ie),De="function"==typeof N?N():N;return de[1]={type:o,blueprint:de,template:c,queries:null,viewQuery:I,declTNode:a,data:de.slice().fill(null,H),bindingStartIndex:H,expandoStartIndex:ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:S,consts:De,incompleteFirstPass:!1}}function wM(o,a,c,d){const f=xi(a);null===c?f.push(d):(f.push(c),o.firstCreatePass&&wc(o).push(d,f.length-1))}function EM(o,a,c){for(let d in o)if(o.hasOwnProperty(d)){const f=o[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(a,f):c[d]=[a,f]}return c}function CM(o,a){const d=a.directiveEnd,f=o.data,g=a.attrs,v=[];let I=null,S=null;for(let N=a.directiveStart;N<d;N++){const H=f[N],ie=H.inputs,de=null===g||aE(a)?null:jF(ie,g);v.push(de),I=EM(ie,N,I),S=EM(H.outputs,N,S)}null!==I&&(I.hasOwnProperty("class")&&(a.flags|=16),I.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=v,a.inputs=I,a.outputs=S}function Ia(o,a,c,d,f,g,v,I){const S=ii(a,c);let H,N=a.inputs;!I&&null!=N&&(H=N[d])?(nr(o,c,H,d,f),$t(a)&&IM(c,a.index)):3&a.type&&(d=function MF(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=v?v(f,a.value||"",d):f,g.setProperty(S,d,f))}function IM(o,a){const c=Fi(a,o);16&c[2]||(c[2]|=32)}function kE(o,a,c,d){let f=!1;if(mi()){const g=function NF(o,a,c){const d=o.directiveRegistry;let f=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];lE(c,v.selectors,!1)&&(f||(f=[]),$c(ya(c,a),o,v.type),Gi(v)?(TM(o,c),f.unshift(v)):f.push(v))}return f}(o,a,c),v=null===d?null:{"":-1};if(null!==g){f=!0,xM(c,o.data.length,g.length);for(let H=0;H<g.length;H++){const ie=g[H];ie.providersResolver&&ie.providersResolver(ie)}let I=!1,S=!1,N=Yf(o,a,g.length,null);for(let H=0;H<g.length;H++){const ie=g[H];c.mergedAttrs=ga(c.mergedAttrs,ie.hostAttrs),MM(o,c,a,N,ie),LF(N,ie,v),null!==ie.contentQueries&&(c.flags|=8),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(c.flags|=128);const de=ie.type.prototype;!I&&(de.ngOnChanges||de.ngOnInit||de.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),I=!0),!S&&(de.ngOnChanges||de.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),S=!0),N++}CM(o,c)}v&&function FF(o,a,c){if(a){const d=o.localNames=[];for(let f=0;f<a.length;f+=2){const g=c[a[f+1]];if(null==g)throw new Se(-301,!1);d.push(a[f],g)}}}(c,d,v)}return c.mergedAttrs=ga(c.mergedAttrs,c.attrs),f}function DM(o,a,c,d,f,g){const v=g.hostBindings;if(v){let I=o.hostBindingOpCodes;null===I&&(I=o.hostBindingOpCodes=[]);const S=~a.index;(function RF(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(I)!=S&&I.push(S),I.push(d,f,v)}}function SM(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function TM(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function LF(o,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=o;Gi(a)&&(c[""]=o)}}function xM(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}function MM(o,a,c,d,f){o.data[d]=f;const g=f.factory||(f.factory=Mr(f.type)),v=new ma(g,Gi(f),Gf);o.blueprint[d]=v,c[d]=v,DM(o,a,0,d,Yf(o,c,f.hostVars,sn),f)}function VF(o,a,c){const d=ii(a,o),f=bM(c),g=o[10],v=Xy(o,Yy(o,f,null,c.onPush?32:16,d,a,g,g.createRenderer(d,c),null,null,null));o[a.index]=v}function vc(o,a,c,d,f,g){const v=ii(o,a);RE(a[11],v,g,o.value,c,d,f)}function RE(o,a,c,d,f,g,v){if(null==g)o.removeAttribute(a,f,c);else{const I=null==v?xe(g):v(g,d||"",f);o.setAttribute(a,f,I,c)}}function BF(o,a,c,d,f,g){const v=g[a];if(null!==v){const I=d.setInput;for(let S=0;S<v.length;){const N=v[S++],H=v[S++],ie=v[S++];null!==I?d.setInput(c,ie,N,H):c[H]=ie}}}function jF(o,a){let c=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,o[f],a[d+1])),d+=2}else d+=2;else d+=4}return c}function AM(o,a,c,d){return new Array(o,!0,!1,a,null,0,d,c,null,null)}function $F(o,a){const c=Fi(a,o);if(z(c)){const d=c[1];48&c[2]?fg(d,c,d.template,c[8]):c[5]>0&&OE(c)}}function OE(o){for(let d=Qw(o);null!==d;d=Xw(d))for(let f=10;f<d.length;f++){const g=d[f];if(512&g[2]){const v=g[1];fg(v,g,v.template,g[8])}else g[5]>0&&OE(g)}const c=o[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=Fi(c[d],o);z(f)&&f[5]>0&&OE(f)}}function zF(o,a){const c=Fi(a,o),d=c[1];(function WF(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(d,c),Qy(d,c,c[8])}function Xy(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function PE(o){for(;o;){o[2]|=32;const a=ig(o);if(pi(o)&&!a)return o;o=a}return null}function kM(o){for(let a=0;a<o.components.length;a++){const c=o.components[a],d=Gw(c);if(null!==d){const f=d[1];DF(f,d,f.template,c)}}}function NE(o,a,c){const d=a[10];d.begin&&d.begin();try{fg(o,a,o.template,c)}catch(f){throw Qf(a,f),f}finally{d.end&&d.end()}}function pg(o,a,c){Ws(0),a(o,c)}const bc=TE;function xi(o){return o[7]||(o[7]=[])}function wc(o){return o.cleanup||(o.cleanup=[])}function VE(o,a,c){return(null===o||Gi(o))&&(c=function da(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(c[a.index])),c[11]}function Qf(o,a){const c=o[9],d=c?c.get(tg,null):null;d&&d.handleError(a)}function nr(o,a,c,d,f){for(let g=0;g<c.length;){const v=c[g++],I=c[g++],S=a[v],N=o.data[v];null!==N.setInput?N.setInput(S,f,d,I):S[I]=f}}function fs(o,a,c){const d=co(a,o);Mx(o[11],d,c)}function ev(o,a,c){let d=c?o.styles:null,f=c?o.classes:null,g=0;if(null!==a)for(let v=0;v<a.length;v++){const I=a[v];"number"==typeof I?g=I:1==g?f=Y(f,I):2==g&&(d=Y(d,I+": "+a[++v]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=f:o.classesWithoutHost=f}function Xf(o,a,c,d,f=!1){for(;null!==c;){const g=a[c.index];if(null!==g&&d.push(ni(g)),ji(g))for(let I=10;I<g.length;I++){const S=g[I],N=S[1].firstChild;null!==N&&Xf(S[1],S,N,d)}const v=c.type;if(8&v)Xf(o,a,c.child,d);else if(32&v){const I=Zw(c,a);let S;for(;S=I();)d.push(S)}else if(16&v){const I=Px(a,c);if(Array.isArray(I))d.push(...I);else{const S=ig(a[16]);Xf(S[1],S,I,d,!0)}}c=f?c.projectionNext:c.next}return d}class hh{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return Xf(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(ji(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(tE(a,d),El(c,d))}this._attachedToViewContainer=!1}Rx(this._lView[1],this._lView)}onDestroy(a){wM(this._lView[1],this._lView,null,a)}markForCheck(){PE(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){NE(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sF(o,a){id(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=a}}class tv extends hh{constructor(a){super(a),this._view=a}detectChanges(){!function FE(o){kM(o[8])}(this._view)}checkNoChanges(){}get context(){return null}}class fh extends Ff{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=ae(a);return new mh(c,this.ngModule)}}function RM(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class ph{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,d){const f=this.injector.get(a,sh,d);return f!==sh||c===sh?f:this.parentInjector.get(a,c,d)}}class mh extends Xm{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function Kx(o){return o.map(Gx).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return RM(this.componentDef.inputs)}get outputs(){return RM(this.componentDef.outputs)}create(a,c,d,f){let g=(f=f||this.ngModule)instanceof iu?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new ph(a,g):a,I=v.get(Ty,null);if(null===I)throw new Se(407,!1);const S=v.get(Rw,null),N=I.createRenderer(null,this.componentDef),H=this.componentDef.selectors[0][0]||"div",ie=d?function TF(o,a,c){return o.selectRootElement(a,c===Xt.ShadowDom)}(N,d,this.componentDef.encapsulation):eE(I.createRenderer(null,this.componentDef),H,function BE(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(H)),de=this.componentDef.onPush?288:272,De=function YF(o,a){return{components:[],scheduler:o||YN,clean:bc,playerHandler:a||null,flags:0}}(),Be=AE(0,null,null,1,0,null,null,null,null,null),Xe=Yy(null,Be,De,de,null,null,I,N,S,v,null);let dt,Et;jo(Xe);try{const zt=function qF(o,a,c,d,f,g){const v=c[1];c[22]=o;const S=dh(v,22,2,"#host",null),N=S.mergedAttrs=a.hostAttrs;null!==N&&(ev(S,N,!0),null!==o&&(ri(f,o,N),null!==S.classes&&Vy(f,o,S.classes),null!==S.styles&&sE(f,o,S.styles)));const H=d.createRenderer(o,a),ie=Yy(c,bM(a),null,a.onPush?32:16,c[22],S,d,H,g||null,null,null);return v.firstCreatePass&&($c(ya(S,c),v,a.type),TM(v,S),xM(S,c.length,1)),Xy(c,ie),c[22]=ie}(ie,this.componentDef,Xe,I,N);if(ie)if(d)ri(N,ie,["ng-version",hx.full]);else{const{attrs:Ge,classes:Bt}=function qx(o){const a=[],c=[];let d=1,f=2;for(;d<o.length;){let g=o[d];if("string"==typeof g)2===f?""!==g&&a.push(g,o[++d]):8===f&&c.push(g);else{if(!Ka(f))break;f=g}d++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);Ge&&ri(N,ie,Ge),Bt&&Bt.length>0&&Vy(N,ie,Bt.join(" "))}if(Et=Lo(Be,22),void 0!==c){const Ge=Et.projection=[];for(let Bt=0;Bt<this.ngContentSelectors.length;Bt++){const Hn=c[Bt];Ge.push(null!=Hn?Array.from(Hn):null)}}dt=function UE(o,a,c,d,f){const g=c[1],v=function kF(o,a,c){const d=zn();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),MM(o,d,a,Yf(o,a,1,null),c),CM(o,d));const f=Jl(a,o,d.directiveStart,d);Zs(f,a);const g=ii(d,a);return g&&Zs(g,a),f}(g,c,a);if(d.components.push(v),o[8]=v,null!==f)for(const S of f)S(v,a);if(a.contentQueries){const S=zn();a.contentQueries(1,v,S.directiveStart)}const I=zn();return!g.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Is(I.index),DM(c[1],I,0,I.directiveStart,I.directiveEnd,a),SM(a,v)),v}(zt,this.componentDef,Xe,De,[NM]),Qy(Be,Xe,null)}finally{pa()}return new jE(this.componentType,dt,ih(Et,Xe),Xe,Et)}}class jE extends Mw{constructor(a,c,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new tv(f),this.componentType=a}setInput(a,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[a])){const g=this._rootLView;nr(g[1],g,f,a,c),IM(g,this._tNode.index)}}get injector(){return new zr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function NM(){const o=zn();Gs(Ve()[1],o)}function HE(o){return Tx(o).clean}function FM(o){return Object.getPrototypeOf(o.prototype).constructor}function nv(o){let a=FM(o.type),c=!0;const d=[o];for(;a;){let f;if(Gi(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Se(903,!1);f=a.\u0275dir}if(f){if(c){d.push(f);const v=o;v.inputs=iv(o.inputs),v.declaredInputs=iv(o.declaredInputs),v.outputs=iv(o.outputs);const I=f.hostBindings;I&&JF(o,I);const S=f.viewQuery,N=f.contentQueries;if(S&&QF(o,S),N&&XF(o,N),G(o.inputs,f.inputs),G(o.declaredInputs,f.declaredInputs),G(o.outputs,f.outputs),Gi(f)&&f.data.animation){const H=o.data;H.animation=(H.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const I=g[v];I&&I.ngInherit&&I(o),I===nv&&(c=!1)}}a=Object.getPrototypeOf(a)}!function ZF(o){let a=0,c=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=a+=f.hostVars,f.hostAttrs=ga(f.hostAttrs,c=ga(c,f.hostAttrs))}}(d)}function iv(o){return o===vi?{}:o===ct?[]:o}function QF(o,a){const c=o.viewQuery;o.viewQuery=c?(d,f)=>{a(d,f),c(d,f)}:a}function XF(o,a){const c=o.contentQueries;o.contentQueries=c?(d,f,g)=>{a(d,f,g),c(d,f,g)}:a}function JF(o,a){const c=o.hostBindings;o.hostBindings=c?(d,f)=>{a(d,f),c(d,f)}:a}const LM=["providersResolver"],eL=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function $E(o){let c,a=FM(o.type);c=Gi(o)?a.\u0275cmp:a.\u0275dir;const d=o;for(const f of LM)d[f]=c[f];if(Gi(c))for(const f of eL)d[f]=c[f]}let rv=null;function gh(){if(!rv){const o=nt.Symbol;if(o&&o.iterator)rv=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const d=a[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(rv=d)}}}return rv}function mg(o){return!!sv(o)&&(Array.isArray(o)||!(o instanceof Map)&&gh()in o)}function sv(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function zE(o,a){const c=mg(o),d=mg(a);return c&&d?function VM(o,a,c){const d=o[gh()](),f=a[gh()]();for(;;){const g=d.next(),v=f.next();if(g.done&&v.done)return!0;if(g.done||v.done||!c(g.value,v.value))return!1}}(o,a,zE):!(c||!o||"object"!=typeof o&&"function"!=typeof o||d||!a||"object"!=typeof a&&"function"!=typeof a)||Object.is(o,a)}function kl(o,a,c){return o[a]=c}function _h(o,a){return o[a]}function Qs(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function yh(o,a,c,d){const f=Qs(o,a,c);return Qs(o,a+1,d)||f}function ov(o,a,c,d,f){const g=yh(o,a,c,d);return Qs(o,a+2,f)||g}function Ya(o,a,c,d,f,g){const v=yh(o,a,c,d);return yh(o,a+2,f,g)||v}function WE(o,a,c,d){const f=Ve();return Qs(f,fo(),a)&&(Yt(),vc(ci(),f,o,a,c,d)),WE}function Jf(o,a){let c=!1,d=ss();for(let g=1;g<a.length;g+=2)c=Qs(o,d++,a[g])||c;if(Bo(d),!c)return sn;let f=a[0];for(let g=1;g<a.length;g+=2)f+=xe(a[g])+a[g+1];return f}function ep(o,a,c,d){return Qs(o,fo(),c)?a+xe(c)+d:sn}function tp(o,a,c,d,f,g){const I=yh(o,ss(),c,f);return Es(2),I?a+xe(c)+d+xe(f)+g:sn}function np(o,a,c,d,f,g,v,I){const N=ov(o,ss(),c,f,v);return Es(3),N?a+xe(c)+d+xe(f)+g+xe(v)+I:sn}function ip(o,a,c,d,f,g,v,I,S,N){const ie=Ya(o,ss(),c,f,v,S);return Es(4),ie?a+xe(c)+d+xe(f)+g+xe(v)+I+xe(S)+N:sn}function rp(o,a,c,d,f,g,v,I,S,N,H,ie){const de=ss();let De=Ya(o,de,c,f,v,S);return De=Qs(o,de+4,H)||De,Es(5),De?a+xe(c)+d+xe(f)+g+xe(v)+I+xe(S)+N+xe(H)+ie:sn}function sp(o,a,c,d,f,g,v,I,S,N,H,ie,de,De){const Be=ss();let Xe=Ya(o,Be,c,f,v,S);return Xe=yh(o,Be+4,H,de)||Xe,Es(6),Xe?a+xe(c)+d+xe(f)+g+xe(v)+I+xe(S)+N+xe(H)+ie+xe(de)+De:sn}function cu(o,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be,Xe){const dt=ss();let Et=Ya(o,dt,c,f,v,S);return Et=ov(o,dt+4,H,de,Be)||Et,Es(7),Et?a+xe(c)+d+xe(f)+g+xe(v)+I+xe(S)+N+xe(H)+ie+xe(de)+De+xe(Be)+Xe:sn}function uu(o,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be,Xe,dt,Et){const zt=ss();let Ge=Ya(o,zt,c,f,v,S);return Ge=Ya(o,zt+4,H,de,Be,dt)||Ge,Es(8),Ge?a+xe(c)+d+xe(f)+g+xe(v)+I+xe(S)+N+xe(H)+ie+xe(de)+De+xe(Be)+Xe+xe(dt)+Et:sn}function av(o,a,c,d,f,g){const v=Ve(),I=ep(v,a,c,d);return I!==sn&&vc(ci(),v,o,I,f,g),av}function lv(o,a,c,d,f,g,v,I){const S=Ve(),N=tp(S,a,c,d,f,g);return N!==sn&&vc(ci(),S,o,N,v,I),lv}function gg(o,a,c,d,f,g,v,I,S,N){const H=Ve(),ie=np(H,a,c,d,f,g,v,I);return ie!==sn&&vc(ci(),H,o,ie,S,N),gg}function du(o,a,c,d,f,g,v,I,S,N,H,ie){const de=Ve(),De=ip(de,a,c,d,f,g,v,I,S,N);return De!==sn&&vc(ci(),de,o,De,H,ie),du}function cv(o,a,c,d,f,g,v,I,S,N,H,ie,de,De){const Be=Ve(),Xe=rp(Be,a,c,d,f,g,v,I,S,N,H,ie);return Xe!==sn&&vc(ci(),Be,o,Xe,de,De),cv}function GE(o,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be,Xe){const dt=Ve(),Et=sp(dt,a,c,d,f,g,v,I,S,N,H,ie,de,De);return Et!==sn&&vc(ci(),dt,o,Et,Be,Xe),GE}function uv(o,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be,Xe,dt,Et){const zt=Ve(),Ge=cu(zt,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be,Xe);return Ge!==sn&&vc(ci(),zt,o,Ge,dt,Et),uv}function KE(o,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be,Xe,dt,Et,zt,Ge){const Bt=Ve(),Hn=uu(Bt,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be,Xe,dt,Et);return Hn!==sn&&vc(ci(),Bt,o,Hn,zt,Ge),KE}function qE(o,a,c,d){const f=Ve(),g=Jf(f,a);return g!==sn&&vc(ci(),f,o,g,c,d),qE}function jM(o){const a=zw(o);NE(a[1],a,o)}function YE(o){!function GF(o,a){if(0===o.flags&&o.clean==TE){let d;o.flags|=a,o.clean=new Promise(f=>d=f),o.scheduler(()=>{if(1&o.flags&&(o.flags&=-2,kM(o)),2&o.flags){o.flags&=-3;const f=o.playerHandler;f&&f.flushPlayers()}o.clean=TE,d(null)})}}(PE(zw(o))[8],1)}function hu(o,a,c,d,f,g,v,I){const S=Ve(),N=Yt(),H=o+22,ie=N.firstCreatePass?function _g(o,a,c,d,f,g,v,I,S){const N=a.consts,H=dh(a,o,4,v||null,q(N,I));kE(a,c,H,q(N,S)),Gs(a,H);const ie=H.tViews=AE(2,H,d,f,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,N);return null!==a.queries&&(a.queries.template(a,H),ie.queries=a.queries.embeddedTView(H)),H}(H,N,S,a,c,d,f,g,v):N.data[H];Ur(ie,!1);const de=S[11].createComment("");lg(N,S,de,ie),Zs(de,S),Xy(S,S[H]=AM(de,S,de,ie)),ro(ie)&&xE(N,S,ie),null!=v&&ME(S,ie,I)}function UM(o,a,c,d){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),a[c]=d}function dv(o){return hr(function cl(){return Ie.lFrame.contextLView}(),22+o)}function yg(o,a,c){const d=Ve();return Qs(d,fo(),a)&&Ia(Yt(),ci(),d,o,a,d[11],c,!1),yg}function op(o,a,c,d,f){const v=f?"class":"style";nr(o,c,a.inputs[v],v,d)}function vg(o,a,c,d){const f=Ve(),g=Yt(),v=22+o,I=f[11],S=f[v]=eE(I,a,function ja(){return Ie.lFrame.currentNamespace}()),N=g.firstCreatePass?function ZE(o,a,c,d,f,g,v){const I=a.consts,N=dh(a,o,2,f,q(I,g));return kE(a,c,N,q(I,v)),null!==N.attrs&&ev(N,N.attrs,!1),null!==N.mergedAttrs&&ev(N,N.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,N),N}(v,g,f,0,a,c,d):g.data[v];Ur(N,!0);const H=N.mergedAttrs;null!==H&&ri(I,S,H);const ie=N.classes;null!==ie&&Vy(I,S,ie);const de=N.styles;return null!==de&&sE(I,S,de),64!=(64&N.flags)&&lg(g,f,S,N),0===function Rn(){return Ie.lFrame.elementDepthCount}()&&Zs(S,f),function An(){Ie.lFrame.elementDepthCount++}(),ro(N)&&(xE(g,f,N),vM(g,N,f)),null!==d&&ME(f,N),vg}function bg(){let o=zn();ho()?Vo():(o=o.parent,Ur(o,!1));const a=o;!function mn(){Ie.lFrame.elementDepthCount--}();const c=Yt();return c.firstCreatePass&&(Gs(c,o),xr(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function be(o){return 0!=(16&o.flags)}(a)&&op(c,a,Ve(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function je(o){return 0!=(32&o.flags)}(a)&&op(c,a,Ve(),a.stylesWithoutHost,!1),bg}function hv(o,a,c,d){return vg(o,a,c,d),bg(),hv}function wg(o,a,c){const d=Ve(),f=Yt(),g=o+22,v=f.firstCreatePass?function HM(o,a,c,d,f){const g=a.consts,v=q(g,d),I=dh(a,o,8,"ng-container",v);return null!==v&&ev(I,v,!0),kE(a,c,I,q(g,f)),null!==a.queries&&a.queries.elementStart(a,I),I}(g,f,d,a,c):f.data[g];Ur(v,!0);const I=d[g]=d[11].createComment("");return lg(f,d,I,v),Zs(I,d),ro(v)&&(xE(f,d,v),vM(f,v,d)),null!=c&&ME(d,v),wg}function fu(){let o=zn();const a=Yt();return ho()?Vo():(o=o.parent,Ur(o,!1)),a.firstCreatePass&&(Gs(a,o),xr(o)&&a.queries.elementEnd(o)),fu}function QE(o,a,c){return wg(o,a,c),fu(),QE}function vh(){return Ve()}function Eg(o){return!!o&&"function"==typeof o.then}function $M(o){return!!o&&"function"==typeof o.subscribe}const zM=$M;function XE(o,a,c,d){const f=Ve(),g=Yt(),v=zn();return fv(g,f,f[11],v,o,a,0,d),XE}function JE(o,a){const c=zn(),d=Ve(),f=Yt();return fv(f,d,VE(Na(f.data),c,d),c,o,a),JE}function fv(o,a,c,d,f,g,v,I){const S=ro(d),H=o.firstCreatePass&&wc(o),ie=a[8],de=xi(a);let De=!0;if(3&d.type||I){const dt=ii(d,a),Et=I?I(dt):dt,zt=de.length,Ge=I?Hn=>I(ni(Hn[d.index])):d.index;let Bt=null;if(!I&&S&&(Bt=function tL(o,a,c,d){const f=o.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===c&&f[g+1]===d){const I=a[7],S=f[g+2];return I.length>S?I[S]:null}"string"==typeof v&&(g+=2)}return null}(o,a,f,d.index)),null!==Bt)(Bt.__ngLastListenerFn__||Bt).__ngNextListenerFn__=g,Bt.__ngLastListenerFn__=g,De=!1;else{g=GM(d,a,ie,g,!1);const Hn=c.listen(Et,f,g);de.push(g,Hn),H&&H.push(f,Ge,zt,zt+1)}}else g=GM(d,a,ie,g,!1);const Be=d.outputs;let Xe;if(De&&null!==Be&&(Xe=Be[f])){const dt=Xe.length;if(dt)for(let Et=0;Et<dt;Et+=2){const di=a[Xe[Et]][Xe[Et+1]].subscribe(g),wu=de.length;de.push(g,di),H&&H.push(f,d.index,wu,-(wu+1))}}}function WM(o,a,c,d){try{return wn(6,a,c),!1!==c(d)}catch(f){return Qf(o,f),!1}finally{wn(7,a,c)}}function GM(o,a,c,d,f){return function g(v){if(v===Function)return d;PE(2&o.flags?Fi(o.index,a):a);let S=WM(a,c,d,v),N=g.__ngNextListenerFn__;for(;N;)S=WM(a,c,N,v)&&S,N=N.__ngNextListenerFn__;return f&&!1===S&&(v.preventDefault(),v.returnValue=!1),S}}function eC(o=1){return function hl(o){return(Ie.lFrame.contextLView=function Hr(o,a){for(;o>0;)a=a[15],o--;return a}(o,Ie.lFrame.contextLView))[8]}(o)}function KM(o,a){let c=null;const d=function Hx(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(o);for(let f=0;f<a.length;f++){const g=a[f];if("*"!==g){if(null===d?lE(o,g,!0):Wx(d,g))return f}else c=f}return c}function gi(o){const a=Ve()[16][6];if(!a.projection){const d=a.projection=Cl(o?o.length:1,null),f=d.slice();let g=a.child;for(;null!==g;){const v=o?KM(g,o):0;null!==v&&(f[v]?f[v].projectionNext=g:d[v]=g,f[v]=g),g=g.next}}}function qM(o,a=0,c){const d=Ve(),f=Yt(),g=dh(f,22+o,16,null,c||null);null===g.projection&&(g.projection=a),Vo(),64!=(64&g.flags)&&function Fy(o,a,c){Ly(a[11],0,a,c,Oy(o,c,a),sg(c.parent||a[6],c,a))}(f,d,g)}function tC(o,a,c){return pv(o,"",a,"",c),tC}function pv(o,a,c,d,f){const g=Ve(),v=ep(g,a,c,d);return v!==sn&&Ia(Yt(),ci(),g,o,v,g[11],f,!1),pv}function cd(o,a,c,d,f,g,v){const I=Ve(),S=tp(I,a,c,d,f,g);return S!==sn&&Ia(Yt(),ci(),I,o,S,I[11],v,!1),cd}function Ec(o,a,c,d,f,g,v,I,S){const N=Ve(),H=np(N,a,c,d,f,g,v,I);return H!==sn&&Ia(Yt(),ci(),N,o,H,N[11],S,!1),Ec}function ud(o,a,c,d,f,g,v,I,S,N,H){const ie=Ve(),de=ip(ie,a,c,d,f,g,v,I,S,N);return de!==sn&&Ia(Yt(),ci(),ie,o,de,ie[11],H,!1),ud}function bh(o,a,c,d,f,g,v,I,S,N,H,ie,de){const De=Ve(),Be=rp(De,a,c,d,f,g,v,I,S,N,H,ie);return Be!==sn&&Ia(Yt(),ci(),De,o,Be,De[11],de,!1),bh}function mv(o,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be){const Xe=Ve(),dt=sp(Xe,a,c,d,f,g,v,I,S,N,H,ie,de,De);return dt!==sn&&Ia(Yt(),ci(),Xe,o,dt,Xe[11],Be,!1),mv}function nC(o,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be,Xe,dt){const Et=Ve(),zt=cu(Et,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be,Xe);return zt!==sn&&Ia(Yt(),ci(),Et,o,zt,Et[11],dt,!1),nC}function iC(o,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be,Xe,dt,Et,zt){const Ge=Ve(),Bt=uu(Ge,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be,Xe,dt,Et);return Bt!==sn&&Ia(Yt(),ci(),Ge,o,Bt,Ge[11],zt,!1),iC}function gv(o,a,c){const d=Ve(),f=Jf(d,a);return f!==sn&&Ia(Yt(),ci(),d,o,f,d[11],c,!1),gv}function YM(o,a,c,d,f){const g=o[c+1],v=null===a;let I=d?qa(g):yc(g),S=!1;for(;0!==I&&(!1===S||v);){const H=o[I+1];iL(o[I],a)&&(S=!0,o[I+1]=d?dg(H):Kf(H)),I=d?qa(H):yc(H)}S&&(o[c+1]=d?Kf(g):dg(g))}function iL(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Ks(o,a)>=0}const qr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ZM(o){return o.substring(qr.key,qr.keyEnd)}function rL(o){return o.substring(qr.value,qr.valueEnd)}function _v(o,a){const c=qr.textEnd;return c===a?-1:(a=qr.keyEnd=function XM(o,a,c){for(;a<c&&o.charCodeAt(a)>32;)a++;return a}(o,qr.key=a,c),ap(o,a,c))}function QM(o,a){const c=qr.textEnd;let d=qr.key=ap(o,a,c);return c===d?-1:(d=qr.keyEnd=function sC(o,a,c){let d;for(;a<c&&(45===(d=o.charCodeAt(a))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)a++;return a}(o,d,c),d=oC(o,d,c),d=qr.value=ap(o,d,c),d=qr.valueEnd=function yv(o,a,c){let d=-1,f=-1,g=-1,v=a,I=v;for(;v<c;){const S=o.charCodeAt(v++);if(59===S)return I;34===S||39===S?I=v=vv(o,S,v,c):a===v-4&&85===g&&82===f&&76===d&&40===S?I=v=vv(o,41,v,c):S>32&&(I=v),g=f,f=d,d=-33&S}return I}(o,d,c),oC(o,d,c))}function wh(o){qr.key=0,qr.keyEnd=0,qr.value=0,qr.valueEnd=0,qr.textEnd=o.length}function ap(o,a,c){for(;a<c&&o.charCodeAt(a)<=32;)a++;return a}function oC(o,a,c,d){return(a=ap(o,a,c))<c&&a++,a}function vv(o,a,c,d){let f=-1,g=c;for(;g<d;){const v=o.charCodeAt(g++);if(v==a&&92!==f)return g;f=92==v&&92===f?0:v}throw new Error}function bv(o,a,c){return Qa(o,a,c,!1),bv}function wv(o,a){return Qa(o,a,null,!0),wv}function Za(o){Rl(aC,hd,o,!1)}function hd(o,a){for(let c=function oL(o){return wh(o),QM(o,ap(o,0,qr.textEnd))}(a);c>=0;c=QM(a,c))aC(o,ZM(a),rL(a))}function fd(o){Rl(Rr,Cc,o,!0)}function Cc(o,a){for(let c=function sL(o){return wh(o),_v(o,ap(o,0,qr.textEnd))}(a);c>=0;c=_v(a,c))Rr(o,ZM(a),!0)}function Qa(o,a,c,d){const f=Ve(),g=Yt(),v=Es(2);g.firstUpdatePass&&tA(g,o,v,d),a!==sn&&Qs(f,v,a)&&lp(g,g.data[Ki()],f,f[11],o,f[v+1]=function iA(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=j(vo(o)))),o}(a,c),d,v)}function Rl(o,a,c,d){const f=Yt(),g=Es(2);f.firstUpdatePass&&tA(f,null,g,d);const v=Ve();if(c!==sn&&Qs(v,g,c)){const I=f.data[Ki()];if(cC(I,d)&&!eA(f,g)){let S=d?I.classesWithoutHost:I.stylesWithoutHost;null!==S&&(c=Y(S,c||"")),op(f,I,v,c,d)}else!function nA(o,a,c,d,f,g,v,I){f===sn&&(f=ct);let S=0,N=0,H=0<f.length?f[0]:null,ie=0<g.length?g[0]:null;for(;null!==H||null!==ie;){const de=S<f.length?f[S+1]:void 0,De=N<g.length?g[N+1]:void 0;let Xe,Be=null;H===ie?(S+=2,N+=2,de!==De&&(Be=ie,Xe=De)):null===ie||null!==H&&H<ie?(S+=2,Be=H):(N+=2,Be=ie,Xe=De),null!==Be&&lp(o,a,c,d,Be,Xe,v,I),H=S<f.length?f[S]:null,ie=N<g.length?g[N]:null}}(f,I,v,v[11],v[g+1],v[g+1]=function dL(o,a,c){if(null==c||""===c)return ct;const d=[],f=vo(c);if(Array.isArray(f))for(let g=0;g<f.length;g++)o(d,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&o(d,g,f[g]);else"string"==typeof f&&a(d,f);return d}(o,a,c),d,g)}}function eA(o,a){return a>=o.expandoStartIndex}function tA(o,a,c,d){const f=o.data;if(null===f[c+1]){const g=f[Ki()],v=eA(o,c);cC(g,d)&&null===a&&!v&&(a=!1),a=function aL(o,a,c,d){const f=Na(o);let g=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(c=Cg(c=Ev(null,o,a,c,d),a.attrs,d),g=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==f)if(c=Ev(f,o,a,c,d),null===g){let S=function lL(o,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==yc(d))return o[qa(d)]}(o,a,d);void 0!==S&&Array.isArray(S)&&(S=Ev(null,o,a,S[1],d),S=Cg(S,a.attrs,d),function cL(o,a,c,d){o[qa(c?a.classBindings:a.styleBindings)]=d}(o,a,d,S))}else g=function uL(o,a,c){let d;const f=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<f;g++)d=Cg(d,o[g].hostAttrs,c);return Cg(d,a.attrs,c)}(o,a,d)}return void 0!==g&&(d?a.residualClasses=g:a.residualStyles=g),c}(f,g,a,d),function rC(o,a,c,d,f,g){let v=g?a.classBindings:a.styleBindings,I=qa(v),S=yc(v);o[d]=c;let H,N=!1;if(Array.isArray(c)){const ie=c;H=ie[1],(null===H||Ks(ie,H)>0)&&(N=!0)}else H=c;if(f)if(0!==S){const de=qa(o[I+1]);o[d+1]=ug(de,I),0!==de&&(o[de+1]=qy(o[de+1],d)),o[I+1]=function hF(o,a){return 131071&o|a<<17}(o[I+1],d)}else o[d+1]=ug(I,0),0!==I&&(o[I+1]=qy(o[I+1],d)),I=d;else o[d+1]=ug(S,0),0===I?I=d:o[S+1]=qy(o[S+1],d),S=d;N&&(o[d+1]=Kf(o[d+1])),YM(o,H,d,!0),YM(o,H,d,!1),function nL(o,a,c,d,f){const g=f?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof a&&Ks(g,a)>=0&&(c[d+1]=dg(c[d+1]))}(a,H,o,d,g),v=ug(I,S),g?a.classBindings=v:a.styleBindings=v}(f,g,a,c,v,d)}}function Ev(o,a,c,d,f){let g=null;const v=c.directiveEnd;let I=c.directiveStylingLast;for(-1===I?I=c.directiveStart:I++;I<v&&(g=a[I],d=Cg(d,g.hostAttrs,f),g!==o);)I++;return null!==o&&(c.directiveStylingLast=I),d}function Cg(o,a,c){const d=c?1:2;let f=-1;if(null!==a)for(let g=0;g<a.length;g++){const v=a[g];"number"==typeof v?f=v:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Rr(o,v,!!c||a[++g]))}return void 0===o?null:o}function aC(o,a,c){Rr(o,a,vo(c))}function lp(o,a,c,d,f,g,v,I){if(!(3&a.type))return;const S=o.data,N=S[I+1];Ig(function yE(o){return 1==(1&o)}(N)?lC(S,a,c,f,yc(N),v):void 0)||(Ig(g)||function cM(o){return 2==(2&o)}(N)&&(g=lC(S,null,c,f,I,v)),function Lx(o,a,c,d,f){if(a)f?o.addClass(c,d):o.removeClass(c,d);else{let g=-1===d.indexOf("-")?void 0:pc.DashCase;null==f?o.removeStyle(c,d,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=pc.Important),o.setStyle(c,d,f,g))}}(d,v,co(Ki(),c),f,g))}function lC(o,a,c,d,f,g){const v=null===a;let I;for(;f>0;){const S=o[f],N=Array.isArray(S),H=N?S[1]:S,ie=null===H;let de=c[f+1];de===sn&&(de=ie?ct:void 0);let De=ie?Il(de,d):H===d?de:void 0;if(N&&!Ig(De)&&(De=Il(S,d)),Ig(De)&&(I=De,v))return I;const Be=o[f+1];f=v?qa(Be):yc(Be)}if(null!==a){let S=g?a.residualClasses:a.residualStyles;null!=S&&(I=Il(S,d))}return I}function Ig(o){return void 0!==o}function cC(o,a){return 0!=(o.flags&(a?16:32))}function uC(o,a=""){const c=Ve(),d=Yt(),f=o+22,g=d.firstCreatePass?dh(d,f,1,a,null):d.data[f],v=c[f]=Jw(c[11],a);lg(d,c,v,g),Ur(g,!1)}function dC(o){return Dg("",o,""),dC}function Dg(o,a,c){const d=Ve(),f=ep(d,o,a,c);return f!==sn&&fs(d,Ki(),f),Dg}function cp(o,a,c,d,f){const g=Ve(),v=tp(g,o,a,c,d,f);return v!==sn&&fs(g,Ki(),v),cp}function Cv(o,a,c,d,f,g,v){const I=Ve(),S=np(I,o,a,c,d,f,g,v);return S!==sn&&fs(I,Ki(),S),Cv}function Sg(o,a,c,d,f,g,v,I,S){const N=Ve(),H=ip(N,o,a,c,d,f,g,v,I,S);return H!==sn&&fs(N,Ki(),H),Sg}function Eh(o,a,c,d,f,g,v,I,S,N,H){const ie=Ve(),de=rp(ie,o,a,c,d,f,g,v,I,S,N,H);return de!==sn&&fs(ie,Ki(),de),Eh}function Tg(o,a,c,d,f,g,v,I,S,N,H,ie,de){const De=Ve(),Be=sp(De,o,a,c,d,f,g,v,I,S,N,H,ie,de);return Be!==sn&&fs(De,Ki(),Be),Tg}function Iv(o,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be){const Xe=Ve(),dt=cu(Xe,o,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be);return dt!==sn&&fs(Xe,Ki(),dt),Iv}function hC(o,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be,Xe,dt){const Et=Ve(),zt=uu(Et,o,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be,Xe,dt);return zt!==sn&&fs(Et,Ki(),zt),hC}function Ol(o){const a=Ve(),c=Jf(a,o);return c!==sn&&fs(a,Ki(),c),Ol}function rA(o,a,c){Rl(Rr,Cc,ep(Ve(),o,a,c),!0)}function fC(o,a,c,d,f){Rl(Rr,Cc,tp(Ve(),o,a,c,d,f),!0)}function pC(o,a,c,d,f,g,v){Rl(Rr,Cc,np(Ve(),o,a,c,d,f,g,v),!0)}function mC(o,a,c,d,f,g,v,I,S){Rl(Rr,Cc,ip(Ve(),o,a,c,d,f,g,v,I,S),!0)}function gC(o,a,c,d,f,g,v,I,S,N,H){Rl(Rr,Cc,rp(Ve(),o,a,c,d,f,g,v,I,S,N,H),!0)}function Dv(o,a,c,d,f,g,v,I,S,N,H,ie,de){Rl(Rr,Cc,sp(Ve(),o,a,c,d,f,g,v,I,S,N,H,ie,de),!0)}function up(o,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be){Rl(Rr,Cc,cu(Ve(),o,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be),!0)}function Ic(o,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be,Xe,dt){Rl(Rr,Cc,uu(Ve(),o,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be,Xe,dt),!0)}function sA(o){Rl(Rr,Cc,Jf(Ve(),o),!0)}function _C(o,a,c){Za(ep(Ve(),o,a,c))}function yC(o,a,c,d,f){Za(tp(Ve(),o,a,c,d,f))}function Sv(o,a,c,d,f,g,v){Za(np(Ve(),o,a,c,d,f,g,v))}function Tv(o,a,c,d,f,g,v,I,S){Za(ip(Ve(),o,a,c,d,f,g,v,I,S))}function xv(o,a,c,d,f,g,v,I,S,N,H){Za(rp(Ve(),o,a,c,d,f,g,v,I,S,N,H))}function vC(o,a,c,d,f,g,v,I,S,N,H,ie,de){Za(sp(Ve(),o,a,c,d,f,g,v,I,S,N,H,ie,de))}function Ch(o,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be){Za(cu(Ve(),o,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be))}function Yr(o,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be,Xe,dt){Za(uu(Ve(),o,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be,Xe,dt))}function bC(o){Za(Jf(Ve(),o))}function xg(o,a,c,d,f){return Qa(o,ep(Ve(),a,c,d),f,!1),xg}function dp(o,a,c,d,f,g,v){return Qa(o,tp(Ve(),a,c,d,f,g),v,!1),dp}function wC(o,a,c,d,f,g,v,I,S){return Qa(o,np(Ve(),a,c,d,f,g,v,I),S,!1),wC}function hp(o,a,c,d,f,g,v,I,S,N,H){return Qa(o,ip(Ve(),a,c,d,f,g,v,I,S,N),H,!1),hp}function Mg(o,a,c,d,f,g,v,I,S,N,H,ie,de){return Qa(o,rp(Ve(),a,c,d,f,g,v,I,S,N,H,ie),de,!1),Mg}function Mv(o,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be){return Qa(o,sp(Ve(),a,c,d,f,g,v,I,S,N,H,ie,de,De),Be,!1),Mv}function EC(o,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be,Xe,dt){return Qa(o,cu(Ve(),a,c,d,f,g,v,I,S,N,H,ie,de,De,Be,Xe),dt,!1),EC}function CC(o,a,c,d,f,g,v,I,S,N,H,ie,de,De,Be,Xe,dt,Et,zt){return Qa(o,uu(Ve(),a,c,d,f,g,v,I,S,N,H,ie,de,De,Be,Xe,dt,Et),zt,!1),CC}function IC(o,a,c){return Qa(o,Jf(Ve(),a),c,!1),IC}function DC(o,a,c){const d=Ve();return Qs(d,fo(),a)&&Ia(Yt(),ci(),d,o,a,d[11],c,!0),DC}function SC(o,a,c){const d=Ve();if(Qs(d,fo(),a)){const g=Yt(),v=ci();Ia(g,v,d,o,a,VE(Na(g.data),v,d),c,!0)}return SC}const Ih=void 0;var fL=["en",[["a","p"],["AM","PM"],Ih],[["AM","PM"],Ih,Ih],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ih,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ih,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ih,"{1} 'at' {0}",Ih],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function hL(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let fp={};function pL(o,a,c){"string"!=typeof a&&(c=a,a=o[Wt.LocaleId]),a=a.toLowerCase().replace(/_/g,"-"),fp[a]=o,c&&(fp[a][Wt.ExtraData]=c)}function TC(o){const a=function _L(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=aA(a);if(c)return c;const d=a.split("-")[0];if(c=aA(d),c)return c;if("en"===d)return fL;throw new Se(701,!1)}function mL(o){return TC(o)[Wt.CurrencyCode]||null}function oA(o){return TC(o)[Wt.PluralCase]}function aA(o){return o in fp||(fp[o]=nt.ng&&nt.ng.common&&nt.ng.common.locales&&nt.ng.common.locales[o]),fp[o]}function gL(){fp={}}var Wt=(()=>((Wt=Wt||{})[Wt.LocaleId=0]="LocaleId",Wt[Wt.DayPeriodsFormat=1]="DayPeriodsFormat",Wt[Wt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Wt[Wt.DaysFormat=3]="DaysFormat",Wt[Wt.DaysStandalone=4]="DaysStandalone",Wt[Wt.MonthsFormat=5]="MonthsFormat",Wt[Wt.MonthsStandalone=6]="MonthsStandalone",Wt[Wt.Eras=7]="Eras",Wt[Wt.FirstDayOfWeek=8]="FirstDayOfWeek",Wt[Wt.WeekendRange=9]="WeekendRange",Wt[Wt.DateFormat=10]="DateFormat",Wt[Wt.TimeFormat=11]="TimeFormat",Wt[Wt.DateTimeFormat=12]="DateTimeFormat",Wt[Wt.NumberSymbols=13]="NumberSymbols",Wt[Wt.NumberFormats=14]="NumberFormats",Wt[Wt.CurrencyCode=15]="CurrencyCode",Wt[Wt.CurrencySymbol=16]="CurrencySymbol",Wt[Wt.CurrencyName=17]="CurrencyName",Wt[Wt.Currencies=18]="Currencies",Wt[Wt.Directionality=19]="Directionality",Wt[Wt.PluralCase=20]="PluralCase",Wt[Wt.ExtraData=21]="ExtraData",Wt))();const yL=["zero","one","two","few","many"],Dh="en-US",Av={marker:"element"},kv={marker:"ICU"};var fr=(()=>((fr=fr||{})[fr.SHIFT=2]="SHIFT",fr[fr.APPEND_EAGERLY=1]="APPEND_EAGERLY",fr[fr.COMMENT=2]="COMMENT",fr))();let lA=Dh;function Rv(o){(function Fn(o,a){null==o&&Kt(a,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(lA=o.toLowerCase().replace(/_/g,"-"))}function xC(o,a,c){const d=a.insertBeforeIndex,f=Array.isArray(d)?d[0]:d;return null===f?og(o,0,c):ni(c[f])}function Sh(o,a,c,d,f){const g=a.insertBeforeIndex;if(Array.isArray(g)){let v=d,I=null;if(3&a.type||(I=v,v=f),null!==v&&0==(2&a.flags))for(let S=1;S<g.length;S++)mc(o,v,c[g[S]],I,!1)}}function Ov(o,a){if(o.push(a),o.length>1)for(let c=o.length-2;c>=0;c--){const d=o[c];MC(d)||AC(d,a)&&null===kC(d)&&pd(d,a.index)}}function MC(o){return!(64&o.type)}function AC(o,a){return MC(a)||o.index>a.index}function kC(o){const a=o.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function pd(o,a){const c=o.insertBeforeIndex;Array.isArray(c)?c[0]=a:(su(xC,Sh),o.insertBeforeIndex=a)}function pu(o,a){const c=o.data[a];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function kg(o,a,c){const d=Zy(o,c,64,null,null);return Ov(a,d),d}function pp(o,a){const c=a[o.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function RC(o){return o>>>17}function OC(o){return(131070&o)>>>1}let mp=0,Th=0;function NC(o,a,c,d){const f=c[11];let v,g=null;for(let I=0;I<a.length;I++){const S=a[I];if("string"==typeof S){const N=a[++I];null===c[N]&&(c[N]=Jw(f,S))}else if("number"==typeof S)switch(1&S){case 0:const N=RC(S);let H,ie;if(null===g&&(g=N,v=ch(f,d)),N===g?(H=d,ie=v):(H=null,ie=ni(c[N])),null!==ie){const Xe=OC(S);mc(f,ie,c[Xe],H,!1);const Et=pu(o,Xe);if(null!==Et&&"object"==typeof Et){const zt=pp(Et,c);null!==zt&&NC(o,Et.create[zt],c,c[Et.anchorIdx])}}break;case 1:const De=a[++I],Be=a[++I];RE(f,co(S>>>1,c),null,null,De,Be,null)}else switch(S){case kv:const N=a[++I],H=a[++I];null===c[H]&&Zs(c[H]=nF(f,N),c);break;case Av:const ie=a[++I],de=a[++I];null===c[de]&&Zs(c[de]=eE(f,ie,null),c)}}}function FC(o,a,c,d,f){for(let g=0;g<c.length;g++){const v=c[g],I=c[++g];if(v&f){let S="";for(let N=g+1;N<=g+I;N++){const H=c[N];if("string"==typeof H)S+=H;else if("number"==typeof H)if(H<0)S+=xe(a[d-H]);else{const ie=H>>>2;switch(3&H){case 1:const de=c[++N],De=c[++N],Be=o.data[ie];"string"==typeof Be?RE(a[11],a[ie],null,Be,de,S,De):Ia(o,Be,a,de,S,a[11],De,!1);break;case 0:const Xe=a[ie];null!==Xe&&Mx(a[11],Xe,S);break;case 2:EL(o,pu(o,ie),a,S);break;case 3:LC(o,pu(o,ie),d,a)}}}}else{const S=c[g+1];if(S>0&&3==(3&S)){const H=pu(o,S>>>2);a[H.currentCaseLViewIndex]<0&&LC(o,H,d,a)}}g+=I}}function LC(o,a,c,d){let f=d[a.currentCaseLViewIndex];if(null!==f){let g=mp;f<0&&(f=d[a.currentCaseLViewIndex]=~f,g=-1),FC(o,d,a.update[f],c,g)}}function EL(o,a,c,d){const f=function fA(o,a){let c=o.cases.indexOf(a);if(-1===c)switch(o.type){case 1:{const d=function vL(o,a){const c=oA(a)(parseInt(o,10)),d=yL[c];return void 0!==d?d:"other"}(a,function Ag(){return lA}());c=o.cases.indexOf(d),-1===c&&"other"!==d&&(c=o.cases.indexOf("other"));break}case 0:c=o.cases.indexOf("other")}return-1===c?null:c}(a,d);if(pp(a,c)!==f&&(VC(o,a,c),c[a.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const v=c[a.anchorIdx];v&&NC(o,a.create[f],c,v)}}function VC(o,a,c){let d=pp(a,c);if(null!==d){const f=a.remove[d];for(let g=0;g<f.length;g++){const v=f[g];if(v>0){const I=co(v,c);null!==I&&Nx(c[11],I)}else VC(o,pu(o,~v),c)}}}function pA(){const o=[];let c,d,a=-1;function g(I,S){a=0;const N=pp(I,S);d=null!==N?I.remove[N]:ct}function v(){if(a<d.length){const I=d[a++];return I>0?c[I]:(o.push(a,d),g(c[1].data[~I],c),v())}return 0===o.length?null:(d=o.pop(),a=o.pop(),v())}return function f(I,S){for(c=S;o.length;)o.pop();return g(I.value,S),v}}const gp=/\ufffd(\d+):?\d*\ufffd/gi,gA=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Dc=/\ufffd(\d+)\ufffd/,mu=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,CL=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,UC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ir=/\uE500/g;function Da(o,a,c,d,f,g,v){const I=Yf(o,d,1,null);let S=I<<fr.SHIFT,N=jr();a===N&&(N=null),null===N&&(S|=fr.APPEND_EAGERLY),v&&(S|=fr.COMMENT,function XN(o){void 0===Yw&&(Yw=o())}(pA)),f.push(S,null===g?"":g);const H=Zy(o,I,v?32:1,null===g?"":g,null);Ov(c,H);const ie=H.index;return Ur(H,!1),null!==N&&a!==N&&function wL(o,a){let c=o.insertBeforeIndex;null===c?(su(xC,Sh),c=o.insertBeforeIndex=[null,a]):(function $e(o,a,c){o!=a&&Kt(c,o,a,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(a))}(N,ie),H}function IL(o,a,c,d,f,g,v){const I=v.match(gp),S=Da(o,a,c,g,d,I?null:v,!1);I&&_p(f,v,S.index,null,0,null)}function _p(o,a,c,d,f,g){const v=o.length,I=v+1;o.push(null,null);const S=v+2,N=a.split(gp);let H=0;for(let ie=0;ie<N.length;ie++){const de=N[ie];if(1&ie){const De=f+parseInt(de,10);o.push(-1-De),H|=vA(De)}else""!==de&&o.push(de)}return o.push(c<<2|(d?1:0)),d&&o.push(d,g),o[v]=H,o[I]=o.length-S,H}function yA(o){let a=0;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d&&d<0&&a++}return a}function vA(o){return 1<<Math.min(o,31)}function xh(o){let a,g,c="",d=0,f=!1;for(;null!==(a=CL.exec(o));)f?a[0]===`\ufffd/*${g}\ufffd`&&(d=a.index,f=!1):(c+=o.substring(d,a.index+a[0].length),g=a[1],f=!0);return c+=o.slice(d),c}function Og(o,a,c,d,f,g){let v=0;const I={type:f.type,currentCaseLViewIndex:Yf(o,a,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function Nv(o,a,c){o.push(vA(a.mainBinding),2,-1-a.mainBinding,c<<2|2)})(c,f,g),function cA(o,a,c){const d=o.data[a];null===d?o.data[a]=c:d.value=c}(o,g,I);const S=f.values;for(let N=0;N<S.length;N++){const H=S[N],ie=[];for(let de=0;de<H.length;de++){const De=H[de];if("string"!=typeof De){const Be=ie.push(De)-1;H[de]=`\x3c!--\ufffd${Be}\ufffd--\x3e`}}v=SL(o,I,a,c,d,f.cases[N],H.join(""),ie)|v}v&&function EA(o,a,c){o.push(a,1,c<<2|3)}(c,v,g)}function DL(o){const a=[],c=[];let d=1,f=0;const g=WC(o=o.replace(mu,function(v,I,S){return d="select"===S?0:1,f=parseInt(I.slice(1),10),""}));for(let v=0;v<g.length;){let I=g[v++].trim();1===d&&(I=I.replace(/\s*(?:=)?(\w+)\s*/,"$1")),I.length&&a.push(I);const S=WC(g[v++]);a.length>c.length&&c.push(S)}return{type:d,mainBinding:f,cases:a,values:c}}function WC(o){if(!o)return[];let a=0;const c=[],d=[],f=/[{}]/g;let g;for(f.lastIndex=0;g=f.exec(o);){const I=g.index;if("}"==g[0]){if(c.pop(),0==c.length){const S=o.substring(a,I);mu.test(S)?d.push(DL(S)):d.push(S),a=I+1}}else{if(0==c.length){const S=o.substring(a,I);d.push(S),a=I+1}c.push("{")}}const v=o.substring(a);return d.push(v),d}function SL(o,a,c,d,f,g,v,I){const S=[],N=[],H=[];a.cases.push(g),a.create.push(S),a.remove.push(N),a.update.push(H);const de=Um(Yd()).getInertBodyElement(v),De=L(de)||de;return De?bA(o,a,c,d,S,N,H,De,f,I,0):0}function bA(o,a,c,d,f,g,v,I,S,N,H){let ie=0,de=I.firstChild;for(;de;){const De=Yf(o,c,1,null);switch(de.nodeType){case Node.ELEMENT_NODE:const Be=de,Xe=Be.tagName.toLowerCase();if(Pf.hasOwnProperty(Xe)){yp(f,Av,Xe,S,De),o.data[De]=Xe;const Ge=Be.attributes;for(let Bt=0;Bt<Ge.length;Bt++){const Hn=Ge.item(Bt),di=Hn.name.toLowerCase();Hn.value.match(gp)?Wm.hasOwnProperty(di)&&_p(v,Hn.value,De,Hn.name,0,Zu[di]?X:Xd[di]?bo:null):CA(f,De,Hn)}ie=bA(o,a,c,d,f,g,v,de,De,N,H+1)|ie,wA(g,De,H)}break;case Node.TEXT_NODE:const dt=de.textContent||"",Et=dt.match(gp);yp(f,null,Et?"":dt,S,De),wA(g,De,H),Et&&(ie=_p(v,dt,De,null,0,null)|ie);break;case Node.COMMENT_NODE:const zt=Dc.exec(de.textContent||"");if(zt){const Bt=N[parseInt(zt[1],10)];yp(f,kv,"",S,De),Og(o,c,d,S,Bt,De),TL(g,De,H)}}de=de.nextSibling}return ie}function wA(o,a,c){0===c&&o.push(a)}function TL(o,a,c){0===c&&(o.push(~a),o.push(a))}function yp(o,a,c,d,f){null!==a&&o.push(a),o.push(c,f,function uA(o,a,c){return o|a<<17|c<<1}(0,d,f))}function CA(o,a,c){o.push(a<<1|1,c.name,c.value)}const xL=/\[(\ufffd.+?\ufffd?)\]/,IA=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,ML=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,AL=/{([A-Z0-9_]+)}/g,kL=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,RL=/\/\*/,OL=/\d+\:(\d+)/;function qC(o,a,c=-1){const d=Yt(),f=Ve(),g=22+o,v=q(d.consts,a),I=jr();d.firstCreatePass&&function HC(o,a,c,d,f,g){const v=jr(),I=[],S=[],N=[[]];f=function zC(o,a){if(function $C(o){return-1===o}(a))return xh(o);{const c=o.indexOf(`:${a}\ufffd`)+2+a.toString().length,d=o.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return xh(o.substring(c,d))}}(f,g);const H=function gu(o){return o.replace(Ir," ")}(f).split(UC);for(let ie=0;ie<H.length;ie++){let de=H[ie];if(0==(1&ie)){const De=WC(de);for(let Be=0;Be<De.length;Be++){let Xe=De[Be];if(0==(1&Be)){const dt=Xe;""!==dt&&IL(o,v,N[0],I,S,c,dt)}else{const dt=Xe;if("object"!=typeof dt)throw new Error(`Unable to parse ICU expression in "${f}" message.`);Og(o,c,S,a,dt,Da(o,v,N[0],c,I,"",!0).index)}}}else{const De=47===de.charCodeAt(0),Xe=(de.charCodeAt(De?1:0),22+Number.parseInt(de.substring(De?2:1)));if(De)N.shift(),Ur(jr(),!1);else{const dt=kg(o,N[0],Xe);N.unshift([]),Ur(dt,!0)}}}o.data[d]={create:I,update:S}}(d,null===I?0:I.index,f,g,v,c);const S=d.data[g],H=Py(d,I===f[6]?null:I,f);(function Pv(o,a,c,d){const f=o[11];for(let g=0;g<a.length;g++){const v=a[g++],I=a[g],S=(v&fr.COMMENT)===fr.COMMENT,N=(v&fr.APPEND_EAGERLY)===fr.APPEND_EAGERLY,H=v>>>fr.SHIFT;let ie=o[H];null===ie&&(ie=o[H]=S?f.createComment(I):Jw(f,I)),N&&null!==c&&mc(f,c,ie,d,!1)}})(f,S.create,H,I&&8&I.type?f[I.index]:null),ql(!0)}function Fv(){ql(!1)}function DA(o,a,c){qC(o,a,c),Fv()}function md(o,a){const c=Yt();!function _A(o,a,c){const f=zn().index,g=[];if(o.firstCreatePass&&null===o.data[a]){for(let v=0;v<c.length;v+=2){const I=c[v],S=c[v+1];if(""!==S){if(gA.test(S))throw new Error(`ICU expressions are not supported in attributes. Message: "${S}".`);_p(g,S,f,I,yA(g),null)}}o.data[a]=g}}(c,o+22,q(c.consts,a))}function Pg(o){return function dA(o){o&&(mp|=1<<Math.min(Th,31)),Th++}(Qs(Ve(),fo(),o)),Pg}function YC(o){!function hA(o,a,c){if(Th>0){const d=o.data[c];FC(o,a,Array.isArray(d)?d:d.update,ss()-Th-1,mp)}mp=0,Th=0}(Yt(),Ve(),o+22)}function ZC(o,a={}){return function KC(o,a={}){let c=o;if(xL.test(o)){const d={},f=[0];c=c.replace(IA,(g,v,I)=>{const S=v||I,N=d[S]||[];if(N.length||(S.split("|").forEach(Xe=>{const dt=Xe.match(OL),Et=dt?parseInt(dt[1],10):0,zt=RL.test(Xe);N.push([Et,zt,Xe])}),d[S]=N),!N.length)throw new Error(`i18n postprocess: unmatched placeholder - ${S}`);const H=f[f.length-1];let ie=0;for(let Xe=0;Xe<N.length;Xe++)if(N[Xe][0]===H){ie=Xe;break}const[de,De,Be]=N[ie];return De?f.pop():H!==de&&f.push(de),N.splice(ie,1),Be})}return Object.keys(a).length&&(c=c.replace(ML,(d,f,g,v,I,S)=>a.hasOwnProperty(g)?`${f}${a[g]}${S}`:d),c=c.replace(AL,(d,f)=>a.hasOwnProperty(f)?a[f]:d),c=c.replace(kL,(d,f)=>{if(a.hasOwnProperty(f)){const g=a[f];if(!g.length)throw new Error(`i18n postprocess: unmatched ICU - ${d} with key: ${f}`);return g.shift()}return d})),c}(o,a)}function Lv(o,a,c,d,f){if(o=J(o),Array.isArray(o))for(let g=0;g<o.length;g++)Lv(o[g],a,c,d,f);else{const g=Yt(),v=Ve();let I=td(o)?o:J(o.provide),S=xw(o);const N=zn(),H=1048575&N.providerIndexes,ie=N.directiveStart,de=N.providerIndexes>>20;if(td(o)||!o.multi){const De=new ma(S,f,Gf),Be=Bv(I,a,f?H:H+de,ie);-1===Be?($c(ya(N,v),g,I),Vv(g,o,a.length),a.push(I),N.directiveStart++,N.directiveEnd++,f&&(N.providerIndexes+=1048576),c.push(De),v.push(De)):(c[Be]=De,v[Be]=De)}else{const De=Bv(I,a,H+de,ie),Be=Bv(I,a,H,H+de),Xe=De>=0&&c[De],dt=Be>=0&&c[Be];if(f&&!dt||!f&&!Xe){$c(ya(N,v),g,I);const Et=function NL(o,a,c,d,f){const g=new ma(o,c,Gf);return g.multi=[],g.index=a,g.componentProviders=0,QC(g,f,d&&!c),g}(f?PL:TA,c.length,f,d,S);!f&&dt&&(c[Be].providerFactory=Et),Vv(g,o,a.length,0),a.push(I),N.directiveStart++,N.directiveEnd++,f&&(N.providerIndexes+=1048576),c.push(Et),v.push(Et)}else Vv(g,o,De>-1?De:Be,QC(c[f?Be:De],S,!f&&d));!f&&d&&dt&&c[Be].componentProviders++}}}function Vv(o,a,c,d){const f=td(a),g=function nx(o){return!!o.useClass}(a);if(f||g){const S=(g?J(a.useClass):a).prototype.ngOnDestroy;if(S){const N=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const H=N.indexOf(c);-1===H?N.push(c,[d,S]):N[H+1].push(d,S)}else N.push(c,S)}}}function QC(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function Bv(o,a,c,d){for(let f=c;f<d;f++)if(a[f]===o)return f;return-1}function TA(o,a,c,d){return Ng(this.multi,[])}function PL(o,a,c,d){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,I=Jl(c,c[1],this.providerFactory.index,d);g=I.slice(0,v),Ng(f,g);for(let S=v;S<I.length;S++)g.push(I[S])}else g=[],Ng(f,g);return g}function Ng(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function xA(o,a=[]){return c=>{c.providersResolver=(d,f)=>function SA(o,a,c){const d=Yt();if(d.firstCreatePass){const f=Gi(o);Lv(c,d.data,d.blueprint,f,!0),Lv(a,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,a)}}class vp{}class MA{}function AA(o,a){return new jv(o,a??null)}const FL=AA;class jv extends vp{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fh(this);const d=Qe(a);this._bootstrapComponents=ru(d.bootstrap),this._r3Injector=hE(a,c,[{provide:vp,useValue:this},{provide:Ff,useValue:this.componentFactoryResolver}],j(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Fg extends MA{constructor(a){super(),this.moduleType=a}create(a){return new jv(this.moduleType,a)}}class LL extends vp{constructor(a,c,d){super(),this.componentFactoryResolver=new fh(this),this.instance=null;const f=new Tw([...a,{provide:vp,useValue:this},{provide:Ff,useValue:this.componentFactoryResolver}],c||th(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Uv(o,a,c=null){return new LL(o,a,c).injector}let Hv=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=Km(0,c.type),f=d.length>0?Uv([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=Ln({token:o,providedIn:"environment",factory:()=>new o(P(iu))}),o})();function kA(o){o.getStandaloneInjector=a=>a.get(Hv).getOrCreateStandaloneInjector(o)}function XC(o){const a=Ms(o);if(null===a)return null;if(void 0===a.component){const c=a.lView;if(null===c)return null;a.component=function KN(o,a){const c=a[1].data[o];return 2&c.flags?a[c.directiveStart]:null}(a.nodeIndex,c)}return a.component}function RA(o){!function tI(o){if(typeof Element<"u"&&!(o instanceof Element))throw new Error("Expecting instance of DOM Element")}(o);const a=Ms(o),c=a?a.lView:null;return null===c?null:c[8]}function OA(o){const a=Ms(o);let d,c=a?a.lView:null;if(null===c)return null;for(;2===c[1].type&&(d=ig(c));)c=d;return 256&c[2]?null:c[8]}function PA(o){const a=Gw(o);return null!==a?[...Tx(a).components]:[]}function NA(o){const a=Ms(o),c=a?a.lView:null;return null===c?ou.NULL:new zr(c[1].data[a.nodeIndex],c)}function FA(o){if(o instanceof Text)return[];const a=Ms(o),c=a?a.lView:null;if(null===c)return[];const f=a.nodeIndex;return c[1]?.data[f]?(void 0===a.directives&&(a.directives=qw(f,c,!1)),null===a.directives?[]:[...a.directives]):[]}function BL(o){const{constructor:a}=o;if(!a)throw new Error("Unable to find the instance constructor");const c=ae(a);if(c)return{inputs:c.inputs,outputs:c.outputs,encapsulation:c.encapsulation,changeDetection:c.onPush?Gn.OnPush:Gn.Default};const d=le(a);return d?{inputs:d.inputs,outputs:d.outputs}:null}function Lg(o){return Ms(o).native}function JC(o){const a=Ms(o),c=null===a?null:a.lView;if(null===c)return[];const f=c[7],g=c[1].cleanup,v=[];if(g&&f)for(let I=0;I<g.length;){const S=g[I++],N=g[I++];if("string"==typeof S){const H=S,ie=ni(c[N]),de=f[g[I++]],De=g[I++],Be="boolean"==typeof De||De>=0?"dom":"output",Xe="boolean"==typeof De&&De;o==ie&&v.push({element:o,name:H,callback:de,useCapture:Xe,type:Be})}}return v.sort(jL),v}function jL(o,a){return o.name==a.name?0:o.name<a.name?-1:1}function VA(o){return void 0!==o.type&&void 0!==o.template&&void 0!==o.declaredInputs}function nI(o,a,c,d){return ai(()=>{const f=o;null!==a&&(f.hasOwnProperty("decorators")&&void 0!==f.decorators?f.decorators.push(...a):f.decorators=a),null!==c&&(f.ctorParameters=c),null!==d&&(f.propDecorators=f.hasOwnProperty("propDecorators")&&void 0!==f.propDecorators?{...f.propDecorators,...d}:d)})}function iI(o,a,c){const d=Li()+o,f=Ve();return f[d]===sn?kl(f,d,c?a.call(c):a()):_h(f,d)}function Vg(o,a,c,d){return aI(Ve(),Li(),o,a,c,d)}function jA(o,a,c,d,f){return zv(Ve(),Li(),o,a,c,d,f)}function UA(o,a,c,d,f,g){return lI(Ve(),Li(),o,a,c,d,f,g)}function rI(o,a,c,d,f,g,v){return cI(Ve(),Li(),o,a,c,d,f,g,v)}function HA(o,a,c,d,f,g,v,I){const S=Li()+o,N=Ve(),H=Ya(N,S,c,d,f,g);return Qs(N,S+4,v)||H?kl(N,S+5,I?a.call(I,c,d,f,g,v):a(c,d,f,g,v)):_h(N,S+5)}function $A(o,a,c,d,f,g,v,I,S){const N=Li()+o,H=Ve(),ie=Ya(H,N,c,d,f,g);return yh(H,N+4,v,I)||ie?kl(H,N+6,S?a.call(S,c,d,f,g,v,I):a(c,d,f,g,v,I)):_h(H,N+6)}function $v(o,a,c,d,f,g,v,I,S,N){const H=Li()+o,ie=Ve();let de=Ya(ie,H,c,d,f,g);return ov(ie,H+4,v,I,S)||de?kl(ie,H+7,N?a.call(N,c,d,f,g,v,I,S):a(c,d,f,g,v,I,S)):_h(ie,H+7)}function sI(o,a,c,d,f,g,v,I,S,N,H){const ie=Li()+o,de=Ve(),De=Ya(de,ie,c,d,f,g);return Ya(de,ie+4,v,I,S,N)||De?kl(de,ie+8,H?a.call(H,c,d,f,g,v,I,S,N):a(c,d,f,g,v,I,S,N)):_h(de,ie+8)}function oI(o,a,c,d){return _u(Ve(),Li(),o,a,c,d)}function Ah(o,a){const c=o[a];return c===sn?void 0:c}function aI(o,a,c,d,f,g){const v=a+c;return Qs(o,v,f)?kl(o,v+1,g?d.call(g,f):d(f)):Ah(o,v+1)}function zv(o,a,c,d,f,g,v){const I=a+c;return yh(o,I,f,g)?kl(o,I+2,v?d.call(v,f,g):d(f,g)):Ah(o,I+2)}function lI(o,a,c,d,f,g,v,I){const S=a+c;return ov(o,S,f,g,v)?kl(o,S+3,I?d.call(I,f,g,v):d(f,g,v)):Ah(o,S+3)}function cI(o,a,c,d,f,g,v,I,S){const N=a+c;return Ya(o,N,f,g,v,I)?kl(o,N+4,S?d.call(S,f,g,v,I):d(f,g,v,I)):Ah(o,N+4)}function _u(o,a,c,d,f,g){let v=a+c,I=!1;for(let S=0;S<f.length;S++)Qs(o,v++,f[S])&&(I=!0);return I?kl(o,v,d.apply(g,f)):Ah(o,v)}function Wv(o,a){const c=Yt();let d;const f=o+22;c.firstCreatePass?(d=function uI(o,a){if(a)for(let c=a.length-1;c>=0;c--){const d=a[c];if(o===d.name)return d}}(a,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const g=d.factory||(d.factory=Mr(d.type)),v=cn(Gf);try{const I=Xl(!1),S=g();return Xl(I),UM(c,Ve(),f,S),S}finally{cn(v)}}function zA(o,a,c){const d=o+22,f=Ve(),g=hr(f,d);return Sa(f,d)?aI(f,Li(),a,g.transform,c,g):g.transform(c)}function Gv(o,a,c,d){const f=o+22,g=Ve(),v=hr(g,f);return Sa(g,f)?zv(g,Li(),a,v.transform,c,d,v):v.transform(c,d)}function dI(o,a,c,d,f){const g=o+22,v=Ve(),I=hr(v,g);return Sa(v,g)?lI(v,Li(),a,I.transform,c,d,f,I):I.transform(c,d,f)}function hI(o,a,c,d,f,g){const v=o+22,I=Ve(),S=hr(I,v);return Sa(I,v)?cI(I,Li(),a,S.transform,c,d,f,g,S):S.transform(c,d,f,g)}function fI(o,a,c){const d=o+22,f=Ve(),g=hr(f,d);return Sa(f,d)?_u(f,Li(),a,g.transform,c,g):g.transform.apply(g,c)}function Sa(o,a){return o[1].data[a].pure}function Kv(o){return a=>{setTimeout(o,void 0,a)}}const Sc=class UL extends D.xQ{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){let f=a,g=c||(()=>null),v=d;if(a&&"object"==typeof a){const S=a;f=S.next?.bind(S),g=S.error?.bind(S),v=S.complete?.bind(S)}this.__isAsync&&(g=Kv(g),f&&(f=Kv(f)),v&&(v=Kv(v)));const I=super.subscribe({next:f,error:g,complete:v});return a instanceof l.w&&a.add(I),I}};function HL(){return this._results[gh()]()}class Bg{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=gh(),d=Bg.prototype;d[c]||(d[c]=HL)}get changes(){return this._changes||(this._changes=new Sc)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const f=Gr(a);(this._changesDetected=!function Hu(o,a,c){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],g=a[d];if(c&&(f=c(f),g=c(g)),g!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let bp=(()=>{class o{}return o.__NG_ELEMENT_ID__=WA,o})();const jg=bp,$L=class extends jg{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(a,c){const d=this._declarationTContainer.tViews,f=Yy(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(d)),Qy(d,f,a),new hh(f)}};function WA(){return Ug(zn(),Ve())}function Ug(o,a){return 4&o.type?new $L(a,o,ih(o,a)):null}let wp=(()=>{class o{}return o.__NG_ELEMENT_ID__=GA,o})();function GA(){return YA(zn(),Ve())}const Hg=wp,KA=class extends Hg{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return ih(this._hostTNode,this._hostLView)}get injector(){return new zr(this._hostTNode,this._hostLView)}get parentInjector(){const a=Hc(this._hostTNode,this._hostLView);if(Nd(a)){const c=_a(a,this._hostLView),d=_l(a);return new zr(c[1].data[d+8],c)}return new zr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=qA(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,d){let f,g;"number"==typeof d?f=d:null!=d&&(f=d.index,g=d.injector);const v=a.createEmbeddedView(c||{},g);return this.insert(v,f),v}createComponent(a,c,d,f,g){const v=a&&!ic(a);let I;if(v)I=c;else{const ie=c||{};I=ie.index,d=ie.injector,f=ie.projectableNodes,g=ie.environmentInjector||ie.ngModuleRef}const S=v?a:new mh(ae(a)),N=d||this.parentInjector;if(!g&&null==S.ngModule){const de=(v?N:this.parentInjector).get(iu,null);de&&(g=de)}const H=S.create(N,f,void 0,g);return this.insert(H.hostView,I),H}insert(a,c){const d=a._lView,f=d[1];if(function O(o){return ji(o[3])}(d)){const H=this.indexOf(a);if(-1!==H)this.detach(H);else{const ie=d[3],de=new KA(ie,ie[6],ie[3]);de.detach(de.indexOf(a))}}const g=this._adjustIndex(c),v=this._lContainer;!function aF(o,a,c,d){const f=10+d,g=c.length;d>0&&(c[f-1][4]=a),d<g-10?(a[4]=c[f],rc(c,10+d,a)):(c.push(a),a[4]=null),a[3]=c;const v=a[17];null!==v&&c!==v&&function Ax(o,a){const c=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===c?o[9]=[a]:c.push(a)}(v,a);const I=a[19];null!==I&&I.insertView(o),a[2]|=64}(f,d,v,g);const I=iE(g,v),S=d[11],N=ch(S,v[7]);return null!==N&&function rF(o,a,c,d,f,g){d[0]=f,d[6]=a,id(o,d,c,1,f,g)}(f,v[6],S,d,N,I),a.attachToViewContainerRef(),rc(qv(v),g,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=qA(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=tE(this._lContainer,c);d&&(El(qv(this._lContainer),c),Rx(d[1],d))}detach(a){const c=this._adjustIndex(a,-1),d=tE(this._lContainer,c);return d&&null!=El(qv(this._lContainer),c)?new hh(d):null}_adjustIndex(a,c=0){return a??this.length+c}};function qA(o){return o[8]}function qv(o){return o[8]||(o[8]=[])}function YA(o,a){let c;const d=a[o.index];if(ji(d))c=d;else{let f;if(8&o.type)f=ni(d);else{const g=a[11];f=g.createComment("");const v=ii(o,a);mc(g,ch(g,v),f,function Ny(o,a){return o.nextSibling(a)}(g,v),!1)}a[o.index]=c=AM(d,a,f,o),Xy(a,c)}return new KA(c,o,a)}class pI{constructor(a){this.queryList=a,this.matches=null}clone(){return new pI(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ep{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,f=[];for(let g=0;g<d;g++){const v=c.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new Ep(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==bI(a,c).matches&&this.queries[c].setDirty()}}class mI{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class kh{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(a,f);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new kh(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class $g{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new $g(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(a,c,ZA(c,g)),this.matchTNodeWithReadOption(a,c,$a(c,a,g,!1,!1))}else d===bp?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,$a(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===rh||f===wp||f===bp&&4&c.type)this.addMatch(c.index,-2);else{const g=$a(c,a,f,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function ZA(o,a){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function Cp(o,a,c,d){return-1===c?function QA(o,a){return 11&o.type?ih(o,a):4&o.type?Ug(o,a):null}(a,o):-2===c?function XA(o,a,c){return c===rh?ih(a,o):c===bp?Ug(a,o):c===wp?YA(a,o):void 0}(o,a,d):Jl(o,o[1],c,a)}function Yv(o,a,c,d){const f=a[19].queries[d];if(null===f.matches){const g=o.data,v=c.matches,I=[];for(let S=0;S<v.length;S+=2){const N=v[S];I.push(N<0?null:Cp(a,g[N],v[S+1],c.metadata.read))}f.matches=I}return f.matches}function Zv(o,a,c,d){const f=o.queries.getByIndex(c),g=f.matches;if(null!==g){const v=Yv(o,a,f,c);for(let I=0;I<g.length;I+=2){const S=g[I];if(S>0)d.push(v[I/2]);else{const N=g[I+1],H=a[-S];for(let ie=10;ie<H.length;ie++){const de=H[ie];de[17]===de[3]&&Zv(de[1],de,N,d)}if(null!==H[9]){const ie=H[9];for(let de=0;de<ie.length;de++){const De=ie[de];Zv(De[1],De,N,d)}}}}}return d}function gI(o){const a=Ve(),c=Yt(),d=dl();Ws(d+1);const f=bI(c,d);if(o.dirty&&R(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const g=f.crossesNgTemplate?Zv(c,a,d,[]):Yv(c,a,f,d);o.reset(g,Aw),o.notifyOnChanges()}return!0}return!1}function JA(o,a,c){const d=Yt();d.firstCreatePass&&(vI(d,new mI(o,a,c),-1),2==(2&a)&&(d.staticViewQueries=!0)),yI(d,Ve(),a)}function Qv(o,a,c,d){const f=Yt();if(f.firstCreatePass){const g=zn();vI(f,new mI(a,c,d),g.index),function tk(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(f,o),2==(2&c)&&(f.staticContentQueries=!0)}yI(f,Ve(),c)}function _I(){return function ek(o,a){return o[19].queries[a].queryList}(Ve(),dl())}function yI(o,a,c){const d=new Bg(4==(4&c));wM(o,a,d,d.destroy),null===a[19]&&(a[19]=new Ep),a[19].queries.push(new pI(d))}function vI(o,a,c){null===o.queries&&(o.queries=new kh),o.queries.track(new $g(a,c))}function bI(o,a){return o.queries.getByIndex(a)}function wI(o,a){return Ug(o,a)}const ps=(()=>({\u0275\u0275attribute:WE,\u0275\u0275attributeInterpolate1:av,\u0275\u0275attributeInterpolate2:lv,\u0275\u0275attributeInterpolate3:gg,\u0275\u0275attributeInterpolate4:du,\u0275\u0275attributeInterpolate5:cv,\u0275\u0275attributeInterpolate6:GE,\u0275\u0275attributeInterpolate7:uv,\u0275\u0275attributeInterpolate8:KE,\u0275\u0275attributeInterpolateV:qE,\u0275\u0275defineComponent:oe,\u0275\u0275defineDirective:ki,\u0275\u0275defineInjectable:Ln,\u0275\u0275defineInjector:Zi,\u0275\u0275defineNgModule:xt,\u0275\u0275definePipe:we,\u0275\u0275directiveInject:Gf,\u0275\u0275getInheritedFactory:ec,\u0275\u0275inject:P,\u0275\u0275injectAttribute:tc,\u0275\u0275invalidFactory:Ky,\u0275\u0275invalidFactoryDep:W,\u0275\u0275templateRefExtractor:wI,\u0275\u0275resetView:Er,\u0275\u0275NgOnChangesFeature:oo,\u0275\u0275ProvidersFeature:xA,\u0275\u0275CopyDefinitionFeature:$E,\u0275\u0275InheritDefinitionFeature:nv,\u0275\u0275StandaloneFeature:kA,\u0275\u0275nextContext:eC,\u0275\u0275namespaceHTML:Va,\u0275\u0275namespaceMathML:La,\u0275\u0275namespaceSVG:Fa,\u0275\u0275enableBindings:gn,\u0275\u0275disableBindings:On,\u0275\u0275elementStart:vg,\u0275\u0275elementEnd:bg,\u0275\u0275element:hv,\u0275\u0275elementContainerStart:wg,\u0275\u0275elementContainerEnd:fu,\u0275\u0275elementContainer:QE,\u0275\u0275pureFunction0:iI,\u0275\u0275pureFunction1:Vg,\u0275\u0275pureFunction2:jA,\u0275\u0275pureFunction3:UA,\u0275\u0275pureFunction4:rI,\u0275\u0275pureFunction5:HA,\u0275\u0275pureFunction6:$A,\u0275\u0275pureFunction7:$v,\u0275\u0275pureFunction8:sI,\u0275\u0275pureFunctionV:oI,\u0275\u0275getCurrentView:vh,\u0275\u0275restoreView:Hs,\u0275\u0275listener:XE,\u0275\u0275projection:qM,\u0275\u0275syntheticHostProperty:SC,\u0275\u0275syntheticHostListener:JE,\u0275\u0275pipeBind1:zA,\u0275\u0275pipeBind2:Gv,\u0275\u0275pipeBind3:dI,\u0275\u0275pipeBind4:hI,\u0275\u0275pipeBindV:fI,\u0275\u0275projectionDef:gi,\u0275\u0275hostProperty:DC,\u0275\u0275property:yg,\u0275\u0275propertyInterpolate:tC,\u0275\u0275propertyInterpolate1:pv,\u0275\u0275propertyInterpolate2:cd,\u0275\u0275propertyInterpolate3:Ec,\u0275\u0275propertyInterpolate4:ud,\u0275\u0275propertyInterpolate5:bh,\u0275\u0275propertyInterpolate6:mv,\u0275\u0275propertyInterpolate7:nC,\u0275\u0275propertyInterpolate8:iC,\u0275\u0275propertyInterpolateV:gv,\u0275\u0275pipe:Wv,\u0275\u0275queryRefresh:gI,\u0275\u0275viewQuery:JA,\u0275\u0275loadQuery:_I,\u0275\u0275contentQuery:Qv,\u0275\u0275reference:dv,\u0275\u0275classMap:fd,\u0275\u0275classMapInterpolate1:rA,\u0275\u0275classMapInterpolate2:fC,\u0275\u0275classMapInterpolate3:pC,\u0275\u0275classMapInterpolate4:mC,\u0275\u0275classMapInterpolate5:gC,\u0275\u0275classMapInterpolate6:Dv,\u0275\u0275classMapInterpolate7:up,\u0275\u0275classMapInterpolate8:Ic,\u0275\u0275classMapInterpolateV:sA,\u0275\u0275styleMap:Za,\u0275\u0275styleMapInterpolate1:_C,\u0275\u0275styleMapInterpolate2:yC,\u0275\u0275styleMapInterpolate3:Sv,\u0275\u0275styleMapInterpolate4:Tv,\u0275\u0275styleMapInterpolate5:xv,\u0275\u0275styleMapInterpolate6:vC,\u0275\u0275styleMapInterpolate7:Ch,\u0275\u0275styleMapInterpolate8:Yr,\u0275\u0275styleMapInterpolateV:bC,\u0275\u0275styleProp:bv,\u0275\u0275stylePropInterpolate1:xg,\u0275\u0275stylePropInterpolate2:dp,\u0275\u0275stylePropInterpolate3:wC,\u0275\u0275stylePropInterpolate4:hp,\u0275\u0275stylePropInterpolate5:Mg,\u0275\u0275stylePropInterpolate6:Mv,\u0275\u0275stylePropInterpolate7:EC,\u0275\u0275stylePropInterpolate8:CC,\u0275\u0275stylePropInterpolateV:IC,\u0275\u0275classProp:wv,\u0275\u0275advance:uE,\u0275\u0275template:hu,\u0275\u0275text:uC,\u0275\u0275textInterpolate:dC,\u0275\u0275textInterpolate1:Dg,\u0275\u0275textInterpolate2:cp,\u0275\u0275textInterpolate3:Cv,\u0275\u0275textInterpolate4:Sg,\u0275\u0275textInterpolate5:Eh,\u0275\u0275textInterpolate6:Tg,\u0275\u0275textInterpolate7:Iv,\u0275\u0275textInterpolate8:hC,\u0275\u0275textInterpolateV:Ol,\u0275\u0275i18n:DA,\u0275\u0275i18nAttributes:md,\u0275\u0275i18nExp:Pg,\u0275\u0275i18nStart:qC,\u0275\u0275i18nEnd:Fv,\u0275\u0275i18nApply:YC,\u0275\u0275i18nPostprocess:ZC,\u0275\u0275resolveWindow:Ex,\u0275\u0275resolveDocument:Cx,\u0275\u0275resolveBody:Ix,\u0275\u0275setComponentScope:pe,\u0275\u0275setNgModuleScope:Tn,\u0275\u0275registerNgModuleType:Af,\u0275\u0275sanitizeHtml:Oe,\u0275\u0275sanitizeStyle:st,\u0275\u0275sanitizeResourceUrl:Mt,\u0275\u0275sanitizeScript:Wn,\u0275\u0275sanitizeUrl:Je,\u0275\u0275sanitizeUrlOrResourceUrl:Qu,\u0275\u0275trustConstantHtml:Zn,\u0275\u0275trustConstantResourceUrl:Or,forwardRef:K,resolveForwardRef:J}))();let gd=null;function ik(){gd=null}function Wg(o){return!!Qe(o)}const Ip=[];let Xv=!1;function CI(){if(!Xv){Xv=!0;try{for(let o=Ip.length-1;o>=0;o--){const{moduleType:a,ngModule:c}=Ip[o];c.declarations&&c.declarations.every(II)&&(Ip.splice(o,1),Dp(a,c))}}finally{Xv=!1}}}function II(o){return Array.isArray(o)?o.every(II):!!J(o)}function DI(o,a={}){Jv(o,a),void 0!==a.id&&Af(o,a.id),function rk(o,a){Ip.push({moduleType:o,ngModule:a})}(o,a)}function Jv(o,a,c=!1){const d=Gr(a.declarations||ct);let f=null;Object.defineProperty(o,un,{configurable:!0,get:()=>(null===f&&(f=Ti().compileNgModule(ps,`ng:///${o.name}/\u0275mod.js`,{type:o,bootstrap:Gr(a.bootstrap||ct).map(J),declarations:d.map(J),imports:Gr(a.imports||ct).map(J).map(xI),exports:Gr(a.exports||ct).map(J).map(xI),schemas:a.schemas?Gr(a.schemas):null,id:a.id||null}),f.schemas||(f.schemas=[])),f)});let g=null;Object.defineProperty(o,Jn,{get:()=>{if(null===g){const I=Ti();g=I.compileFactory(ps,`ng:///${o.name}/\u0275fac.js`,{name:o.name,type:o,deps:Ea(o),target:I.FactoryTarget.NgModule,typeArgumentCount:0})}return g},configurable:!1});let v=null;Object.defineProperty(o,zi,{get:()=>{if(null===v){const I={name:o.name,type:o,providers:a.providers||ct,imports:[(a.imports||ct).map(J),(a.exports||ct).map(J)]};v=Ti().compileInjector(ps,`ng:///${o.name}/\u0275inj.js`,I)}return v},configurable:!1})}function Rh(o){const a=ae(o)||le(o)||Fe(o);return null!==a&&a.standalone}let Gg=new WeakMap,yu=new WeakMap;function TI(){Gg=new WeakMap,yu=new WeakMap,Ip.length=0}function Dp(o,a){const c=Gr(a.declarations||ct),d=ir(o);c.forEach(f=>{(f=J(f)).hasOwnProperty(bn)?_d(ae(f),d):!f.hasOwnProperty(li)&&!f.hasOwnProperty(Kn)&&(f.ngSelectorScope=o)})}function _d(o,a){o.directiveDefs=()=>Array.from(a.compilation.directives).map(c=>c.hasOwnProperty(bn)?ae(c):le(c)).filter(c=>!!c),o.pipeDefs=()=>Array.from(a.compilation.pipes).map(c=>Fe(c)),o.schemas=a.schemas,o.tView=null}function ir(o){if(Wg(o))return function ok(o){const a=Qe(o,!0);if(null!==a.transitiveCompileScopes)return a.transitiveCompileScopes;const c={schemas:a.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return ru(a.imports).forEach(d=>{const f=ir(d);f.exported.directives.forEach(g=>c.compilation.directives.add(g)),f.exported.pipes.forEach(g=>c.compilation.pipes.add(g))}),ru(a.declarations).forEach(d=>{Fe(d)?c.compilation.pipes.add(d):c.compilation.directives.add(d)}),ru(a.exports).forEach(d=>{const f=d;if(Wg(f)){const g=ir(f);g.exported.directives.forEach(v=>{c.compilation.directives.add(v),c.exported.directives.add(v)}),g.exported.pipes.forEach(v=>{c.compilation.pipes.add(v),c.exported.pipes.add(v)})}else Fe(f)?c.exported.pipes.add(f):c.exported.directives.add(f)}),a.transitiveCompileScopes=c,c}(o);if(Rh(o)){if(null!==(ae(o)||le(o)))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set([o]),pipes:new Set}};if(null!==Fe(o))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set([o])}}}throw new Error(`${o.name} does not have a module def (\u0275mod property)`)}function xI(o){return function zg(o){return void 0!==o.ngModule}(o)?o.ngModule:o}let ib=0;function MI(o,a){let c=null;(function xl(o,a){Wd(a)&&(Oi.set(o,a),qs.add(o))})(o,a),Pl(o,a),Object.defineProperty(o,bn,{get:()=>{if(null===c){const d=Ti();if(Wd(a)){const N=[`Component '${o.name}' is not resolved:`];throw a.templateUrl&&N.push(` - templateUrl: ${a.templateUrl}`),a.styleUrls&&a.styleUrls.length&&N.push(` - styleUrls: ${JSON.stringify(a.styleUrls)}`),N.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(N.join("\n"))}const f=function nk(){return gd}();let g=a.preserveWhitespaces;void 0===g&&(g=null!==f&&void 0!==f.preserveWhitespaces&&f.preserveWhitespaces);let v=a.encapsulation;void 0===v&&(v=null!==f&&void 0!==f.defaultEncapsulation?f.defaultEncapsulation:Xt.Emulated);const I=a.templateUrl||`ng:///${o.name}/template.html`,S={...Tc(o,a),typeSourceSpan:d.createParseSourceSpan("Component",o.name,I),template:a.template||"",preserveWhitespaces:g,styles:a.styles||ct,animations:a.animations,declarations:[],changeDetection:a.changeDetection,encapsulation:v,interpolation:a.interpolation,viewProviders:a.viewProviders||null,isStandalone:!!a.standalone};ib++;try{if(S.usesInheritance&&RI(o),c=d.compileComponent(ps,I,S),a.standalone){const N=Gr(a.imports||ct),{directiveDefs:H,pipeDefs:ie}=function Kg(o,a){let c=null,d=null;return{directiveDefs:()=>{if(null===c){c=[ae(o)];const v=new Set;for(const I of a){const S=J(I);if(!v.has(S))if(v.add(S),Qe(S)){const N=ir(S);for(const H of N.exported.directives){const ie=ae(H)||le(H);ie&&!v.has(H)&&(v.add(H),c.push(ie))}}else{const N=ae(S)||le(S);N&&c.push(N)}}}return c},pipeDefs:()=>{if(null===d){d=[];const v=new Set;for(const I of a){const S=J(I);if(!v.has(S))if(v.add(S),Qe(S)){const N=ir(S);for(const H of N.exported.pipes){const ie=Fe(H);ie&&!v.has(H)&&(v.add(H),d.push(ie))}}else{const N=Fe(S);N&&d.push(N)}}}return d}}}(o,N);c.directiveDefs=H,c.pipeDefs=ie,c.dependencies=()=>N.map(J)}}finally{ib--}if(0===ib&&CI(),function AI(o){return void 0!==o.ngSelectorScope}(o)){const N=ir(o.ngSelectorScope);_d(c,N)}if(a.schemas){if(!a.standalone)throw new Error(`The 'schemas' was specified for the ${ke(o)} but is only valid on a component that is standalone.`);c.schemas=a.schemas}else a.standalone&&(c.schemas=[])}return c},configurable:!1})}function Sp(o,a){let c=null;Pl(o,a||{}),Object.defineProperty(o,li,{get:()=>{if(null===c){const d=qg(o,a||{});c=Ti().compileDirective(ps,d.sourceMapUrl,d.metadata)}return c},configurable:!1})}function qg(o,a){const c=o&&o.name,d=`ng:///${c}/\u0275dir.js`,f=Ti(),g=Tc(o,a);return g.typeSourceSpan=f.createParseSourceSpan("Directive",c,d),g.usesInheritance&&RI(o),{metadata:g,sourceMapUrl:d}}function Pl(o,a){let c=null;Object.defineProperty(o,Jn,{get:()=>{if(null===c){const d=qg(o,a),f=Ti();c=f.compileFactory(ps,`ng:///${o.name}/\u0275fac.js`,{name:d.metadata.name,type:d.metadata.type,typeArgumentCount:0,deps:Ea(o),target:f.FactoryTarget.Directive})}return c},configurable:!1})}function kI(o){return Object.getPrototypeOf(o.prototype)===Object.prototype}function Tc(o,a){const c=yo(),d=c.ownPropMetadata(o);return{name:o.name,type:o,selector:void 0!==a.selector?a.selector:null,host:a.host||vi,propMetadata:d,inputs:a.inputs||ct,outputs:a.outputs||ct,queries:OI(o,d,PI),lifecycle:{usesOnChanges:c.hasLifecycleHook(o,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!kI(o),exportAs:ck(a.exportAs),providers:a.providers||null,viewQueries:OI(o,d,NI),isStandalone:!!a.standalone}}function RI(o){const a=Object.prototype;let c=Object.getPrototypeOf(o.prototype).constructor;for(;c&&c!==a;)!le(c)&&!ae(c)&&dk(c)&&Sp(c,null),c=Object.getPrototypeOf(c)}function Yg(o){return"string"==typeof o?LI(o):J(o)}function lk(o,a){return{propertyName:o,predicate:Yg(a.selector),descendants:a.descendants,first:a.first,read:a.read?a.read:null,static:!!a.static,emitDistinctChangesOnly:!!a.emitDistinctChangesOnly}}function OI(o,a,c){const d=[];for(const f in a)if(a.hasOwnProperty(f)){const g=a[f];g.forEach(v=>{if(c(v)){if(!v.selector)throw new Error(`Can't construct a query for the property "${f}" of "${ke(o)}" since the query selector wasn't defined.`);if(g.some(FI))throw new Error("Cannot combine @Input decorators with query decorators");d.push(lk(f,v))}})}return d}function ck(o){return void 0===o?null:LI(o)}function PI(o){const a=o.ngMetadataName;return"ContentChild"===a||"ContentChildren"===a}function NI(o){const a=o.ngMetadataName;return"ViewChild"===a||"ViewChildren"===a}function FI(o){return"Input"===o.ngMetadataName}function LI(o){return o.split(",").map(a=>a.trim())}const uk=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function dk(o){const a=yo();if(uk.some(d=>a.hasLifecycleHook(o,d)))return!0;const c=a.propMetadata(o);for(const d in c){const f=c[d];for(let g=0;g<f.length;g++){const v=f[g],I=v.ngMetadataName;if(FI(v)||PI(v)||NI(v)||"Output"===I||"HostBinding"===I||"HostListener"===I)return!0}}return!1}function Do(o,a){let c=null,d=null;Object.defineProperty(o,Jn,{get:()=>{if(null===d){const f=Zg(o,a),g=Ti();d=g.compileFactory(ps,`ng:///${f.name}/\u0275fac.js`,{name:f.name,type:f.type,typeArgumentCount:0,deps:Ea(o),target:g.FactoryTarget.Pipe})}return d},configurable:!1}),Object.defineProperty(o,Kn,{get:()=>{if(null===c){const f=Zg(o,a);c=Ti().compilePipe(ps,`ng:///${f.name}/\u0275pipe.js`,f)}return c},configurable:!1})}function Zg(o,a){return{type:o,name:o.name,pipeName:a.name,pure:void 0===a.pure||a.pure,isStandalone:!!a.standalone}}const Qg=va("Directive",(o={})=>o,void 0,void 0,(o,a)=>Sp(o,a)),VI=va("Component",(o={})=>({changeDetection:Gn.Default,...o}),Qg,void 0,(o,a)=>MI(o,a)),hk=va("Pipe",o=>({pure:!0,...o}),void 0,void 0,(o,a)=>Do(o,a)),BI=_o("Input",o=>({bindingPropertyName:o})),jI=_o("Output",o=>({bindingPropertyName:o})),fk=_o("HostBinding",o=>({hostPropertyName:o})),pk=_o("HostListener",(o,a)=>({eventName:o,args:a})),mk=va("NgModule",o=>o,void 0,void 0,(o,a)=>DI(o,a));function Yo(...o){}const HI=new Un("Application Initializer");let Xg=(()=>{class o{constructor(c){this.appInits=c,this.resolve=Yo,this.reject=Yo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(Eg(g))c.push(g);else if(zM(g)){const v=new Promise((I,S)=>{g.subscribe({complete:I,error:S})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(P(HI,8))},o.\u0275prov=Ln({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const rb=new Un("AppId",{providedIn:"root",factory:$I});function $I(){return`${Oh()}${Oh()}${Oh()}`}const Xs={provide:rb,useFactory:$I,deps:[]};function Oh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const zI=new Un("Platform Initializer"),Tp=new Un("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),WI=new Un("appBootstrapListener"),gk=new Un("Application Packages Root URL"),GI=new Un("AnimationModuleType");let _k=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Ln({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const xp=new Un("LocaleId",{providedIn:"root",factory:()=>se(xp,gt.Optional|gt.SkipSelf)||function sb(){return typeof $localize<"u"&&$localize.locale||Dh}()}),KI=new Un("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),yk=new Un("Translations"),vk=new Un("TranslationsFormat");var Pr=(()=>((Pr=Pr||{})[Pr.Error=0]="Error",Pr[Pr.Warning=1]="Warning",Pr[Pr.Ignore=2]="Ignore",Pr))();class Xa{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let Jg=(()=>{class o{compileModuleSync(c){return new Fg(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=ru(Qe(c).declarations).reduce((v,I)=>{const S=ae(I);return S&&v.push(new mh(S)),v},[]);return new Xa(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Ln({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const qI=new Un("compilerOptions");class bk{}function Ph(o){YE(o),PA(o).forEach(a=>jM(a))}let ob=!1;function wk(){ob||(ob=!0,Zo("\u0275setProfiler",lo),Zo("getDirectiveMetadata",BL),Zo("getComponent",XC),Zo("getContext",RA),Zo("getListeners",JC),Zo("getOwningComponent",OA),Zo("getHostElement",Lg),Zo("getInjector",NA),Zo("getRootComponents",PA),Zo("getDirectives",FA),Zo("applyChanges",Ph))}function Zo(o,a){if(typeof COMPILED>"u"||!COMPILED){const c=nt;if(c){let d=c.ng;d||(d=c.ng={}),d[o]=a}}}const Ek=(()=>Promise.resolve(0))();function ab(o){typeof Zone>"u"?Ek.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Qo{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sc(!1),this.onMicrotaskEmpty=new Sc(!1),this.onStable=new Sc(!1),this.onError=new Sc(!1),typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Ck(){let o=nt.requestAnimationFrame,a=nt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function lb(o){const a=()=>{!function t_(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(nt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,cb(o),o.isCheckStableRunning=!0,e_(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),cb(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,g,v,I)=>{try{return ZI(o),c.invokeTask(f,g,v,I)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&a(),ub(o)}},onInvoke:(c,d,f,g,v,I,S)=>{try{return ZI(o),c.invoke(f,g,v,I,S)}finally{o.shouldCoalesceRunChangeDetection&&a(),ub(o)}},onHasTask:(c,d,f,g)=>{c.hasTask(f,g),d===f&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,cb(o),e_(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,f,g)=>(c.handleError(f,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qo.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if(Qo.isInAngularZone())throw new Se(909,!1)}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,a,YI,Yo,Yo);try{return g.runTask(v,c,d)}finally{g.cancelTask(v)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const YI={};function e_(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function cb(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function ZI(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function ub(o){o._nesting--,e_(o)}class QI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sc,this.onMicrotaskEmpty=new Sc,this.onStable=new Sc,this.onError=new Sc}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,f){return a.apply(c,d)}}const XI=new Un(""),As=new Un("");let n_,db=(()=>{class o{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,n_||(yd(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qo.assertNotInAngularZone(),ab(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ab(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return o.\u0275fac=function(c){return new(c||o)(P(Qo),P(JI),P(As))},o.\u0275prov=Ln({token:o,factory:o.\u0275fac}),o})(),JI=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return n_?.findTestabilityInTree(this,c,d)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Ln({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function yd(o){n_=o}let vu=null;const hb=new Un("AllowMultipleToken"),Xo=new Un("PlatformDestroyListeners");function eD(o,a,c){const d=new Fg(c);return Promise.resolve(d)}function tD(o){return o.isBoundToModule}class nD{constructor(a,c){this.name=a,this.token=c}}function bu(o){if(vu&&!vu.get(hb,!1))throw new Se(400,!1);vu=o;const a=o.get(i_);return iD(o),a}function iD(o){const a=o.get(zI,null);a&&a.forEach(c=>c())}function rD(o){const{rootComponent:a,appProviders:c,platformProviders:d}=o,f=function Ik(o=[]){if(vu)return vu;const a=aD(o);return vu=a,iD(a),a}(d),g=new Qo(cD());return g.run(()=>{const I=Uv([{provide:Qo,useValue:g},...c||[]],f,"Environment Injector"),S=I.get(tg,null);let N;return g.runOutsideAngular(()=>{N=g.onError.subscribe({next:H=>{S.handleError(H)}})}),uD(S,g,()=>{const H=I.get(Xg);return H.runInitializers(),H.donePromise.then(()=>{Rv(I.get(xp,Dh)||Dh);const de=I.get(Mp),De=()=>de.destroy(),Be=f.get(Xo,null);return Be?.add(De),de.onDestroy(()=>{Be?.delete(De),N.unsubscribe()}),de.bootstrap(a),de})})})}function sD(o,a,c=[]){const d=`Platform: ${a}`,f=new Un(d);return(g=[])=>{let v=Fh();if(!v||v.injector.get(hb,!1)){const I=[...c,...g,{provide:f,useValue:!0}];o?o(I):bu(aD(I,d))}return oD()}}function oD(o){const a=Fh();if(!a)throw new Se(401,!1);return a}function aD(o=[],a){return ou.create({name:a,providers:[{provide:Ey,useValue:"platform"},{provide:Xo,useValue:new Set([()=>vu=null])},...o]})}function lD(){Fh()?.destroy()}function Fh(){return vu?.get(i_)??null}let i_=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function Dk(o,a){let c;return c="noop"===o?new QI:("zone.js"===o?void 0:o)||new Qo(a),c}(d?.ngZone,cD(d)),g=[{provide:Qo,useValue:f}];return f.run(()=>{const v=ou.create({providers:g,parent:this.injector,name:c.moduleType.name}),I=c.create(v),S=I.injector.get(tg,null);if(!S)throw new Se(402,!1);return f.runOutsideAngular(()=>{const N=f.onError.subscribe({next:H=>{S.handleError(H)}});I.onDestroy(()=>{r_(this._modules,I),N.unsubscribe()})}),uD(S,f,()=>{const N=I.injector.get(Xg);return N.runInitializers(),N.donePromise.then(()=>(Rv(I.injector.get(xp,Dh)||Dh),this._moduleDoBootstrap(I),I))})})}bootstrapModule(c,d=[]){const f=dD({},d);return eD(0,0,c).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(c){const d=c.injector.get(Mp);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Se(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(Xo,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(P(ou))},o.\u0275prov=Ln({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function cD(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}function uD(o,a,c){try{const d=c();return Eg(d)?d.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}function dD(o,a){return Array.isArray(a)?a.reduce(dD,o):{...o,...a}}let Mp=(()=>{class o{constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new F.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),v=new F.y(I=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Qo.assertNotInAngularZone(),ab(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{Qo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{S.unsubscribe(),N.unsubscribe()}});this.isStable=(0,Q.T)(g,v.pipe((0,ne.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof Xm;if(!this._injector.get(Xg).done)throw!f&&Rh(c),new Se(405,false);let v;v=f?c:this._injector.get(Ff).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const I=tD(v)?void 0:this._injector.get(vp),N=v.create(ou.NULL,[],d||v.selector,I),H=N.location.nativeElement,ie=N.injector.get(XI,null);return ie?.registerApplication(H),N.onDestroy(()=>{this.detachView(N.hostView),r_(this.components,N),ie?.unregisterApplication(H)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new Se(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;r_(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(WI,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>r_(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Se(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(P(Qo),P(iu),P(tg))},o.\u0275prov=Ln({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function r_(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}let pD=!0,fb=!1;function Sk(){return fb=!0,pD}function pb(){if(fb)throw new Error("Cannot enable prod mode after platform setup.");pD=!1}function mD(o){const a=qd(o);if(!a)throw mb(o);return new Fg(a)}function gD(o){const a=qd(o);if(!a)throw mb(o);return a}function mb(o){return new Error(`No module with ID ${o} loaded`)}let Tk=(()=>{class o{}return o.__NG_ELEMENT_ID__=xk,o})();function xk(o){return function qL(o,a,c){if($t(o)&&!c){const d=Fi(o.index,a);return new hh(d,d)}return 47&o.type?new hh(a[16],a):null}(zn(),Ve(),16==(16&o))}class _D extends Tk{}class Mk extends _D{}class Ak{constructor(a,c){this.name=a,this.callback=c}}function kk(o){return o.map(a=>a.nativeElement)}class gb{constructor(a){this.nativeNode=a}get parent(){const a=this.nativeNode.parentNode;return a?new Ap(a):null}get injector(){return NA(this.nativeNode)}get componentInstance(){const a=this.nativeNode;return a&&(XC(a)||OA(a))}get context(){return XC(this.nativeNode)||RA(this.nativeNode)}get listeners(){return JC(this.nativeNode).filter(a=>"dom"===a.type)}get references(){return function Mh(o){const a=Ms(o);if(null===a)return{};if(void 0===a.localRefs){const c=a.lView;if(null===c)return{};a.localRefs=function qN(o,a){const c=o[1].data[a];if(c&&c.localNames){const d={};let f=c.index+1;for(let g=0;g<c.localNames.length;g+=2)d[c.localNames[g]]=o[f],f++;return d}return null}(c,a.nodeIndex)}return a.localRefs||{}}(this.nativeNode)}get providerTokens(){return function VL(o){const a=Ms(o),c=a?a.lView:null;if(null===c)return[];const d=c[1],f=d.data[a.nodeIndex],g=[],I=f.directiveEnd;for(let S=1048575&f.providerIndexes;S<I;S++){let N=d.data[S];VA(N)&&(N=N.type),g.push(N)}return g}(this.nativeNode)}}class Ap extends gb{constructor(a){super(a)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const a=Ms(this.nativeNode),c=a?a.lView:null;return null!==c?c[1].data[a.nodeIndex].value:this.nativeNode.nodeName}get properties(){const a=Ms(this.nativeNode),c=a?a.lView:null;if(null===c)return{};const d=c[1].data,f=d[a.nodeIndex],g={};return function yD(o,a){if(o){let c=Object.getPrototypeOf(o);const d=Node.prototype;for(;null!==c&&c!==d;){const f=Object.getOwnPropertyDescriptors(c);for(let g in f)if(!g.startsWith("__")&&!g.startsWith("on")){const v=o[g];Rk(v)&&(a[g]=v)}c=Object.getPrototypeOf(c)}}}(this.nativeElement,g),function Nk(o,a,c,d){let f=a.propertyBindings;if(null!==f)for(let g=0;g<f.length;g++){const v=f[g],S=d[v].split("\ufffd"),N=S[0];if(S.length>1){let H=S[1];for(let ie=1;ie<S.length-1;ie++)H+=xe(c[v+ie-1])+S[ie+1];o[N]=H}else o[N]=c[v]}}(g,f,c,d),g}get attributes(){const a={},c=this.nativeElement;if(!c)return a;const d=Ms(c),f=d?d.lView:null;if(null===f)return{};const g=f[1].data[d.nodeIndex].attrs,v=[];if(g){let S=0;for(;S<g.length;){const N=g[S];if("string"!=typeof N)break;a[N]=g[S+1],v.push(N.toLowerCase()),S+=2}}const I=c.attributes;for(let S=0;S<I.length;S++){const N=I[S],H=N.name.toLowerCase();-1===v.indexOf(H)&&(a[H]=N.value)}return a}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const a={},d=this.nativeElement.className;return("string"!=typeof d?d.baseVal.split(" "):d.split(" ")).forEach(g=>a[g]=!0),a}get childNodes(){const a=this.nativeNode.childNodes,c=[];for(let d=0;d<a.length;d++)c.push(bd(a[d]));return c}get children(){const a=this.nativeElement;if(!a)return[];const c=a.children,d=[];for(let f=0;f<c.length;f++)d.push(bd(c[f]));return d}query(a){return this.queryAll(a)[0]||null}queryAll(a){const c=[];return Ok(this,a,c,!0),c}queryAllNodes(a){const c=[];return Ok(this,a,c,!1),c}triggerEventHandler(a,c){const d=this.nativeNode,f=[];this.listeners.forEach(g=>{if(g.name===a){const v=g.callback;v.call(d,c),f.push(v)}}),"function"==typeof d.eventListeners&&d.eventListeners(a).forEach(g=>{if(-1!==g.toString().indexOf("__ngUnwrap__")){const v=g("__ngUnwrap__");return-1===f.indexOf(v)&&v.call(d,c)}})}}function Rk(o){return"string"==typeof o||"boolean"==typeof o||"number"==typeof o||null===o}function Ok(o,a,c,d){const f=Ms(o.nativeNode),g=f?f.lView:null;null!==g?vd(g[1].data[f.nodeIndex],g,a,c,d,o.nativeNode):_b(o.nativeNode,a,c,d)}function vd(o,a,c,d,f,g){const v=function ha(o,a){const c=null===o?-1:o.index;return-1!==c?ni(a[c]):null}(o,a);if(11&o.type){if(vD(v,c,d,f,g),$t(o)){const S=Fi(o.index,a);S&&S[1].firstChild&&vd(S[1].firstChild,S,c,d,f,g)}else o.child&&vd(o.child,a,c,d,f,g),v&&_b(v,c,d,f);const I=a[o.index];ji(I)&&Pk(I,c,d,f,g)}else if(4&o.type){const I=a[o.index];vD(I[7],c,d,f,g),Pk(I,c,d,f,g)}else if(16&o.type){const I=a[16],N=I[6].projection[o.projection];if(Array.isArray(N))for(let H of N)vD(H,c,d,f,g);else if(N){const H=I[3];vd(H[1].data[N.index],H,c,d,f,g)}}else o.child&&vd(o.child,a,c,d,f,g);if(g!==v){const I=4&o.flags?o.projectionNext:o.next;I&&vd(I,a,c,d,f,g)}}function Pk(o,a,c,d,f){for(let g=10;g<o.length;g++){const v=o[g],I=v[1].firstChild;I&&vd(I,v,a,c,d,f)}}function vD(o,a,c,d,f){if(f!==o){const g=bd(o);if(!g)return;(d&&g instanceof Ap&&a(g)&&-1===c.indexOf(g)||!d&&a(g)&&-1===c.indexOf(g))&&c.push(g)}}function _b(o,a,c,d){const f=o.childNodes,g=f.length;for(let v=0;v<g;v++){const I=f[v],S=bd(I);S&&((d&&S instanceof Ap&&a(S)&&-1===c.indexOf(S)||!d&&a(S)&&-1===c.indexOf(S))&&c.push(S),_b(I,a,c,d))}}const s_="__ng_debug__";function bd(o){return o instanceof Node?(o.hasOwnProperty(s_)||(o[s_]=o.nodeType==Node.ELEMENT_NODE?new Ap(o):new gb(o)),o[s_]):null}function Mc(o){return null}class bD{constructor(){}supports(a){return mg(a)}create(a){return new wD(a)}}const Vk=(o,a)=>a;class wD{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Vk}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,f=0,g=null;for(;c||d;){const v=!d||c&&c.currentIndex<kp(d,f,g)?c:d,I=kp(v,f,g),S=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)f++;else{g||(g=[]);const N=I-f,H=S-f;if(N!=H){for(let de=0;de<N;de++){const De=de<g.length?g[de]:g[de]=0,Be=De+de;H<=Be&&Be<N&&(g[de]=De+1)}g[v.previousIndex]=H-N}}I!==S&&a(v,I,S)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!mg(a))throw new Se(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,g,v,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let I=0;I<this.length;I++)g=a[I],v=this._trackByFn(I,g),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,g,v,I)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,I),d=!0),c=c._next}else f=0,function BM(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[gh()]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,I=>{v=this._trackByFn(f,I),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,I,v,f)),Object.is(c.item,I)||this._addIdentityChange(c,I)):(c=this._mismatch(c,I,v,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,f){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,g,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,g,f)):a=this._addAfter(new Bk(c,d),g,f),a}_verifyReinsertion(a,c,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?a=this._reinsertAfter(g,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,g=a._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const f=null===c?this._itHead:c._next;return a._next=f,a._prev=c,null===f?this._itTail=a:f._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new yb),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yb),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Bk{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jk{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class yb{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new jk,this.map.set(c,d)),d.add(a)}get(a,c){const f=this.map.get(a);return f?f.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kp(o,a,c){const d=o.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+a+f}class ED{constructor(){}supports(a){return a instanceof Map||sv(a)}create(){return new Uk}}class Uk{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||sv(a)))throw new Se(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,c);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const d=new Hk(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class Hk{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function CD(){return new vb([new bD])}let vb=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||CD()),deps:[[o,new Ci,new Zt]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Se(901,!1)}}return o.\u0275prov=Ln({token:o,providedIn:"root",factory:CD}),o})();function ID(){return new bb([new ED])}let bb=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||ID()),deps:[[o,new Ci,new Zt]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new Se(901,!1)}}return o.\u0275prov=Ln({token:o,providedIn:"root",factory:ID}),o})();const DD=[new ED],QL=new vb([new bD]),$k=new bb(DD),Ac=sD(null,"core",[]);let Dt=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(P(Mp))},o.\u0275mod=xt({type:o}),o.\u0275inj=Zi({}),o})();function Eb(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}const on=!0;function o_(o){return Ti().compileDirectiveDeclaration(ps,`ng:///${o.type.name}/\u0275fac.js`,o)}function Cb(o){nI(o.type,o.decorators,o.ctorParameters??null,o.propDecorators??null)}function Rp(o){return Ti().compileComponentDeclaration(ps,`ng:///${o.type.name}/\u0275cmp.js`,o)}function zk(o){return Ti(function Ib(o){switch(o){case Si.Directive:return"directive";case Si.Component:return"component";case Si.Injectable:return"injectable";case Si.Pipe:return"pipe";case Si.NgModule:return"NgModule"}}(o.target)).compileFactoryDeclaration(ps,`ng:///${o.type.name}/\u0275fac.js`,o)}function Wk(o){return Ti().compileInjectableDeclaration(ps,`ng:///${o.type.name}/\u0275prov.js`,o)}function Gk(o){return Ti().compileInjectorDeclaration(ps,`ng:///${o.type.name}/\u0275inj.js`,o)}function Kk(o){return Ti().compileNgModuleDeclaration(ps,`ng:///${o.type.name}/\u0275mod.js`,o)}function ms(o){return Ti().compilePipeDeclaration(ps,`ng:///${o.type.name}/\u0275pipe.js`,o)}function a_(o,a){const c=ae(o),d=a.elementInjector||th();return new mh(c).create(d,a.projectableNodes,a.hostElement,a.environmentInjector)}function gs(o){const a=ae(o);if(!a)return null;const c=new mh(a);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return a.standalone}}}},3942:(Ue,he,k)=>{"use strict";k.d(he,{Z:()=>Se});var D=k(2090),l=k(4859),F=k(9681),Q=k(1877);class ne{constructor(xe,ke){this._delegate=xe,this.firebase=ke,(0,F._addComponent)(xe,new l.wA("app-compat",()=>this,"PUBLIC")),this.container=xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this._delegate.automaticDataCollectionEnabled=xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xe=>{this._delegate.checkDestroyed(),xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(xe,ke=F._DEFAULT_ENTRY_NAME){var ht;this._delegate.checkDestroyed();const wt=this._delegate.container.getProvider(xe);return!wt.isInitialized()&&"EXPLICIT"===(null===(ht=wt.getComponent())||void 0===ht?void 0:ht.instantiationMode)&&wt.initialize(),wt.getImmediate({identifier:ke})}_removeServiceInstance(xe,ke=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xe).clearInstance(ke)}_addComponent(xe){(0,F._addComponent)(this._delegate,xe)}_addOrOverwriteComponent(xe){(0,F._addOrOverwriteComponent)(this._delegate,xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const G=new D.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function Y(){const Ae=function j(Ae){const xe={},ke={__esModule:!0,initializeApp:function jt(Vt,Ye={}){const $e=F.initializeApp(Vt,Ye);if((0,D.r3)(xe,$e.name))return xe[$e.name];const rt=new Ae($e,ke);return xe[$e.name]=rt,rt},app:wt,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Ut(Vt){const Ye=Vt.name,$e=Ye.replace("-compat","");if(F._registerComponent(Vt)&&"PUBLIC"===Vt.type){const rt=(Ot=wt())=>{if("function"!=typeof Ot[$e])throw G.create("invalid-app-argument",{appName:Ye});return Ot[$e]()};void 0!==Vt.serviceProps&&(0,D.ZB)(rt,Vt.serviceProps),ke[$e]=rt,Ae.prototype[$e]=function(...Ot){return this._getService.bind(this,Ye).apply(this,Vt.multipleInstances?Ot:[])}}return"PUBLIC"===Vt.type?ke[$e]:null},removeApp:function ht(Vt){delete xe[Vt]},useAsService:function Xn(Vt,Ye){return"serverAuth"===Ye?null:Ye},modularAPIs:F}};function wt(Vt){if(!(0,D.r3)(xe,Vt=Vt||F._DEFAULT_ENTRY_NAME))throw G.create("no-app",{appName:Vt});return xe[Vt]}return ke.default=ke,Object.defineProperty(ke,"apps",{get:function fn(){return Object.keys(xe).map(Vt=>xe[Vt])}}),wt.App=Ae,ke}(ne);return Ae.INTERNAL=Object.assign(Object.assign({},Ae.INTERNAL),{createFirebaseNamespace:Y,extendNamespace:function xe(ke){(0,D.ZB)(Ae,ke)},createSubscribe:D.ne,ErrorFactory:D.LL,deepExtend:D.ZB}),Ae}(),K=new Q.Yd("@firebase/app-compat");if((0,D.jU)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ae=self.firebase.SDK_VERSION;Ae&&Ae.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Se=V;!function Ee(Ae){(0,F.registerVersion)("@firebase/app-compat","0.1.30",Ae)}()},9681:(Ue,he,k)=>{"use strict";k.r(he),k.d(he,{FirebaseError:()=>Q.ZR,SDK_VERSION:()=>Di,_DEFAULT_ENTRY_NAME:()=>Fn,_addComponent:()=>cr,_addOrOverwriteComponent:()=>Ln,_apps:()=>lr,_clearComponents:()=>Qi,_components:()=>Bi,_getProvider:()=>Zi,_registerComponent:()=>yi,_removeServiceInstance:()=>Yn,deleteApp:()=>gt,getApp:()=>We,getApps:()=>fi,initializeApp:()=>zi,onLog:()=>cn,registerVersion:()=>yn,setLogLevel:()=>Ai});var D=k(5861),l=k(4859),F=k(1877),Q=k(2090),ne=k(8766);class U{constructor(pe){this.container=pe}getPlatformInfoString(){return this.container.getProviders().map(me=>{if(function G(oe){return"VERSION"===oe.getComponent()?.type}(me)){const He=me.getImmediate();return`${He.library}/${He.version}`}return null}).filter(me=>me).join(" ")}}const j="@firebase/app",Y="0.7.29",V=new F.Yd("@firebase/app"),Fn="[DEFAULT]",Kt={[j]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},lr=new Map,Bi=new Map;function cr(oe,pe){try{oe.container.addComponent(pe)}catch(me){V.debug(`Component ${pe.name} failed to register with FirebaseApp ${oe.name}`,me)}}function Ln(oe,pe){oe.container.addOrOverwriteComponent(pe)}function yi(oe){const pe=oe.name;if(Bi.has(pe))return V.debug(`There were multiple attempts to register component ${pe}.`),!1;Bi.set(pe,oe);for(const me of lr.values())cr(me,oe);return!0}function Zi(oe,pe){const me=oe.container.getProvider("heartbeat").getImmediate({optional:!0});return me&&me.triggerHeartbeat(),oe.container.getProvider(pe)}function Yn(oe,pe,me=Fn){Zi(oe,pe).clearInstance(me)}function Qi(){Bi.clear()}const Vn=new Q.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class vs{constructor(pe,me,He){this._isDeleted=!1,this._options=Object.assign({},pe),this._config=Object.assign({},me),this._name=me.name,this._automaticDataCollectionEnabled=me.automaticDataCollectionEnabled,this._container=He,this.container.addComponent(new l.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(pe){this._isDeleted=pe}checkDestroyed(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}const Di="9.9.1";function zi(oe,pe={}){"object"!=typeof pe&&(pe={name:pe});const me=Object.assign({name:Fn,automaticDataCollectionEnabled:!1},pe),He=me.name;if("string"!=typeof He||!He)throw Vn.create("bad-app-name",{appName:String(He)});const ot=lr.get(He);if(ot){if((0,Q.vZ)(oe,ot.options)&&(0,Q.vZ)(me,ot.config))return ot;throw Vn.create("duplicate-app",{appName:He})}const xt=new l.H0(He);for(const xn of Bi.values())xt.addComponent(xn);const Tn=new vs(oe,me,xt);return lr.set(He,Tn),Tn}function We(oe=Fn){const pe=lr.get(oe);if(!pe)throw Vn.create("no-app",{appName:oe});return pe}function fi(){return Array.from(lr.values())}function gt(oe){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,D.Z)(function*(oe){const pe=oe.name;lr.has(pe)&&(lr.delete(pe),yield Promise.all(oe.container.getProviders().map(me=>me.delete())),oe.isDeleted=!0)})).apply(this,arguments)}function yn(oe,pe,me){var He;let ot=null!==(He=Kt[oe])&&void 0!==He?He:oe;me&&(ot+=`-${me}`);const xt=ot.match(/\s|\//),Tn=pe.match(/\s|\//);if(xt||Tn){const xn=[`Unable to register library "${ot}" with version "${pe}":`];return xt&&xn.push(`library name "${ot}" contains illegal characters (whitespace or "/")`),xt&&Tn&&xn.push("and"),Tn&&xn.push(`version name "${pe}" contains illegal characters (whitespace or "/")`),void V.warn(xn.join(" "))}yi(new l.wA(`${ot}-version`,()=>({library:ot,version:pe}),"VERSION"))}function cn(oe,pe){if(null!==oe&&"function"!=typeof oe)throw Vn.create("invalid-log-argument");(0,F.Am)(oe,pe)}function Ai(oe){(0,F.Ub)(oe)}const Gn="firebase-heartbeat-store";let vn=null;function es(){return vn||(vn=(0,ne.X3)("firebase-heartbeat-database",1,{upgrade:(oe,pe)=>{0===pe&&oe.createObjectStore(Gn)}}).catch(oe=>{throw Vn.create("storage-open",{originalErrorMessage:oe.message})})),vn}function nt(){return(nt=(0,D.Z)(function*(oe){var pe;try{return(yield es()).transaction(Gn).objectStore(Gn).get(vi(oe))}catch(me){throw Vn.create("storage-get",{originalErrorMessage:null===(pe=me)||void 0===pe?void 0:pe.message})}})).apply(this,arguments)}function St(oe,pe){return yr.apply(this,arguments)}function yr(){return(yr=(0,D.Z)(function*(oe,pe){var me;try{const ot=(yield es()).transaction(Gn,"readwrite");return yield ot.objectStore(Gn).put(pe,vi(oe)),ot.done}catch(He){throw Vn.create("storage-set",{originalErrorMessage:null===(me=He)||void 0===me?void 0:me.message})}})).apply(this,arguments)}function vi(oe){return`${oe.name}!${oe.options.appId}`}class li{constructor(pe){this.container=pe,this._heartbeatsCache=null;const me=this.container.getProvider("app").getImmediate();this._storage=new Jn(me),this._heartbeatsCachePromise=this._storage.read().then(He=>(this._heartbeatsCache=He,He))}triggerHeartbeat(){var pe=this;return(0,D.Z)(function*(){const He=pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ot=Kn();if(null===pe._heartbeatsCache&&(pe._heartbeatsCache=yield pe._heartbeatsCachePromise),pe._heartbeatsCache.lastSentHeartbeatDate!==ot&&!pe._heartbeatsCache.heartbeats.some(xt=>xt.date===ot))return pe._heartbeatsCache.heartbeats.push({date:ot,agent:He}),pe._heartbeatsCache.heartbeats=pe._heartbeatsCache.heartbeats.filter(xt=>{const Tn=new Date(xt.date).valueOf();return Date.now()-Tn<=2592e6}),pe._storage.overwrite(pe._heartbeatsCache)})()}getHeartbeatsHeader(){var pe=this;return(0,D.Z)(function*(){if(null===pe._heartbeatsCache&&(yield pe._heartbeatsCachePromise),null===pe._heartbeatsCache||0===pe._heartbeatsCache.heartbeats.length)return"";const me=Kn(),{heartbeatsToSend:He,unsentEntries:ot}=function un(oe,pe=1024){const me=[];let He=oe.slice();for(const ot of oe){const xt=me.find(Tn=>Tn.agent===ot.agent);if(xt){if(xt.dates.push(ot.date),ce(me)>pe){xt.dates.pop();break}}else if(me.push({agent:ot.agent,dates:[ot.date]}),ce(me)>pe){me.pop();break}He=He.slice(1)}return{heartbeatsToSend:me,unsentEntries:He}}(pe._heartbeatsCache.heartbeats),xt=(0,Q.L)(JSON.stringify({version:2,heartbeats:He}));return pe._heartbeatsCache.lastSentHeartbeatDate=me,ot.length>0?(pe._heartbeatsCache.heartbeats=ot,yield pe._storage.overwrite(pe._heartbeatsCache)):(pe._heartbeatsCache.heartbeats=[],pe._storage.overwrite(pe._heartbeatsCache)),xt})()}}function Kn(){return(new Date).toISOString().substring(0,10)}class Jn{constructor(pe){this.app=pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,D.Z)(function*(){return!!(0,Q.hl)()&&(0,Q.eu)().then(()=>!0).catch(()=>!1)})()}read(){var pe=this;return(0,D.Z)(function*(){return(yield pe._canUseIndexedDBPromise)&&(yield function Xt(oe){return nt.apply(this,arguments)}(pe.app))||{heartbeats:[]}})()}overwrite(pe){var me=this;return(0,D.Z)(function*(){var He;if(yield me._canUseIndexedDBPromise){const xt=yield me.read();return St(me.app,{lastSentHeartbeatDate:null!==(He=pe.lastSentHeartbeatDate)&&void 0!==He?He:xt.lastSentHeartbeatDate,heartbeats:pe.heartbeats})}})()}add(pe){var me=this;return(0,D.Z)(function*(){var He;if(yield me._canUseIndexedDBPromise){const xt=yield me.read();return St(me.app,{lastSentHeartbeatDate:null!==(He=pe.lastSentHeartbeatDate)&&void 0!==He?He:xt.lastSentHeartbeatDate,heartbeats:[...xt.heartbeats,...pe.heartbeats]})}})()}}function ce(oe){return(0,Q.L)(JSON.stringify({version:2,heartbeats:oe})).length}!function ue(oe){yi(new l.wA("platform-logger",pe=>new U(pe),"PRIVATE")),yi(new l.wA("heartbeat",pe=>new li(pe),"PRIVATE")),yn(j,Y,oe),yn(j,Y,"esm2017"),yn("fire-js","")}("")},4859:(Ue,he,k)=>{"use strict";k.d(he,{H0:()=>j,wA:()=>F,zt:()=>ne});var D=k(5861),l=k(2090);class F{constructor(V,K,J){this.name=V,this.instanceFactory=K,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const Q="[DEFAULT]";class ne{constructor(V,K){this.name=V,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const K=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(K)){const J=new l.BH;if(this.instancesDeferred.set(K,J),this.isInitialized(K)||this.shouldAutoInitialize())try{const ge=this.getOrInitializeService({instanceIdentifier:K});ge&&J.resolve(ge)}catch{}}return this.instancesDeferred.get(K).promise}getImmediate(V){var K;const J=this.normalizeInstanceIdentifier(V?.identifier),ge=null!==(K=V?.optional)&&void 0!==K&&K;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Ee){if(ge)return null;throw Ee}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function G(Y){return"EAGER"===Y.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:Q})}catch{}for(const[K,J]of this.instancesDeferred.entries()){const ge=this.normalizeInstanceIdentifier(K);try{const Ee=this.getOrInitializeService({instanceIdentifier:ge});J.resolve(Ee)}catch{}}}}clearInstance(V=Q){this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}delete(){var V=this;return(0,D.Z)(function*(){const K=Array.from(V.instances.values());yield Promise.all([...K.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...K.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(V=Q){return this.instances.has(V)}getOptions(V=Q){return this.instancesOptions.get(V)||{}}initialize(V={}){const{options:K={}}=V,J=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ge=this.getOrInitializeService({instanceIdentifier:J,options:K});for(const[Ee,Se]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Ee)&&Se.resolve(ge);return ge}onInit(V,K){var J;const ge=this.normalizeInstanceIdentifier(K),Ee=null!==(J=this.onInitCallbacks.get(ge))&&void 0!==J?J:new Set;Ee.add(V),this.onInitCallbacks.set(ge,Ee);const Se=this.instances.get(ge);return Se&&V(Se,ge),()=>{Ee.delete(V)}}invokeOnInitCallbacks(V,K){const J=this.onInitCallbacks.get(K);if(J)for(const ge of J)try{ge(V,K)}catch{}}getOrInitializeService({instanceIdentifier:V,options:K={}}){let J=this.instances.get(V);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(Y=V,Y===Q?void 0:Y),options:K}),this.instances.set(V,J),this.instancesOptions.set(V,K),this.invokeOnInitCallbacks(J,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,J)}catch{}var Y;return J||null}normalizeInstanceIdentifier(V=Q){return this.component?this.component.multipleInstances?V:Q:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class j{constructor(V){this.name=V,this.providers=new Map}addComponent(V){const K=this.getProvider(V.name);if(K.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);K.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const K=new ne(V,this);return this.providers.set(V,K),K}getProviders(){return Array.from(this.providers.values())}}},1877:(Ue,he,k)=>{"use strict";k.d(he,{Am:()=>Y,Ub:()=>j,Yd:()=>G,in:()=>l});const D=[];var l=(()=>{return(V=l||(l={}))[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",l;var V})();const F={debug:l.DEBUG,verbose:l.VERBOSE,info:l.INFO,warn:l.WARN,error:l.ERROR,silent:l.SILENT},Q=l.INFO,ne={[l.DEBUG]:"log",[l.VERBOSE]:"log",[l.INFO]:"info",[l.WARN]:"warn",[l.ERROR]:"error"},U=(V,K,...J)=>{if(K<V.logLevel)return;const ge=(new Date).toISOString(),Ee=ne[K];if(!Ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${K})`);console[Ee](`[${ge}]  ${V.name}:`,...J)};class G{constructor(K){this.name=K,this._logLevel=Q,this._logHandler=U,this._userLogHandler=null,D.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in l))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"==typeof K?F[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...K){this._userLogHandler&&this._userLogHandler(this,l.DEBUG,...K),this._logHandler(this,l.DEBUG,...K)}log(...K){this._userLogHandler&&this._userLogHandler(this,l.VERBOSE,...K),this._logHandler(this,l.VERBOSE,...K)}info(...K){this._userLogHandler&&this._userLogHandler(this,l.INFO,...K),this._logHandler(this,l.INFO,...K)}warn(...K){this._userLogHandler&&this._userLogHandler(this,l.WARN,...K),this._logHandler(this,l.WARN,...K)}error(...K){this._userLogHandler&&this._userLogHandler(this,l.ERROR,...K),this._logHandler(this,l.ERROR,...K)}}function j(V){D.forEach(K=>{K.setLogLevel(V)})}function Y(V,K){for(const J of D){let ge=null;K&&K.level&&(ge=F[K.level]),J.userLogHandler=null===V?null:(Ee,Se,...Ae)=>{const xe=Ae.map(ke=>{if(null==ke)return null;if("string"==typeof ke)return ke;if("number"==typeof ke||"boolean"==typeof ke)return ke.toString();if(ke instanceof Error)return ke.message;try{return JSON.stringify(ke)}catch{return null}}).filter(ke=>ke).join(" ");Se>=(ge??Ee.logLevel)&&V({level:l[Se].toLowerCase(),message:xe,args:Ae,type:Ee.name})}}}},8766:(Ue,he,k)=>{"use strict";k.d(he,{Lj:()=>jt,X3:()=>wt});var D=k(5861);let F,Q;const G=new WeakMap,j=new WeakMap,Y=new WeakMap,V=new WeakMap,K=new WeakMap;let Ee={get(Ye,$e,rt){if(Ye instanceof IDBTransaction){if("done"===$e)return j.get(Ye);if("objectStoreNames"===$e)return Ye.objectStoreNames||Y.get(Ye);if("store"===$e)return rt.objectStoreNames[1]?void 0:rt.objectStore(rt.objectStoreNames[0])}return ke(Ye[$e])},set:(Ye,$e,rt)=>(Ye[$e]=rt,!0),has:(Ye,$e)=>Ye instanceof IDBTransaction&&("done"===$e||"store"===$e)||$e in Ye};function xe(Ye){return"function"==typeof Ye?function Ae(Ye){return Ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function U(){return Q||(Q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ye)?function(...$e){return Ye.apply(ht(this),$e),ke(G.get(this))}:function(...$e){return ke(Ye.apply(ht(this),$e))}:function($e,...rt){const Ot=Ye.call(ht(this),$e,...rt);return Y.set(Ot,$e.sort?$e.sort():[$e]),ke(Ot)}}(Ye):(Ye instanceof IDBTransaction&&function ge(Ye){if(j.has(Ye))return;const $e=new Promise((rt,Ot)=>{const bt=()=>{Ye.removeEventListener("complete",kt),Ye.removeEventListener("error",tt),Ye.removeEventListener("abort",tt)},kt=()=>{rt(),bt()},tt=()=>{Ot(Ye.error||new DOMException("AbortError","AbortError")),bt()};Ye.addEventListener("complete",kt),Ye.addEventListener("error",tt),Ye.addEventListener("abort",tt)});j.set(Ye,$e)}(Ye),((Ye,$e)=>$e.some(rt=>Ye instanceof rt))(Ye,function ne(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ye,Ee):Ye)}function ke(Ye){if(Ye instanceof IDBRequest)return function J(Ye){const $e=new Promise((rt,Ot)=>{const bt=()=>{Ye.removeEventListener("success",kt),Ye.removeEventListener("error",tt)},kt=()=>{rt(ke(Ye.result)),bt()},tt=()=>{Ot(Ye.error),bt()};Ye.addEventListener("success",kt),Ye.addEventListener("error",tt)});return $e.then(rt=>{rt instanceof IDBCursor&&G.set(rt,Ye)}).catch(()=>{}),K.set($e,Ye),$e}(Ye);if(V.has(Ye))return V.get(Ye);const $e=xe(Ye);return $e!==Ye&&(V.set(Ye,$e),K.set($e,Ye)),$e}const ht=Ye=>K.get(Ye);function wt(Ye,$e,{blocked:rt,upgrade:Ot,blocking:bt,terminated:kt}={}){const tt=indexedDB.open(Ye,$e),ln=ke(tt);return Ot&&tt.addEventListener("upgradeneeded",_i=>{Ot(ke(tt.result),_i.oldVersion,_i.newVersion,ke(tt.transaction))}),rt&&tt.addEventListener("blocked",()=>rt()),ln.then(_i=>{kt&&_i.addEventListener("close",()=>kt()),bt&&_i.addEventListener("versionchange",()=>bt())}).catch(()=>{}),ln}function jt(Ye,{blocked:$e}={}){const rt=indexedDB.deleteDatabase(Ye);return $e&&rt.addEventListener("blocked",()=>$e()),ke(rt).then(()=>{})}const fn=["get","getKey","getAll","getAllKeys","count"],Ut=["put","add","delete","clear"],Xn=new Map;function Vt(Ye,$e){if(!(Ye instanceof IDBDatabase)||$e in Ye||"string"!=typeof $e)return;if(Xn.get($e))return Xn.get($e);const rt=$e.replace(/FromIndex$/,""),Ot=$e!==rt,bt=Ut.includes(rt);if(!(rt in(Ot?IDBIndex:IDBObjectStore).prototype)||!bt&&!fn.includes(rt))return;const kt=function(){var tt=(0,D.Z)(function*(ln,..._i){const Tr=this.transaction(ln,bt?"readwrite":"readonly");let Fn=Tr.store;return Ot&&(Fn=Fn.index(_i.shift())),(yield Promise.all([Fn[rt](..._i),bt&&Tr.done]))[0]});return function(_i){return tt.apply(this,arguments)}}();return Xn.set($e,kt),kt}!function Se(Ye){Ee=Ye(Ee)}(Ye=>({...Ye,get:($e,rt,Ot)=>Vt($e,rt)||Ye.get($e,rt,Ot),has:($e,rt)=>!!Vt($e,rt)||Ye.has($e,rt)}))},5861:(Ue,he,k)=>{"use strict";function D(F,Q,ne,U,G,j,Y){try{var V=F[j](Y),K=V.value}catch(J){return void ne(J)}V.done?Q(K):Promise.resolve(K).then(U,G)}function l(F){return function(){var Q=this,ne=arguments;return new Promise(function(U,G){var j=F.apply(Q,ne);function Y(K){D(j,U,G,Y,V,"next",K)}function V(K){D(j,U,G,Y,V,"throw",K)}Y(void 0)})}}k.d(he,{Z:()=>l})}},Ue=>{Ue(Ue.s=3825)}]);